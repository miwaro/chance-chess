{"version":3,"sources":["connection/socket.js","redux/actions/actionTypes.js","redux/actions/userActions.js","components/onboard/joingame.js","style/images/leather.jpg","style/images/resignChip.png","style/images/star.png","images/chessLogo5.png","components/Header.js","audio/capture.mp3","redux/actions/cardActions.js","style/images/joker.png","style/images/heart.png","style/images/diamond.png","style/images/club.png","style/images/spade.png","style/images/chessPieces/red/redPawn.png","style/images/chessPieces/red/redRook.png","style/images/chessPieces/red/redKnight.png","style/images/chessPieces/red/redBishop.png","style/images/chessPieces/red/redQueen.png","style/images/chessPieces/red/redKing.png","style/images/chessPieces/black/blackPawn.png","style/images/chessPieces/black/blackRook.png","style/images/chessPieces/black/blackKnight.png","style/images/chessPieces/black/blackBishop.png","style/images/chessPieces/black/blackQueen.png","style/images/chessPieces/black/blackKing.png","components/Card.jsx","components/Players/Player2CardContainer.js","components/Players/Player1CardContainer.js","components/StartDialog.js","components/GameOverDialog.js","components/Chessboard/helpers.js","components/Chessboard/Piece.js","components/Chessboard/Square.js","components/Chessboard/Notation.js","components/Chessboard/PhantomPiece.js","components/Chessboard/Row.js","components/Chessboard/Board.js","components/Chessboard/SparePieces.js","components/Chessboard/CustomDragLayer.js","components/Chessboard/svg/chesspieces/standard.js","components/Chessboard/svg/whiteKing.js","components/Chessboard/ErrorBoundary.js","components/Chessboard/index.js","components/Chess.js","components/HumanVsHuman.js","components/CaptureSidebar.js","style/images/chessPieces/white/pawn.png","style/images/chessPieces/white/knight.png","style/images/chessPieces/white/bishop.png","style/images/chessPieces/white/rook.png","style/images/chessPieces/white/queen.png","style/images/chessPieces/white/king.png","components/Game.js","components/correlationKey.js","style/images/key.png","components/keySidebar.js","components/Rules.js","components/RulesSidebar.js","style/images/rulesChip.png","Modals/comboModal.js","components/Home.js","style/images/AddIcon.png","components/onboard/joinroom.js","context/colorcontext.js","components/onboard/onboard.js","App.js","utils/DeckArray.js","redux/reducers/chanceChessReducer.js","redux/store.js","redux/reducers/usersReducer.js","redux/reducers/rootReducer.js","reportWebVitals.ts","index.tsx","config/config.js"],"names":["mySocketId","URL","config","apiUrl","socket","io","on","statusUpdate","UPDATE_GAME","UPDATE_GAME_IF_STALE","UPDATE_USERS","SET_PLAYER_ONE","SET_PLAYER_TWO","JOIN_GAME","UPDATE_FEN","GET_CARD","GET_PLAYER2_CARD","SET_CARD","SET_PLAYER2_CARD","SELECT_CARD","SELECT_ALL","REMOVE_SELECTED_CARD","DISCARD_ALL_P1_CARDS","DISCARD_ALL_P2_CARDS","SHUFFLE","SHUFFLE_ON_MOUNT","CHANGE_TURN","SET_CAPTURED_PIECES","GAME_OVER","NEW_GAME","SET_ANIMATE_CARDS","TOGGLE_COMBO","updateUsers","state","type","actionTypes","require","connect","dispatch","onJoinGame","username","isCreator","gameId","joinGame","props","useParams","useQueryParam","StringParam","creator","setCreator","localStorage","setItem","userName","emit","idData","JoinGameRoom","Header","className","src","logo","alt","updateGame","getCard","getPlayer2Card","changeTurn","removeSelectedCard","selectedCardIndex","discardAllP1Cards","discardAllP2Cards","gameOver","winner","setAnimateCards","animateCards","player1Cards","chanceChessReducer","player2Cards","playerOne","usersReducer","playerTwo","whiteToMove","selectedCard","cardsArray","allSelected","isACombo","onSelectCard","card","cardIndex","cardValue","selectCard","onRemoveSelected","onChangeTurn","onGetCard","onGetCardForPlayer2","bool","onToggleCombo","suits","front","color","cardPiece","allCardsSelected","animationCount","isFromDeck","useState","setClassName","selectedClassName","setSelectedClassName","useEffect","isMyTurn","playerNumber","animate","blockAnimation","updatedClassName","disabled","getSelectedCard","discardOne","length","player1Suits","map","player2Suits","symbol_Style","every","val","i","arr","isAStraight","p1","p2","p1Card","p2Card","ace","indexOf","jack","queen","king","blackAce","blackJack","blackQueen","blackKing","straight","sort","a","b","Number","diff","total","reduce","Math","abs","includes","straight2","diff2","cardSymbol","symbol","diamond","heart","club","spade","getCardSymbol","redChessPiece","piece","redPawn","redRook","redKnight","redBishop","redQueen","redKing","getRedChessPiece","blackChessPiece","blackPawn","blackRook","blackKnight","blackBishop","blackQueenImg","blackKingImg","getBlackChessPiece","straight_Style","straight_Style2","style","onClick","position","top","right","padding","border","cursor","borderRadius","bottom","left","maxWidth","height","transform","joker","width","opacity","backgroundImage","backCardImg","backgroundColor","newBoard","cards","setCards","newCard","newCards","oldCards","find","oldCard","index","disableControls","noTransition","correspondingPiece","uuidv4","StartDialog","url","open","Dialog","aria-labelledby","DialogTitle","id","margin","marginBottom","paddingBottom","fontSize","DialogContent","DialogContentText","DialogActions","Button","navigator","clipboard","writeText","GameOverDialog","message","newGame","ItemTypes","COLUMNS","split","isString","s","fenToObj","fen","validFen","rows","replace","currentRow","row","colIdx","j","search","parseInt","fenToPieceCode","chunks","expandFenEmptySquares","toLowerCase","toUpperCase","validPositionObject","pos","hasOwnProperty","square","code","renderChessPiece","dropTarget","targetSquare","waitForTransition","getSquareCoordinates","pieces","transitionDuration","isDragging","hoveredSquare","sourceSquare","onPieceClick","allowDrag","customDragLayerStyles","phantomPieceStyles","renderChessPieceArgs","squareWidth","droppedPiece","target","source","data-testid","pieceStyles","getTranslation","viewBox","Piece","nextProps","this","window","addEventListener","setTouchState","connectDragPreview","getEmptyImage","captureDraggingState","removeEventListener","connectDragSource","Component","DragSource","canDrag","draggable","beginDrag","board","endDrag","monitor","setPosition","dropOffBoard","onDrop","wasManuallyDropped","wasSquareClicked","dropResults","getDropResult","didDrop","getItem","dragSource","dragPreview","isActivePiece","transitionCoordinates","sourceSq","targetSq","x","y","getTransitionCoordinates","transition","zIndex","Square","onSquareClick","setSquareCoordinates","roughSquare","squareElement","roughSquareSvg","getBoundingClientRect","prevProps","screenWidth","screenHeight","connectDropTarget","squareColor","children","onMouseOverSquare","onMouseOutSquare","squareStyles","onDragOverSquare","onSquareRightClick","data-squareid","ref","defaultSquareStyle","onMouseOver","onMouseOut","onDragEnter","onContextMenu","e","preventDefault","size","center","display","DropTarget","drop","isOver","darkSquareStyle","lightSquareStyle","dropSquareStyle","justifyContent","getRow","orientation","getColumn","alpha","col","Notation","whiteColor","blackColor","isRow","isColumn","isBottomLeftSquare","notationStyle","numericStyle","alphaStyle","renderBottomLeft","columnStyle","renderLetters","rowStyle","renderNumbers","PureComponent","alignSelf","paddingLeft","paddingRight","fontFamily","PhantomPiece","phantomPieceValue","propTypes","PropTypes","number","string","object","func","Row","boardStyle","boardId","boardStyles","data-boardid","Array","_","r","rowStyles","toString","flexWrap","Board","setState","showPhantom","phantomPiece","hasPiece","currentPosition","Object","keys","Consumer","context","showNotation","SparePieces","getOrientation","spares","spareStyles","p","sourcePiece","manualDrop","Top","Bottom","CustomDragLayer","item","currentOffset","wasPieceTouched","console","log","layerStyles","getItemStyle","DragLayer","getSourceClientOffset","pointerEvents","wP","xmlns","version","d","fill","fillOpacity","fillRule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeOpacity","wR","wN","wB","wQ","wK","bP","bR","bN","bB","bQ","cx","cy","bK","whiteKing","shapeRendering","textRendering","imageRendering","clipRule","ErrorBoundary","hasError","error","container","whiteKingStyle","alignItems","flexDirection","ChessboardContext","React","createContext","getPositionObject","Chessboard","previousPositionFromProps","squareClicked","firstMove","defaultPieces","undoMove","undo","updateWindowDimensions","innerWidth","innerHeight","getPosition","newPosition","isTrusted","getWidth","calcWidth","positionFromProps","isEqual","Promise","resolve","setTimeout","then","sparePieces","getScreenDimensions","Provider","value","difference","squaresAffected","kind","path","lhs","rhs","constructPositionAttributes","defaultProps","boxShadow","DragDropContext","MultiBackend","HTML5toTouch","Chess","BLACK","WHITE","EMPTY","PAWN","BISHOP","KING","DEFAULT_POSITION","POSSIBLE_RESULTS","PAWN_OFFSETS","w","PIECE_OFFSETS","n","q","k","ATTACKS","RAYS","SHIFTS","FLAGS","NORMAL","CAPTURE","BIG_PAWN","EP_CAPTURE","PROMOTION","KSIDE_CASTLE","QSIDE_CASTLE","BITS","SQUARES","a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1","ROOKS","flag","kings","turn","castling","ep_square","half_moves","move_number","history","header","comments","clear","keep_headers","update_setup","generate_fen","prune_comments","reversed_history","current_comments","copy_comment","push","undo_move","make_move","pop","reset","load","tokens","validate_fen","valid","charAt","put","algebraic","errors","error_number","isNaN","test","sum_fields","previous_was_number","empty","cflags","epflags","join","set_header","args","get","sq","build_move","from","to","flags","promotion","move","captured","generate_moves","options","add_move","moves","rank","len","us","them","swap_color","second_rank","first_sq","last_sq","single_square","legal","offset","castling_to","castling_from","attacked","legal_moves","move_to_san","sloppy","output","disambiguator","ambiguities","same_rank","same_file","ambig_from","ambig_to","file","get_disambiguator","in_check","in_checkmate","stripped_san","blocked","king_attacked","in_stalemate","insufficient_material","bishops","num_pieces","sq_color","sum","in_threefold_repetition","positions","repetition","slice","old","move_from_san","clean_move","matches","match","f","substring","c","make_pretty","ugly_move","clone","san","obj","dupe","property","trim","str","perft","depth","nodes","KNIGHT","ROOK","QUEEN","ugly_moves","verbose","in_draw","game_over","pgn","newline","newline_char","max_width","result","header_exists","append_comment","move_string","comment","delimiter","Result","strip","wrap_comment","token","current_width","load_pgn","mask","header_regex","RegExp","header_string","exec","headers","header_obj","key","parse_pgn_header","encode_comment","charCodeAt","encodeURIComponent","to_hex","decode_comment","startsWith","endsWith","decodeURIComponent","from_hex","ms","bracket","semicolon","undefined","rav_regex","half_move","has_keys","arguments","ascii","move_obj","pretty_move","remove","square_color","sq_0x88","move_history","get_comment","set_comment","delete_comment","get_comments","delete_comments","exports","HumanVsHuman","playSound","audioFile","play","set_turn","chess","condenseFen","onDragStart","chessPiece","column","isAllSelected","clubs","suit","diamonds","spades","hearts","clubs2","diamonds2","spades2","hearts2","isTheSame","isTheSame2","cardLength","selected","game","onUpdateFen","moveAudio","Audio","moveSound","onDiscardAllCardsP1","onSelectAll","onDiscardAllCardsP2","entries","acc","piecesCaptured","setCapturedPieces","onShuffle","newBoard2","capturedPieces","updateFen","CaptureSidebar","W","B","whitePieces","values","blackPieces","pawn","whitePawns","numOfPawns","splice","blackPawns","numOfBlackPawns","whiteKnight","whiteKnights","numOfKnights","blackKnights","numOfBlackKnights","whiteBishop","whiteBishops","numOfBishops","blackBishops","numOfBlackBishops","whiteRook","whiteRooks","numOfRooks","blackRooks","numOfBlackRooks","whiteQueen","whiteQueens","numOfQueens","blackQueens","numOfBlackQueens","whiteKings","numOfKings","blackKings","numOfBlackKings","blackPawnImg","blackKnightImg","blackBishopImg","blackRookImg","correlationKey","textAlign","background","marginTop","KeySidebar","handleClose","child","anchor","role","toggleDrawer","event","SwipeableDrawer","onClose","onOpen","Rules","RulesSidebar","setOpen","Box","sx","Collapse","in","action","IconButton","aria-label","mb","variant","chanceChessState","usersState","fullDeck","numPlayers","p1Cards","p2Cards","p1CardsIndexes","p2CardsIndexes","updateGameIfStale","setPlayerOne","setPlayerTwo","setCard","setPlayer2Card","setWhiteToMove","removeAllListeners","gameState","nextWhiteToMove","currentState","deepEquals","userState","newState","JSON","stringify","alert","getOwnUsername","getOpponentUsername","myTurn","opponentTurn","resign","confirm","onDrawCards","extraCard","unshift","Tooltip","title","placement","fontWeight","shuffle","star","paddingTop","backgroundSize","marginLeft","resignChip","textDecoration","href","rel","JoinRoom","didGetUserName","inputText","isPlayerOne","didRefresh","typingUserName","typedText","textArea","current","onFormSubmit","createRef","params","parse","myUserName","Fragment","onSubmit","minLength","maxLength","autoFocus","onInput","withRouter","ColorContext","didRedirect","playerDidRedirect","playerDidNotRedirect","CreateNewGame","send","newGameRoomId","uuid","setUserName","String","Onboard","useContext","setDidRedirect","useCallback","ReactRouterRoute","Route","exact","deckArray","correspondingFile","initialState","lastUpdated","Date","now","hasChanged","reducer","deck","newDeck","player1CardsIndex","filter","player2CardsIndex","p1CardIndexes","p2CardIndexes","shuffledDeck","floor","random","temp","incomingPlayerOne","currentPlayerOne","incomingPlayerTwo","currentPlayerTwo","rootReducer","combineReducers","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StoreInstance","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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AG,EAAG,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAChD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAC3D,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAChD,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAChD,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAI5CC,EAAO,CACP,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAChD,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAChD,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,E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E72B,MAAO,QACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,IACPG,mBAAoB,IACpB4vB,kBAAmB,KAIrB,CACE72B,MAAO,QACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,IACPG,mBAAoB,IACpB4vB,kBAAmB,KAIrB,CACE72B,MAAO,QACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,IACPG,mBAAoB,KAItB,CACEjH,MAAO,QACPV,KAAM,KACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,KAItB,CACEjH,MAAO,QACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,KAEtB,CACEjH,MAAO,QACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,KAEtB,CACEjH,MAAO,QACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,KAEtB,CACEjH,MAAO,UACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,IACpB4vB,kBAAmB,KAErB,CACE72B,MAAO,UACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,IACpB4vB,kBAAmB,KAErB,CACE72B,MAAO,UACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,IACpB4vB,kBAAmB,KAErB,CACE72B,MAAO,UACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,IACpB4vB,kBAAmB,KAErB,CACE72B,MAAO,UACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,IACpB4vB,kBAAmB,KAErB,CACE72B,MAAO,UACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,IACpB4vB,kBAAmB,KAErB,CACE72B,MAAO,UACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,IACpB4vB,kBAAmB,KAErB,CACE72B,MAAO,UACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAoB,IACpB4vB,kBAAmB,KAErB,CACE72B,MAAO,UACPV,KAAM,IACNY,MAAO,MACP4G,MAAO,KACPG,mBAAo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","file":"static/js/main.37ba57db.chunk.js","sourcesContent":["import io from 'socket.io-client'\r\nimport { config } from '../config/config';\r\n\r\nconst URL = config.apiUrl;\r\n\r\nconst socket = io(URL)\r\n\r\nvar mySocketId\r\n// register preliminary event listeners here:\r\n\r\n\r\nsocket.on(\"createNewGame\", statusUpdate => {\r\n    // console.log(\"A new game has been created! Username: \" + statusUpdate.userName + \", Game id: \" + statusUpdate.gameId + \" Socket id: \" + statusUpdate.mySocketId)\r\n    mySocketId = statusUpdate.mySocketId\r\n})\r\n\r\nexport {\r\n    socket,\r\n    mySocketId\r\n}","export const UPDATE_GAME = 'UPDATE_GAME';\nexport const UPDATE_GAME_IF_STALE = 'UPDATE_GAME_IF_STALE';\nexport const UPDATE_USERS = 'UPDATE_USERS';\n\nexport const SET_PLAYER_ONE = 'SET_PLAYER_ONE';\nexport const SET_PLAYER_TWO = 'SET_PLAYER_TWO';\n\nexport const JOIN_GAME = 'JOIN_GAME';\n\nexport const UPDATE_FEN = 'UPDATE_FEN';\n\nexport const GET_CARD = 'GET_CARD';\nexport const GET_PLAYER2_CARD = 'GET_PLAYER2_CARD';\n\nexport const SET_CARD = 'SET_CARD';\nexport const SET_PLAYER2_CARD = 'SET_PLAYER2_CARD';\n\nexport const SELECT_CARD = 'SELECT_CARD';\nexport const SELECT_ALL = 'SELECT_ALL';\n\nexport const REMOVE_SELECTED_CARD = 'REMOVE_SELECTED_CARD';\n\nexport const DISCARD_ONE_CARD = 'DISCARD_ONE_CARD';\n\nexport const DISCARD_ALL_P1_CARDS = 'DISCARD_ALL_P1_CARDS';\nexport const DISCARD_ALL_P2_CARDS = 'DISCARD_ALL_P2_CARDS';\n\n\nexport const SHUFFLE = 'SHUFFLE';\nexport const SHUFFLE_ON_MOUNT = 'SHUFFLE_ON_MOUNT';\n\n\nexport const CHANGE_TURN = 'CHANGE_TURN';\n\nexport const SET_CAPTURED_PIECES = 'SET_CAPTURED_PIECES';\n\nexport const GAME_OVER = 'GAME_OVER';\n\nexport const NEW_GAME = 'NEW_GAME';\n\nexport const SET_ANIMATE_CARDS = 'SET_ANIMATE_CARDS';\n\nexport const TOGGLE_COMBO = 'TOGGLE_COMBO';\n","import * as actionTypes from './actionTypes';\r\n\r\nexport const updateUsers = (state) => {\r\n    return {\r\n        type: actionTypes.UPDATE_USERS,\r\n        state\r\n    };\r\n};\r\n\r\nexport const joinGame = (username, isCreator, gameId) => {\r\n    return {\r\n        type: actionTypes.JOIN_GAME,\r\n        username,\r\n        isCreator,\r\n        gameId\r\n    };\r\n};\r\n\r\nexport const setPlayerOne = (playerOne) => {\r\n  return {\r\n      type: actionTypes.SET_PLAYER_ONE,\r\n      playerOne\r\n  };\r\n};\r\n\r\nexport const setPlayerTwo = (playerTwo) => {\r\n    return {\r\n        type: actionTypes.SET_PLAYER_TWO,\r\n        playerTwo\r\n    };\r\n  };","import { connect } from 'react-redux';\r\nimport { useParams } from 'react-router-dom'\r\nimport { joinGame } from '../../redux/actions/userActions';\r\nimport { useQueryParam, NumberParam, StringParam } from 'use-query-params';\r\nconst socket = require('../../connection/socket').socket\r\n\r\n/**\r\n * 'Join game' is where we actually join the game room. \r\n */\r\n\r\n\r\nconst JoinGameRoom = (gameId, userName, isCreator) => {\r\n    /**\r\n     * For this browser instance, we want \r\n     * to join it to a gameRoom. For now\r\n     * assume that the game room exists \r\n     * on the backend. \r\n     *  \r\n     * \r\n     * TODO: handle the case when the game room doesn't exist. \r\n     */\r\n    const idData = {\r\n        gameId: gameId,\r\n        userName: userName,\r\n        isCreator: isCreator\r\n    }\r\n\r\n    socket.emit(\"playerJoinGame\", idData)\r\n}\r\n\r\nconst JoinGame = (props) => {\r\n    const { gameId } = useParams()\r\n    const [creator, setCreator] = useQueryParam('creator', StringParam);\r\n    if (props.isCreator) {\r\n        localStorage.setItem(gameId, true);\r\n        if (creator !== props.userName) setCreator(props.userName)\r\n    } else {\r\n        socket.emit('player two name', { username: props.userName, gameId });\r\n    }\r\n    props.onJoinGame(props.userName, props.isCreator, gameId);\r\n    JoinGameRoom(gameId, props.userName, props.isCreator)\r\n    return (<div></div>)\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onJoinGame: (username, isCreator, gameId) => dispatch(joinGame(username, isCreator, gameId))\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(JoinGame);\r\n\r\n","export default __webpack_public_path__ + \"static/media/leather.ea07dc51.jpg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAyCAYAAACqNX6+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAUASURBVHhe7ZvfT9tGHMDPP+L8IICTFMQ0rc0etj1B87JpTy3/wZj2D1Q87LFMQkj8CUhoEkLiuUh7mPbGpFaaNqFRdXupNI2pmjQNwgxdkNqtxCRO4tixs+/XPlNCVhpyBmZ2H+LYvruYcJ/73vnHQTgcDofD4XA4HA6H8/9GoOu+WV7+/OZwOpM37YaeU7MFB9Li8Zh6cHCwOT396dd+qdNZWFgYliRJjcdFFfebTVefm5vb9TJ7BI8xMTG+tLW1vTozM/OQJkcOZiHffvPg3vjE+B3Sdki73Sau68IaFtchkiST4s7e6vZOce24HKy8t2+8dSeTy04ODqTyA+lUXlHiqixLRJYkIogiEaGcZbX0/f3Sxv6z5xu1WlObnp7uEry8vHxzbOza1HvvvvOZUa2SRz8+zs/Pzx/S7MjBLOSrL7+YuXX71hIY6BTiYKy0/UICVK8gENO0dRfyZFlWXch3oKyXjV8DXieF4OfhkB1UDEOzmpaOyalUKg8FVMuyid1qkVJpf+2jqU8+9ktGE//vZqDWMHUUgRV6ou66iMcV6JYUr1vql6HBwXwuly3ksplCXImpKNqnTV4clDfoTmRhFmKUK5sCtHrLBh1Bcz4y8zpF/RJI8GLLB35VuXzIhdj4BkIOjYbuJfTAUSUC3vbxhB7wgwLecE0jpN6oa7Ozs794OxGGXYhtayikVCptnFc8nEbg0rJbPTeI/zLMQvCMpmGa+gD07V0jMHJOljAwPBnUiNkwNX8r2jALQVwHT3NdOIuyoJUeM/AaGUHrZiEYRSzb5hESUKnVtHR6IG9UDei+aGLfoXEWTbQshEulUt30d6JNKEJM6LISiqJWjarma3iVjGPpp9R7z0qwIMgQYLFth0dIgNuydAEq2zk1KM7S8nvHdyKQer3Ox5AAvCj3qtu/8O7kfDwAdPSANxzgFYhQLznihCIEB1SvUpLJPE26MFBLMLBfBUKNkJgsX3ArxfCAlyiQTGa4QBMjTShCWnYTIqRNpJh0cUJoUHjxIYi8yzqOZfnXAKlE4uIrBSME+stYLM6FBOBdV7zjK9Gj/dsFeze0ifeJ92mUgT8gJJfjXVYHbbf72cWFQCMkk8kW8MEXTY0s4QiBQdWlNrxnI96Gv+qELSpOgkcLIkSE75DNZif9nOgSihAZjuI9KYTtIyE9wyYJZcAL2oRAxsZGuRBEFGXVhS7L67M8IWeRclaBLxXi2RWe8vpSBHL9+ptTNCuyhDSGiC8jpI8K7hdRBCEYHgCuBweH8lEfR0IRIsk4hrgEp/5s/b6z+uTX35Z2n/65RrM7ONlBWZall8vlzWfP/9rY2yutbW0XV3e1p2saLC/+PnjlHVyU4QvxpeDdgmKxuOpNfIgwbB045YeH698rqYHJD97/sOt4OG9LkhLq0FDaqyi70dQbUHmOY+r1uq31OmVnZWXldjIZU/F6Q1HwjoBIHKul43www6hqd+9G//FtaPz0+NHP6+vf/UF3OQyE0mUlE3EY1OkOhwlmITiIDqVTeRwHaBKHAWYhOCfXctoE5yly2GEWkk4nC47jkmqlwiMkBJiFpOISaYEQu3k1Zn1cNsxCRq+NTDabFoHlSjzTvmyYhYyMjEzWGiap1XiXdeksLi7e0LaetO8/uM+vQUKCKULeGB0uOG6b6GWdR0dIMAlJJJJ5w6jjvajI/xsAh8PhcDgcTogQ8g9WguyDZUqU8wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/chessLogo5.34ed8c36.png\";","import logo from '../images/chessLogo5.png';\r\nimport '../style/components/header.scss';\r\n\r\nfunction Header() {\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <img src={logo} alt=\"logo\" className=\"logo\" />\r\n            <h1>Chance Chess</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/capture.79c343c9.mp3\";","import * as actionTypes from './actionTypes';\n\nexport const updateGame = (state, gameId) => {\n    return {\n        type: actionTypes.UPDATE_GAME,\n        state,\n        gameId\n    };\n};\n\nexport const updateGameIfStale = (state, gameId) => {\n    return {\n        type: actionTypes.UPDATE_GAME_IF_STALE,\n        state,\n        gameId\n    };\n};\n\nexport const updateFen = (fen) => {\n    return {\n        type: actionTypes.UPDATE_FEN,\n        fen\n    };\n};\n\nexport const shuffleOnMount = () => {\n    return {\n        type: actionTypes.SHUFFLE_ON_MOUNT\n    };\n};\n\nexport const selectCard = (cardValue, cardIndex) => {\n    return {\n        type: 'SELECT_CARD',\n        cardValue,\n        cardIndex,\n    };\n};\n\nexport const toggleCombo = () => {\n    return {\n        type: 'TOGGLE_COMBO'\n    };\n};\n\n\nexport const selectAll = () => {\n    return {\n        type: 'SELECT_ALL'\n    };\n};\n\n\nexport const getCard = () => {\n    return {\n        type: actionTypes.GET_CARD\n    };\n};\n\nexport const getPlayer2Card = () => {\n    return {\n        type: actionTypes.GET_PLAYER2_CARD\n    };\n};\n\nexport const setCard = (player1Cards, cardsArray) => {\n    return {\n        type: actionTypes.SET_CARD,\n        player1Cards,\n        cardsArray\n    };\n};\n\nexport const setPlayer2Card = (player2Cards, cardsArray) => {\n    return {\n        type: actionTypes.SET_PLAYER2_CARD,\n        player2Cards,\n        cardsArray\n    };\n};\n\nexport const changeTurn = () => {\n    return {\n        type: actionTypes.CHANGE_TURN\n    };\n};\n\nexport const removeSelectedCard = (selectedCardIndex) => {\n    return {\n        type: actionTypes.REMOVE_SELECTED_CARD,\n        selectedCardIndex\n    };\n};\n\nexport const discardOneCard = (selectedCard) => {\n    return {\n        type: actionTypes.DISCARD_ONE_CARD,\n        selectedCard\n    };\n};\n\nexport const discardAllP1Cards = () => {\n    return {\n        type: actionTypes.DISCARD_ALL_P1_CARDS\n    };\n};\n\n\nexport const discardAllP2Cards = () => {\n    return {\n        type: actionTypes.DISCARD_ALL_P2_CARDS\n    };\n};\n\nexport const shuffle = (p1CardsIndexes, p2CardsIndexes) => {\n    return {\n        type: actionTypes.SHUFFLE,\n        p1CardsIndexes,\n        p2CardsIndexes\n    };\n};\n\nexport const setCapturedPieces = (capturedPieces) => {\n    return {\n        type: actionTypes.SET_CAPTURED_PIECES,\n        capturedPieces\n    };\n};\n\nexport const gameOver = (winner) => {\n    return {\n        type: actionTypes.GAME_OVER,\n        winner\n    };\n};\n\nexport const newGame = () => {\n    return {\n        type: actionTypes.NEW_GAME\n    };\n};\n\nexport const setAnimateCards = (animateCards) => {\n    return {\n        type: actionTypes.SET_ANIMATE_CARDS,\n        animateCards\n    };\n};\n\n\n","export default __webpack_public_path__ + \"static/media/joker.a91412e9.png\";","export default __webpack_public_path__ + \"static/media/heart.20165ed9.png\";","export default __webpack_public_path__ + \"static/media/diamond.24d3b3e2.png\";","export default __webpack_public_path__ + \"static/media/club.685245d3.png\";","export default __webpack_public_path__ + \"static/media/spade.7b0c2f88.png\";","export default __webpack_public_path__ + \"static/media/redPawn.4dfb7e64.png\";","export default __webpack_public_path__ + \"static/media/redRook.b33c4061.png\";","export default __webpack_public_path__ + \"static/media/redKnight.c9792b7d.png\";","export default __webpack_public_path__ + \"static/media/redBishop.abb3f5e0.png\";","export default __webpack_public_path__ + \"static/media/redQueen.cf12c38f.png\";","export default __webpack_public_path__ + \"static/media/redKing.e07cf777.png\";","export default __webpack_public_path__ + \"static/media/blackPawn.fd58c4d2.png\";","export default __webpack_public_path__ + \"static/media/blackRook.2fa838b7.png\";","export default __webpack_public_path__ + \"static/media/blackKnight.f7a80fb5.png\";","export default __webpack_public_path__ + \"static/media/blackBishop.eaa1329d.png\";","export default __webpack_public_path__ + \"static/media/blackQueen.e30bf4b0.png\";","export default __webpack_public_path__ + \"static/media/blackKing.4207b0b8.png\";","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  selectCard,\r\n  removeSelectedCard,\r\n  changeTurn,\r\n  getCard,\r\n  getPlayer2Card,\r\n  setAnimateCards,\r\n  toggleCombo\r\n} from '../redux/actions/cardActions'\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport backCardImg from \"../images/chessLogo5.png\";\r\nimport addIcon from \"../style/images/AddIcon.png\";\r\nimport joker from \"../style/images/joker.png\";\r\nimport heart from \"../style/images/heart.png\";\r\nimport diamond from \"../style/images/diamond.png\";\r\nimport club from \"../style/images/club.png\";\r\nimport spade from \"../style/images/spade.png\";\r\n\r\nimport redPawn from \"../style/images/chessPieces/red/redPawn.png\";\r\nimport redRook from \"../style/images/chessPieces/red/redRook.png\";\r\nimport redKnight from \"../style/images/chessPieces/red/redKnight.png\";\r\nimport redBishop from \"../style/images/chessPieces/red/redBishop.png\";\r\nimport redQueen from \"../style/images/chessPieces/red/redQueen.png\";\r\nimport redKing from \"../style/images/chessPieces/red/redKing.png\";\r\n\r\nimport blackPawn from \"../style/images/chessPieces/black/blackPawn.png\";\r\nimport blackRook from \"../style/images/chessPieces/black/blackRook.png\";\r\nimport blackKnight from \"../style/images/chessPieces/black/blackKnight.png\";\r\nimport blackBishop from \"../style/images/chessPieces/black/blackBishop.png\";\r\nimport blackQueenImg from \"../style/images/chessPieces/black/blackQueen.png\";\r\nimport blackKingImg from \"../style/images/chessPieces/black/blackKing.png\";\r\n\r\n\r\nimport \"../style/components/card.scss\";\r\nimport \"../style/components/playerCard.scss\";\r\nvar classNames = require('classnames');\r\n\r\nconst Card = (props) => {\r\n\r\n  const { suits, card, front, color, cardIndex, cardPiece, allCardsSelected, animationCount, isFromDeck = false } = props;\r\n\r\n  let [className, setClassName] = useState('animatedCards');\r\n\r\n  let [selectedClassName, setSelectedClassName] = useState('card-container');\r\n\r\n  const getCardSymbol = (suits) => {\r\n    let symbol;\r\n\r\n    switch (suits) {\r\n      case \"Diamond\":\r\n        return symbol = diamond;\r\n      case \"Heart\":\r\n        return symbol = heart;\r\n      case \"Club\":\r\n        return symbol = club;\r\n      case \"Spade\":\r\n        return symbol = spade;\r\n      default:\r\n        return symbol;\r\n    };\r\n  };\r\n\r\n  const getRedChessPiece = (cardPiece) => {\r\n    let piece;\r\n    switch (cardPiece) {\r\n      case \"p\":\r\n        return piece = redPawn;\r\n      case \"r\":\r\n        return piece = redRook;\r\n      case \"n\":\r\n        return piece = redKnight;\r\n      case \"b\":\r\n        return piece = redBishop;\r\n      case \"q\":\r\n        return piece = redQueen;\r\n      case \"k\":\r\n        return piece = redKing;\r\n      default:\r\n        return piece;\r\n    };\r\n  };\r\n\r\n  const getBlackChessPiece = (cardPiece) => {\r\n    let piece;\r\n    switch (cardPiece) {\r\n      case \"p\":\r\n        return piece = blackPawn;\r\n      case \"r\":\r\n        return piece = blackRook;\r\n      case \"n\":\r\n        return piece = blackKnight;\r\n      case \"b\":\r\n        return piece = blackBishop;\r\n      case \"q\":\r\n        return piece = blackQueenImg;\r\n      case \"k\":\r\n        return piece = blackKingImg;\r\n      default:\r\n        return piece;\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.animateCards) {\r\n      if (className !== 'card-block_animations' && isMyTurn(props.playerNumber)) {\r\n        animate();\r\n      }\r\n    } else {\r\n      setClassName('card')\r\n    }\r\n  }, [props.animateCards, props.playerNumber])\r\n\r\n  useEffect(() => {\r\n    if (props.blockAnimation) {\r\n      setClassName('card-block_animations')\r\n    }\r\n  }, [props.blockAnimation])\r\n\r\n  const selectedCardIndex = props.selectedCard ? props.selectedCard[1] : -1;\r\n  const updatedClassName = (selectedCardIndex === cardIndex) || (allCardsSelected && !props.disabled) ? \"clicked-card\" : \"card-container\";\r\n  if (updatedClassName !== selectedClassName) {\r\n    setSelectedClassName(updatedClassName)\r\n  }\r\n\r\n  const isMyTurn = (playerNumber) => {\r\n\r\n    if (playerNumber === 1 && props.whiteToMove) {\r\n      return true;\r\n    }\r\n    if (playerNumber === 2 && !props.whiteToMove) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  const animate = () => {\r\n    if (isFromDeck) {\r\n      setClassName('animatedCards');\r\n    } else {\r\n      setClassName('card');\r\n    }\r\n  }\r\n\r\n  const getSelectedCard = (card, cardIndex) => {\r\n    let allSelected = props.allSelected;\r\n    if (props.disabled || allSelected) {\r\n      return;\r\n    }\r\n    props.onSelectCard(card, cardIndex);\r\n  }\r\n\r\n  const discardOne = (selectedCardIndex) => {\r\n    if (props.selectedCard.length === 0 || cardIndex !== props.selectedCard[1]) return;\r\n    props.setAnimateCards(false);\r\n    props.onRemoveSelected(selectedCardIndex)\r\n    props.onChangeTurn();\r\n  }\r\n\r\n\r\n  let player1Suits = props.player1Cards.map(card => card.suits);\r\n  let player2Suits = props.player2Cards.map(card => card.suits);\r\n\r\n\r\n  // let symbol_Style =\r\n  //   (!props.disabled && props.player1Cards.length === 3 && player1Suits.every((val, i, arr) => val === arr[0])) ||\r\n  //     (!props.disabled && props.player2Cards.length === 3 && player2Suits.every((val, i, arr) => val === arr[0])) ? \"rotate\" : \"\";\r\n  let symbol_Style = \"\";\r\n\r\n  if ((!props.disabled && props.player1Cards.length === 3 && player1Suits.every((val, i, arr) => val === arr[0])) ||\r\n    (!props.disabled && props.player2Cards.length === 3 && player2Suits.every((val, i, arr) => val === arr[0]))) {\r\n    symbol_Style = \"rotate\";\r\n    props.onToggleCombo(true);\r\n  }\r\n\r\n  // Create Straight Styles********************************************************************************************\r\n  let isAStraight = false;\r\n  let p1 = props.player1Cards;\r\n  let p2 = props.player2Cards;\r\n  let p1Card = p1.map(card => card.card);\r\n  let p2Card = p2.map(card => card.card);\r\n\r\n\r\n  let ace = p1Card.indexOf('A');\r\n  let jack = p1Card.indexOf('J')\r\n  let queen = p1Card.indexOf('Q');\r\n  let king = p1Card.indexOf('K');\r\n\r\n  let blackAce = p2Card.indexOf('A');\r\n  let blackJack = p2Card.indexOf('J')\r\n  let blackQueen = p2Card.indexOf('Q');\r\n  let blackKing = p2Card.indexOf('K');\r\n\r\n  if (ace !== -1) {\r\n    p1Card[ace] = '1';\r\n  }\r\n\r\n  if (jack !== -1) {\r\n    p1Card[jack] = '11';\r\n  }\r\n\r\n  if (queen !== -1) {\r\n    p1Card[queen] = '12';\r\n  }\r\n\r\n  if (king !== -1) {\r\n    p1Card[king] = '13';\r\n  }\r\n\r\n  if (blackAce !== -1) {\r\n    p2Card[blackAce] = '1';\r\n  }\r\n\r\n  if (blackJack !== -1) {\r\n    p2Card[blackJack] = '11';\r\n  }\r\n\r\n  if (blackQueen !== -1) {\r\n    p2Card[blackQueen] = '12';\r\n  }\r\n\r\n  if (blackKing !== -1) {\r\n    p2Card[blackKing] = '13';\r\n  }\r\n\r\n  let sorted = p1Card.sort((a, b) => a - b);\r\n  let straight = sorted.map(i => Number(i))\r\n  for (var i = 0; i < straight.length; i++) {\r\n    var diff = straight[i + 1] - straight[i];\r\n    let total = straight.reduce((a, b) => a + b, 0)\r\n    if ((Math.abs(diff) === 1 && straight[i + 1] + diff === straight[i + 2]) ||\r\n      (straight.includes(1) && total === 26)) {\r\n      isAStraight = true;\r\n      props.onToggleCombo(true);\r\n    }\r\n  }\r\n\r\n  let sorted2 = p2Card.sort((a, b) => a - b);\r\n  let straight2 = sorted2.map(i => Number(i))\r\n  for (var i = 0; i < straight2.length; i++) {\r\n    var diff2 = straight2[i + 1] - straight2[i];\r\n    let total = straight2.reduce((a, b) => a + b, 0)\r\n    if ((Math.abs(diff2) === 1 && straight2[i + 1] + diff2 === straight2[i + 2]) || (straight2.includes(1) && total === 26)) {\r\n      isAStraight = true;\r\n      props.onToggleCombo(true);\r\n\r\n    }\r\n  }\r\n\r\n  if (front && cardIndex < 53) {\r\n    const cardSymbol = getCardSymbol(suits);\r\n    const redChessPiece = getRedChessPiece(cardPiece);\r\n    const blackChessPiece = getBlackChessPiece(cardPiece);\r\n\r\n    let straight_Style = !props.disabled && isAStraight ? \"rotate\" : \"\";\r\n    let straight_Style2 = !props.disabled && isAStraight ? \"rotate\" : \"\";\r\n\r\n\r\n    return (\r\n      <div className={selectedClassName}>\r\n        <div\r\n          className={className}\r\n          style={{ color: `${color}` }}\r\n          onClick={() => getSelectedCard(card, cardIndex)}\r\n        >\r\n          {props.selectedCard.length > 0 && cardIndex === props.selectedCard[1] &&\r\n            <button\r\n              onClick={() => discardOne(props.selectedCard[1])}\r\n              style={{\r\n                position: 'absolute',\r\n                top: '5px',\r\n                right: '5px',\r\n                padding: '5px',\r\n                border: 'none',\r\n                color: 'red',\r\n                cursor: 'pointer',\r\n                borderRadius: '4px'\r\n              }}>\r\n              Discard\r\n            </button>\r\n          }\r\n          <button\r\n            onClick={() => getSelectedCard(card, cardIndex)}\r\n            style={{\r\n              position: 'absolute',\r\n              bottom: '5px',\r\n              left: '5px',\r\n              border: 'none',\r\n              padding: '5px',\r\n              cursor: 'pointer',\r\n              borderRadius: '4px'\r\n            }}>\r\n            {isFromDeck === true ? 'is from deck' : 'not'}\r\n          </button>\r\n\r\n          <div style={{ position: \"absolute\", top: 5, left: 5 }}>\r\n            <div className={straight_Style} style={{ maxWidth: 25 }}>{card}</div>\r\n            <div className={symbol_Style}>\r\n              <img src={cardSymbol} alt=\"suit-symbol\" style={{ maxWidth: 25 }} />\r\n            </div>\r\n          </div>\r\n\r\n          {color === 'red' ?\r\n            <div><img src={redChessPiece} alt=\"red-chess-piece\" style={{ height: 42, position: \"absolute\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }} /></div>\r\n            :\r\n            <div><img src={blackChessPiece} alt=\"red-chess-piece\" style={{ height: 42, position: \"absolute\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }} /></div>\r\n          }\r\n\r\n          <div style={{ position: \"absolute\", bottom: 5, right: 5, transform: \"rotate(-180deg)\" }}>\r\n            <div className={straight_Style2} style={{ maxWidth: 25 }}>{card}</div>\r\n            <div className={symbol_Style}>\r\n              <img src={cardSymbol} alt=\"suit-symbol\" style={{ maxWidth: 25 }} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else if\r\n    (cardIndex > 52) {\r\n    return (\r\n      <>\r\n        <div className={selectedClassName}>\r\n\r\n          <div\r\n            onClick={() => getSelectedCard(card, cardIndex)}\r\n            className={className}>\r\n            <img src={joker} alt=\"suit-symbol\" style={{\r\n              height: '172px',\r\n              width: '140px',\r\n              transform: 'translate(-8px, -6px)'\r\n            }}\r\n            />\r\n            {props.selectedCard.length > 0 && cardIndex === props.selectedCard[1] &&\r\n              <button\r\n                onClick={() => discardOne(props.selectedCard[1])}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: '5px',\r\n                  right: '0',\r\n                  padding: '5px',\r\n                  border: 'none',\r\n                  color: 'red',\r\n                  opacity: '.7',\r\n                  cursor: 'pointer',\r\n                  borderRadius: '4px'\r\n                }}>\r\n                Discard\r\n              </button>\r\n            }\r\n\r\n            <button\r\n              onClick={() => getSelectedCard(card, cardIndex)}\r\n              style={{\r\n                position: 'absolute',\r\n                bottom: '5px',\r\n                left: '5px',\r\n                border: 'none',\r\n                padding: '5px',\r\n                cursor: 'pointer',\r\n                borderRadius: '4px'\r\n              }}>\r\n              Select\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  else {\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"deck-container\"\r\n          style={{\r\n            backgroundImage: `url(${backCardImg})`,\r\n            backgroundColor: 'rgb(50, 155, 42)',\r\n            borderRadius: '10%',\r\n          }}>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n  return {\r\n    player1Cards: state.chanceChessReducer.player1Cards,\r\n    player2Cards: state.chanceChessReducer.player2Cards,\r\n    playerOne: state.usersReducer.playerOne,\r\n    playerTwo: state.usersReducer.playerTwo,\r\n    whiteToMove: state.chanceChessReducer.whiteToMove,\r\n    selectedCard: state.chanceChessReducer.selectedCard,\r\n    cardsArray: state.chanceChessReducer.cardsArray,\r\n    allSelected: state.chanceChessReducer.allSelected,\r\n    gameId: state.usersReducer.gameId,\r\n    animateCards: state.chanceChessReducer.animateCards,\r\n    isACombo: state.chanceChessReducer.isACombo\r\n\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\r\n  return {\r\n    onSelectCard: (card, cardIndex) => dispatch(selectCard(card, cardIndex)),\r\n    onRemoveSelected: (selectedCardIndex) => dispatch(removeSelectedCard(selectedCardIndex)),\r\n    onChangeTurn: () => dispatch(changeTurn()),\r\n    onGetCard: () => dispatch(getCard()),\r\n    onGetCardForPlayer2: () => dispatch(getPlayer2Card()),\r\n    setAnimateCards: bool => dispatch(setAnimateCards(bool)),\r\n    onToggleCombo: bool => dispatch(toggleCombo(bool))\r\n  }\r\n}\r\n\r\nCard.propTypes = {\r\n  suits: PropTypes.string,\r\n  card: PropTypes.string,\r\n  front: PropTypes.bool,\r\n  color: PropTypes.string\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Card);\r\n","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport \"../../style/components/playerCard.scss\";\r\nimport '../../style/components/player2.scss';\r\nimport '../../style/components/playerCard.scss';\r\nimport Card from '../Card';\r\n\r\n\r\nfunction Player2CardContainer(props) {\r\n\r\n    const [cards, setCards] = useState([])\r\n\r\n    const findCardsFromDeck = (newCard, i, newCards) => {\r\n\r\n        const oldCards = cards || [];\r\n\r\n        // if the array hasn't changed, don't do anything else; this deals with re-rendering cycles\r\n        if (newCards.length === oldCards.length) {\r\n            return { ...oldCards[i] }\r\n        }\r\n\r\n        const isFromDeck = !oldCards.find(oldCard => oldCard.index === newCard.index);\r\n        if (isFromDeck) newCard.isFromDeck = true;\r\n        else newCard.isFromDeck = false;\r\n\r\n        newCards[i] = newCard;\r\n\r\n        if (i === oldCards.length - 1) {\r\n            setCards(oldCards);\r\n        }\r\n\r\n        return newCard;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card-slot\">\r\n\r\n                <div className=\"player2\">\r\n                    {props.cards.map(findCardsFromDeck).map(card => (\r\n                        <div key={uuidv4()}>\r\n                            <Card\r\n                                isFromDeck={card.isFromDeck}\r\n                                playerNumber={props.playerNumber}\r\n                                blockAnimation={props.blockAnimation}\r\n                                allCardsSelected={props.allCardsSelected}\r\n                                disabled={props.disableControls}\r\n                                noTransition={props.noTransition}\r\n                                cardIndex={card.index}\r\n                                suits={card.suits}\r\n                                card={card.card}\r\n                                front={true}\r\n                                color={card.color}\r\n                                cardPiece={card.correspondingPiece}\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {props.player2Cards.length === 0 &&\r\n                    < div className={'placeholder-container'}>\r\n                        <div className={'placeholder'}></div>\r\n                        <div className={'placeholder'}></div>\r\n                        <div className={'placeholder'}></div>\r\n                    </div>\r\n                }\r\n                {props.player2Cards.length === 1 &&\r\n                    < div className={'placeholder-container'}>\r\n                        <div className={'placeholder'}></div>\r\n                        <div className={'placeholder'}></div>\r\n                    </div>\r\n                }\r\n                {props.player2Cards.length === 2 &&\r\n                    < div className={'placeholder-container'}>\r\n                        <div className={'placeholder'}></div>\r\n                    </div>\r\n                }\r\n                {props.player2Cards.length === 3 &&\r\n                    <div className='empty-placeholder'></div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        player1Cards: state.chanceChessReducer.player1Cards,\r\n        player2Cards: state.chanceChessReducer.player2Cards,\r\n        newBoard: state.chanceChessReducer.newBoard,\r\n        whiteToMove: state.chanceChessReducer.whiteToMove,\r\n        cardsArray: state.chanceChessReducer.cardsArray\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, null)(Player2CardContainer);","import { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport '../../style/components/player1.scss';\r\nimport '../../style/components/playerCard.scss';\r\nimport star from \"../../style/images/star.png\";\r\nimport Card from '../Card';\r\n\r\n\r\nfunction Player1CardContainer(props) {\r\n\r\n    const [cards, setCards] = useState([])\r\n\r\n    const findCardsFromDeck = (newCard, i, newCards) => {\r\n\r\n        const oldCards = cards || [];\r\n\r\n        // if the array hasn't changed, don't do anything else; this deals with re-rendering cycles\r\n        if (newCards.length === oldCards.length) {\r\n            return { ...oldCards[i] }\r\n        }\r\n\r\n        const isFromDeck = !oldCards.find(oldCard => oldCard.index === newCard.index);\r\n        if (isFromDeck) newCard.isFromDeck = true;\r\n        else newCard.isFromDeck = false;\r\n\r\n        newCards[i] = newCard;\r\n\r\n        if (i === oldCards.length - 1) {\r\n            setCards(oldCards);\r\n        }\r\n\r\n\r\n        return newCard;\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card-slot\">\r\n                <div className=\"player1\">\r\n                    {props.cards.map(findCardsFromDeck).map(card => (\r\n                        <div key={uuidv4()}>\r\n                            <Card\r\n                                isFromDeck={card.isFromDeck}\r\n                                playerNumber={props.playerNumber}\r\n                                blockAnimation={props.blockAnimation}\r\n                                allCardsSelected={props.allCardsSelected}\r\n                                disabled={props.disableControls}\r\n                                cardIndex={card.index}\r\n                                noTransition={props.noTransition}\r\n                                suits={card.suits}\r\n                                card={card.card}\r\n                                front={true}\r\n                                color={card.color}\r\n                                cardPiece={card.correspondingPiece}\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                {props.player1Cards.length === 0 &&\r\n                    < div className={'placeholder-container'}>\r\n                        <div className={'placeholder'}></div>\r\n                        <div className={'placeholder'}></div>\r\n                        <div className={'placeholder'}></div>\r\n                    </div>\r\n                }\r\n                {props.player1Cards.length === 1 &&\r\n                    < div className={'placeholder-container'}>\r\n                        <div className={'placeholder'}></div>\r\n                        <div className={'placeholder'}></div>\r\n                    </div>\r\n                }\r\n                {props.player1Cards.length === 2 &&\r\n                    < div className={'placeholder-container'}>\r\n                        <div className={'placeholder'}></div>\r\n                    </div>\r\n                }\r\n                {props.player1Cards.length === 3 &&\r\n                    <div className='empty-placeholder'></div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        player1Cards: state.chanceChessReducer.player1Cards,\r\n        player2Cards: state.chanceChessReducer.player2Cards,\r\n        newBoard: state.chanceChessReducer.newBoard,\r\n        whiteToMove: state.chanceChessReducer.whiteToMove,\r\n        cardsArray: state.chanceChessReducer.cardsArray\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(Player1CardContainer);","import PropTypes from 'prop-types';\nimport { DialogTitle, DialogActions, DialogContent, DialogContentText, Button } from '@material-ui/core';\nimport Dialog from '@material-ui/core/Dialog';\n\nexport default function StartDialog(props) {\n  const { url, open } = props;\n\n  return (\n    <Dialog aria-labelledby=\"Start-dialog-title\" open={open}>\n      <DialogTitle id=\"Start-dialog-title\" style={{ margin: 'auto', marginBottom: 0, paddingBottom: 0, fontSize: '32px' }}>Invite a Friend</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Click the button below to copy a link to this game. The match will start once your opponent joins.\n        </DialogContentText>\n        <DialogActions>\n          <Button color=\"primary\" onClick={() => { navigator.clipboard.writeText(url) }}>\n            Click Here to Copy Link to Game\n          </Button>\n        </DialogActions>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nStartDialog.propTypes = {\n  url: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired\n};\n","import PropTypes from 'prop-types';\nimport { DialogTitle, DialogActions, DialogContent, DialogContentText, Button } from '@material-ui/core';\nimport Dialog from '@material-ui/core/Dialog';\n\nexport default function GameOverDialog(props) {\n  const { url, open, message, newGame } = props;\n\n  const startNewGame = () => {\n    newGame()\n  }\n\n  return (\n    <Dialog aria-labelledby=\"Start-dialog-title\" open={open}>\n      <DialogTitle id=\"Start-dialog-title\" style={{ margin: 'auto', marginBottom: 0, paddingBottom: 0, fontSize: '32px' }}>\n        {message}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Click the button below to start a new game.\n        </DialogContentText>\n        <DialogActions>\n          <Button color=\"primary\" onClick={() => { startNewGame() }}>\n            Click Here to Start a New Game\n          </Button>\n        </DialogActions>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nGameOverDialog.propTypes = {\n  url: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired\n};\n","import diff from 'deep-diff';\n\nexport const ItemTypes = { PIECE: 'piece' };\nexport const COLUMNS = 'abcdefgh'.split('');\n\nexport const constructPositionAttributes = (currentPosition, position) => {\n  const difference = diff(currentPosition, position);\n  const squaresAffected = difference.length;\n  const sourceSquare =\n    difference && difference[1] && difference && difference[1].kind === 'D'\n      ? difference[1].path && difference[1].path[0]\n      : difference[0].path && difference[0].path[0];\n  const targetSquare =\n    difference && difference[1] && difference && difference[1].kind === 'D'\n      ? difference[0] && difference[0].path[0]\n      : difference[1] && difference[1].path[0];\n  const sourcePiece =\n    difference && difference[1] && difference && difference[1].kind === 'D'\n      ? difference[1] && difference[1].lhs\n      : difference[1] && difference[1].rhs;\n  return { sourceSquare, targetSquare, sourcePiece, squaresAffected };\n};\n\nfunction isString(s) {\n  return typeof s === 'string';\n}\n\nexport function fenToObj(fen) {\n  if (!validFen(fen)) return false;\n  // cut off any move, castling, etc info from the end\n  // we're only interested in position information\n  fen = fen.replace(/ .+$/, '');\n\n  let rows = fen.split('/');\n  let position = {};\n\n  let currentRow = 8;\n  for (let i = 0; i < 8; i++) {\n    let row = rows[i].split('');\n    let colIdx = 0;\n\n    // loop through each character in the FEN section\n    for (let j = 0; j < row.length; j++) {\n      // number / empty squares\n      if (row[j].search(/[1-8]/) !== -1) {\n        let numEmptySquares = parseInt(row[j], 10);\n        colIdx = colIdx + numEmptySquares;\n      } else {\n        // piece\n        let square = COLUMNS[colIdx] + currentRow;\n        position[square] = fenToPieceCode(row[j]);\n        colIdx = colIdx + 1;\n      }\n    }\n\n    currentRow = currentRow - 1;\n  }\n\n  return position;\n}\n\nfunction expandFenEmptySquares(fen) {\n  return fen\n    .replace(/8/g, '11111111')\n    .replace(/7/g, '1111111')\n    .replace(/6/g, '111111')\n    .replace(/5/g, '11111')\n    .replace(/4/g, '1111')\n    .replace(/3/g, '111')\n    .replace(/2/g, '11');\n}\n\nexport function validFen(fen) {\n  if (!isString(fen)) return false;\n\n  // cut off any move, castling, etc info from the end\n  // we're only interested in position information\n  fen = fen.replace(/ .+$/, '');\n\n  // expand the empty square numbers to just 1s\n  fen = expandFenEmptySquares(fen);\n\n  // FEN should be 8 sections separated by slashes\n  let chunks = fen.split('/');\n  if (chunks.length !== 8) return false;\n\n  // check each section\n  for (let i = 0; i < 8; i++) {\n    if (chunks[i].length !== 8 || chunks[i].search(/[^kqrnbpKQRNBP1]/) !== -1) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n// convert FEN piece code to bP, wK, etc\nfunction fenToPieceCode(piece) {\n  // black piece\n  if (piece.toLowerCase() === piece) {\n    return 'b' + piece.toUpperCase();\n  }\n\n  // white piece\n  return 'w' + piece.toUpperCase();\n}\n\nfunction validSquare(square) {\n  return isString(square) && square.search(/^[a-h][1-8]$/) !== -1;\n}\n\nfunction validPieceCode(code) {\n  return isString(code) && code.search(/^[bw][KQRNBP]$/) !== -1;\n}\n\nexport function validPositionObject(pos) {\n  if (pos === null || typeof pos !== 'object') return false;\n\n  for (let i in pos) {\n    if (!pos.hasOwnProperty(i)) continue;\n\n    if (!validSquare(i) || !validPieceCode(pos[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction squeezeFenEmptySquares(fen) {\n  return fen\n    .replace(/11111111/g, '8')\n    .replace(/1111111/g, '7')\n    .replace(/111111/g, '6')\n    .replace(/11111/g, '5')\n    .replace(/1111/g, '4')\n    .replace(/111/g, '3')\n    .replace(/11/g, '2');\n}\n\n// convert bP, wK, etc code to FEN structure\nfunction pieceCodeToFen(piece) {\n  let pieceCodeLetters = piece.split('');\n\n  // white piece\n  if (pieceCodeLetters[0] === 'w') {\n    return pieceCodeLetters[1].toUpperCase();\n  }\n\n  // black piece\n  return pieceCodeLetters[1].toLowerCase();\n}\n\n// position object to FEN string\n// returns false if the obj is not a valid position object\nexport function objToFen(obj) {\n  if (!validPositionObject(obj)) return false;\n\n  let fen = '';\n\n  let currentRow = 8;\n  for (let i = 0; i < 8; i++) {\n    for (let j = 0; j < 8; j++) {\n      let square = COLUMNS[j] + currentRow;\n\n      // piece exists\n      if (obj.hasOwnProperty(square)) {\n        fen = fen + pieceCodeToFen(obj[square]);\n      } else {\n        // empty space\n        fen = fen + '1';\n      }\n    }\n\n    if (i !== 7) {\n      fen = fen + '/';\n    }\n\n    currentRow = currentRow - 1;\n  }\n\n  // squeeze the empty numbers together\n  fen = squeezeFenEmptySquares(fen);\n\n  return fen;\n}\n","import React, { Component } from 'react';\nimport { DragSource } from 'react-dnd';\nimport PropTypes from 'prop-types';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\n\nimport { ItemTypes } from './helpers';\n\n/* eslint react/prop-types: 0 */\nexport const renderChessPiece = ({\n  dropTarget,\n  square,\n  targetSquare,\n  waitForTransition,\n  getSquareCoordinates,\n  piece,\n  width,\n  pieces,\n  transitionDuration,\n  isDragging,\n  hoveredSquare,\n  sourceSquare,\n  onPieceClick,\n  allowDrag,\n  customDragLayerStyles = {},\n  phantomPieceStyles = {}\n}) => {\n  const renderChessPieceArgs = {\n    squareWidth: width / 8,\n    isDragging,\n    droppedPiece: dropTarget && dropTarget.piece,\n    targetSquare: dropTarget && dropTarget.target,\n    sourceSquare: dropTarget && dropTarget.source\n  };\n\n  return (\n    <div style={{ fontSize: '12px' }}>\n      <div>\n        {/* sourceSquare: {square}\n        hoveredSquare: {hoveredSquare} */}\n      </div>\n      <div\n        // on hover, run a function that sets source square to current square\n        data-testid={`${piece}-${square}`}\n        onClick={() => onPieceClick(piece)}\n        style={{\n          ...pieceStyles({\n            isDragging,\n            transitionDuration,\n            waitForTransition,\n            square,\n            targetSquare,\n            hoveredSquare,\n            sourceSquare,\n            getSquareCoordinates,\n            getTranslation,\n            piece,\n            allowDrag\n          }),\n          ...phantomPieceStyles,\n          ...customDragLayerStyles\n        }}\n      >\n        {typeof pieces[piece] === 'function' ? (\n          pieces[piece](renderChessPieceArgs)\n        ) : (\n          <svg viewBox={`1 1 43 43`} width={width / 8} height={width / 8}>\n            <g>{pieces[piece]}</g>\n          </svg>\n        )}\n      </div>\n    </div>\n\n  );\n};\n\nclass Piece extends Component {\n  static propTypes = {\n    piece: PropTypes.string,\n    square: PropTypes.string,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    width: PropTypes.number,\n    connectDragSource: PropTypes.func,\n    isDragging: PropTypes.bool,\n    connectDragPreview: PropTypes.func,\n    dropOffBoard: PropTypes.string,\n    getSquareCoordinates: PropTypes.func,\n    onDrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    transitionDuration: PropTypes.number,\n    pieces: PropTypes.object,\n    sourceSquare: PropTypes.string,\n    targetSquare: PropTypes.string,\n    waitForTransition: PropTypes.bool,\n    setTouchState: PropTypes.func,\n    onPieceClick: PropTypes.func,\n    wasSquareClicked: PropTypes.func,\n    allowDrag: PropTypes.func\n  };\n\n  shouldComponentUpdate(nextProps) {\n    const shouldPieceUpdate =\n      nextProps.dropTarget !== null ||\n      nextProps.isDragging ||\n      this.props.isDragging ||\n      // if the position comes from the position prop, check if it is a different position\n      this.props.sourceSquare !== nextProps.sourceSquare ||\n      this.props.waitForTransition !== nextProps.waitForTransition ||\n      // if the screen size changes then update\n      this.props.width !== nextProps.width;\n\n    if (shouldPieceUpdate) {\n      return true;\n    }\n    return false;\n  }\n\n  componentDidMount() {\n    window.addEventListener('touchstart', this.props.setTouchState);\n\n    this.props.connectDragPreview(getEmptyImage(), {\n      captureDraggingState: true\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('touchstart', this.props.setTouchState);\n  }\n\n  render() {\n    const {\n      square,\n      targetSquare,\n      waitForTransition,\n      getSquareCoordinates,\n      piece,\n      width,\n      pieces,\n      transitionDuration,\n      isDragging,\n      connectDragSource,\n      sourceSquare,\n      dropTarget,\n      onPieceClick,\n      allowDrag,\n      hoveredSquare\n    } = this.props;\n\n    return connectDragSource(\n      renderChessPiece({\n        square,\n        targetSquare,\n        waitForTransition,\n        getSquareCoordinates,\n        piece,\n        width,\n        pieces,\n        transitionDuration,\n        isDragging,\n        sourceSquare,\n        dropTarget,\n        onPieceClick,\n        allowDrag,\n        hoveredSquare\n      })\n    );\n  }\n}\n\nconst pieceSource = {\n  canDrag(props) {\n    return (\n      props.draggable &&\n      props.allowDrag({ piece: props.piece, sourceSquare: props.square })\n    );\n  },\n  beginDrag(props) {\n    return {\n      piece: props.piece,\n      source: props.square,\n      board: props.id\n    };\n  },\n  endDrag(props, monitor) {\n    const {\n      setPosition,\n      dropOffBoard,\n      piece,\n      square,\n      onDrop,\n      wasManuallyDropped,\n      wasSquareClicked\n    } = props;\n    const dropResults = monitor.getDropResult();\n    const didDrop = monitor.didDrop();\n\n    // trash piece when dropped off board\n    if (!didDrop && dropOffBoard === 'trash') {\n      return setPosition({ sourceSquare: square, piece });\n    }\n\n    const board = monitor.getItem().board;\n    const dropBoard = dropResults && dropResults.board;\n\n    // check if target board is source board\n    if (board === dropBoard && didDrop) {\n      if (onDrop.length) {\n        wasManuallyDropped(true);\n        if (square !== 'spare') {\n          wasSquareClicked(false);\n        }\n\n        // execute user's logic\n        return onDrop({\n          sourceSquare: square,\n          targetSquare: dropResults.target,\n          piece\n        });\n      }\n      // set new position\n      setPosition({\n        sourceSquare: square,\n        targetSquare: dropResults.target,\n        piece\n      });\n    }\n  }\n};\n\nfunction collect(connect, monitor) {\n  return {\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: monitor.isDragging(),\n    dropTarget: monitor.getDropResult()\n  };\n}\n\nexport default DragSource(ItemTypes.PIECE, pieceSource, collect)(Piece);\n\nconst isActivePiece = (square, targetSquare) =>\n  targetSquare && targetSquare === square;\n\nconst getTransitionCoordinates = ({\n  getSquareCoordinates,\n  sourceSq,\n  targetSq\n}) => {\n  const transitionCoordinates = getSquareCoordinates(sourceSq, targetSq);\n  const { sourceSquare, targetSquare } = transitionCoordinates;\n\n  return `translate(${sourceSquare.x - targetSquare.x}px, ${sourceSquare.y -\n    targetSquare.y}px)`;\n};\n\nconst getTranslation = ({\n  waitForTransition,\n  square,\n  targetSquare,\n  sourceSquare,\n  getSquareCoordinates\n}) => {\n  return (\n    isActivePiece(square, targetSquare) &&\n    waitForTransition &&\n    getTransitionCoordinates({\n      getSquareCoordinates,\n      sourceSq: sourceSquare,\n      targetSq: targetSquare\n    })\n  );\n};\n\nconst pieceStyles = ({\n  isDragging,\n  transitionDuration,\n  waitForTransition,\n  square,\n  targetSquare,\n  sourceSquare,\n  getSquareCoordinates,\n  getTranslation,\n  piece,\n  allowDrag,\n  hoveredSquare,\n  draggable\n}) => ({\n  opacity: isDragging ? 0 : 1,\n  transform: getTranslation({\n    waitForTransition,\n    square,\n    targetSquare,\n    sourceSquare,\n    getSquareCoordinates\n  }),\n  transition: `transform ${transitionDuration}ms`,\n  zIndex: 5,\n  // cursor: isDragging || hoveredSquare === sourceSquare\n  cursor: isDragging\n    ? '-webkit-grabbing'\n    : allowDrag({ piece, sourceSquare: square })\n      ? '-webkit-grabbing'\n      : 'webkit-grabbing'\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { DropTarget } from 'react-dnd';\n\nimport { ItemTypes } from './helpers';\n\nclass Square extends Component {\n  static propTypes = {\n    connectDropTarget: PropTypes.func,\n    width: PropTypes.number,\n    squareColor: PropTypes.oneOf(['white', 'black']),\n    children: PropTypes.oneOfType([PropTypes.array, PropTypes.node]),\n    isOver: PropTypes.bool,\n    square: PropTypes.string,\n    setSquareCoordinates: PropTypes.func,\n    lightSquareStyle: PropTypes.object,\n    darkSquareStyle: PropTypes.object,\n    roughSquare: PropTypes.func,\n    onMouseOverSquare: PropTypes.func,\n    onMouseOutSquare: PropTypes.func,\n    dropSquareStyle: PropTypes.object,\n    screenWidth: PropTypes.number,\n    screenHeight: PropTypes.number,\n    squareStyles: PropTypes.object,\n    onDragOverSquare: PropTypes.func,\n    onSquareClick: PropTypes.func,\n    wasSquareClicked: PropTypes.func,\n    onSquareRightClick: PropTypes.func\n  };\n\n  componentDidMount() {\n    const { square, setSquareCoordinates, width, roughSquare } = this.props;\n    roughSquare({ squareElement: this.roughSquareSvg, squareWidth: width / 8 });\n\n    const { x, y } = this[square].getBoundingClientRect();\n    setSquareCoordinates(x, y, square);\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      screenWidth,\n      screenHeight,\n      square,\n      setSquareCoordinates\n    } = this.props;\n\n    const didScreenSizeChange =\n      prevProps.screenWidth !== screenWidth ||\n      prevProps.screenHeight !== screenHeight;\n\n    if (didScreenSizeChange) {\n      const { x, y } = this[square].getBoundingClientRect();\n      setSquareCoordinates(x, y, square);\n    }\n  }\n\n  onClick = () => {\n    this.props.wasSquareClicked(true);\n    this.props.onSquareClick(this.props.square);\n  };\n\n  render() {\n    const {\n      connectDropTarget,\n      width,\n      squareColor,\n      children,\n      square,\n      roughSquare,\n      onMouseOverSquare,\n      onMouseOutSquare,\n      squareStyles,\n      onDragOverSquare,\n      onSquareRightClick\n    } = this.props;\n\n    return connectDropTarget(\n      <div\n        data-testid={`${squareColor}-square`}\n        data-squareid={square}\n        ref={ref => (this[square] = ref)}\n        style={defaultSquareStyle(this.props)}\n        onMouseOver={() => onMouseOverSquare(square)}\n        onMouseOut={() => onMouseOutSquare(square)}\n        onDragEnter={() => onDragOverSquare(square)}\n        onClick={() => this.onClick()}\n        onContextMenu={e => {\n          e.preventDefault();\n          onSquareRightClick(square);\n        }}\n      >\n        <div\n          style={{\n            ...size(width),\n            ...center,\n            ...(squareStyles[square] && squareStyles[square])\n          }}\n        >\n          {roughSquare.length ? (\n            <div style={center}>\n              {children}\n              <svg\n                style={{\n                  ...size(width),\n                  position: 'absolute',\n                  display: 'block'\n                }}\n                ref={ref => (this.roughSquareSvg = ref)}\n              />\n            </div>\n          ) : (\n            children\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst squareTarget = {\n  drop(props, monitor) {\n    return {\n      target: props.square,\n      board: props.id,\n      piece: monitor.getItem().piece,\n      source: monitor.getItem().source\n    };\n  }\n};\n\nfunction collect(connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver()\n  };\n}\n\nexport default DropTarget(ItemTypes.PIECE, squareTarget, collect)(Square);\n\nconst defaultSquareStyle = props => {\n  const {\n    width,\n    squareColor,\n    isOver,\n    darkSquareStyle,\n    lightSquareStyle,\n    dropSquareStyle\n  } = props;\n\n  return {\n    ...{\n      ...size(width),\n      ...center,\n      ...(squareColor === 'black' ? darkSquareStyle : lightSquareStyle),\n      ...(isOver && dropSquareStyle)\n    }\n  };\n};\n\nconst center = {\n  display: 'flex',\n  justifyContent: 'center'\n};\n\nconst size = width => ({\n  width: width / 8,\n  height: width / 8\n});\n","import React, { PureComponent, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Translate } from '@material-ui/icons';\n\nconst getRow = (orientation, row) =>\n  orientation === 'white' ? row + 1 : row - 1;\n\nconst getColumn = (orientation, alpha, col) =>\n  orientation === 'black' ? alpha[7 - col] : alpha[col];\n\nclass Notation extends PureComponent {\n  static propTypes = {\n    row: PropTypes.number,\n    col: PropTypes.number,\n    alpha: PropTypes.array,\n    orientation: PropTypes.string,\n    width: PropTypes.number,\n    lightSquareStyle: PropTypes.object,\n    darkSquareStyle: PropTypes.object\n  };\n\n  render() {\n    const {\n      row,\n      col,\n      orientation,\n      lightSquareStyle,\n      darkSquareStyle\n    } = this.props;\n\n    const whiteColor = lightSquareStyle.backgroundColor;\n    const blackColor = darkSquareStyle.backgroundColor;\n\n    const isRow = col === 0;\n    const isColumn =\n      (orientation === 'white' && row === 0) ||\n      (orientation === 'black' && row === 9);\n    const isBottomLeftSquare = isRow && isColumn;\n\n    if (isBottomLeftSquare) {\n      return renderBottomLeft(this.props, { whiteColor });\n    }\n\n    if (isColumn) {\n      return renderLetters(this.props, {\n        whiteColor,\n        blackColor\n      });\n    }\n\n    if (isRow) {\n      return renderNumbers(this.props, {\n        whiteColor,\n        blackColor,\n        isRow,\n        isBottomLeftSquare\n      });\n    }\n\n    return null;\n  }\n}\n\nexport default Notation;\n\n/* eslint react/prop-types: 0 */\nfunction renderBottomLeft(\n  { orientation, row, width, alpha, col },\n  { whiteColor }\n) {\n  return (\n    <Fragment>\n      <div\n        data-testid={`bottom-left-${getRow(orientation, row)}`}\n        style={{\n          ...notationStyle,\n          ...{ fontSize: width / 48, color: whiteColor },\n          ...numericStyle(width)\n        }}\n      >\n        {getRow(orientation, row)}\n      </div>\n      <div\n        data-testid={`bottom-left-${getColumn(orientation, alpha, col)}`}\n        style={{\n          ...notationStyle,\n          ...{ fontSize: width / 48, color: whiteColor },\n          ...alphaStyle(width)\n        }}\n      >\n        {getColumn(orientation, alpha, col)}\n      </div>\n    </Fragment>\n  );\n}\n\nfunction renderLetters(\n  { orientation, width, alpha, col },\n  { whiteColor, blackColor }\n) {\n  return (\n    <div\n      data-testid={`column-${getColumn(orientation, alpha, col)}`}\n      style={{\n        ...notationStyle,\n        ...columnStyle({ col, width, blackColor, whiteColor }),\n        ...alphaStyle(width)\n      }}\n    >\n      {getColumn(orientation, alpha, col)}\n    </div>\n  );\n}\n\nfunction renderNumbers(\n  { orientation, row, width },\n  { whiteColor, blackColor, isRow, isBottomLeftSquare }\n) {\n  return (\n    <div\n      style={{\n        ...notationStyle,\n        ...rowStyle({\n          row,\n          width,\n          blackColor,\n          whiteColor,\n          orientation,\n          isBottomLeftSquare,\n          isRow\n        }),\n        ...numericStyle(width)\n      }}\n    >\n      {getRow(orientation, row)}\n    </div>\n  );\n}\n\nconst columnStyle = ({ col, width, blackColor, whiteColor }) => ({\n  fontSize: width / 48,\n  color: col % 2 !== 0 ? blackColor : whiteColor\n});\n\nconst rowStyle = ({\n  row,\n  width,\n  blackColor,\n  whiteColor,\n  orientation,\n  isBottomLeftSquare,\n  isRow\n}) => {\n  return {\n    fontSize: width / 48,\n    color:\n      orientation === 'black'\n        ? isRow && !isBottomLeftSquare && row % 2 === 0\n          ? blackColor\n          : whiteColor\n        : isRow && !isBottomLeftSquare && row % 2 !== 0\n          ? blackColor\n          : whiteColor\n  };\n};\n\nconst alphaStyle = width => ({\n  alignSelf: 'flex-end',\n  fontSize: '24px',\n  transform: 'translate(0, 27px)',\n  paddingLeft: width / 8 - width / 48\n});\n\nconst numericStyle = width => ({\n  alignSelf: 'flex-start',\n  paddingRight: width / 6 - width / 48,\n  fontSize: '24px',\n  transform: 'translate(-6px, 0)',\n\n});\n\nconst notationStyle = {\n  fontFamily: 'Helvetica Neue',\n  zIndex: 3,\n  position: 'absolute'\n};\n","import React from 'react'; // eslint-disable-line no-unused-vars\nimport PropTypes from 'prop-types';\n\nimport { renderChessPiece } from './Piece';\n\nPhantomPiece.propTypes = {\n  width: PropTypes.number,\n  phantomPieceValue: PropTypes.string,\n  pieces: PropTypes.object,\n  allowDrag: PropTypes.func\n};\n\nfunction PhantomPiece({ width, pieces, phantomPieceValue, allowDrag, hoveredSquare }) {\n  return renderChessPiece({\n    width,\n    pieces,\n    hoveredSquare,\n    piece: phantomPieceValue,\n    phantomPieceStyles: phantomPieceStyles(width),\n    allowDrag\n  });\n}\n\nexport default PhantomPiece;\n\nconst phantomPieceStyles = width => ({\n  position: 'absolute',\n  width: width / 8,\n  height: width / 8,\n  zIndex: 1\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { COLUMNS } from './helpers';\n\nclass Row extends Component {\n  static propTypes = {\n    width: PropTypes.number,\n    orientation: PropTypes.string,\n    boardStyle: PropTypes.object,\n    children: PropTypes.func,\n    boardId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  };\n\n  render() {\n    const { width, boardStyle, orientation, children, boardId } = this.props;\n    let alpha = COLUMNS;\n    let row = 8;\n    let squareColor = 'white';\n\n    if (orientation === 'black') row = 1;\n\n    return (\n      <div\n        style={{ ...boardStyles(width), ...boardStyle }}\n        data-boardid={boardId}\n      >\n        {[...Array(8)].map((_, r) => {\n          row = orientation === 'black' ? row + 1 : row - 1;\n\n          return (\n            <div key={r.toString()} style={rowStyles(width)}>\n              {[...Array(8)].map((_, col) => {\n                let square =\n                  orientation === 'black'\n                    ? alpha[7 - col] + (row - 1)\n                    : alpha[col] + (row + 1);\n\n                if (col !== 0) {\n                  squareColor = squareColor === 'black' ? 'white' : 'black';\n                }\n                return children({ square, squareColor, col, row, alpha });\n              })}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default Row;\n\nconst boardStyles = width => ({\n  width,\n  height: width,\n  cursor: 'default'\n});\n\nconst rowStyles = width => ({\n  display: 'flex',\n  flexWrap: 'nowrap',\n  width\n});\n","import React, { Component } from 'react';\n\nimport Piece from './Piece';\nimport Square from './Square';\nimport Notation from './Notation';\nimport Chessboard from './index';\nimport PhantomPiece from './PhantomPiece';\nimport Row from './Row';\n\nclass Board extends Component {\n  setSquareCoordinates = (x, y, square) =>\n    this.setState({ [square]: { x, y } });\n\n  getSquareCoordinates = (sourceSquare, targetSquare) => ({\n    sourceSquare: this.state[sourceSquare],\n    targetSquare: this.state[targetSquare]\n  });\n\n  showPhantom = ({ square, targetSquare, phantomPiece }) => {\n    const isActivePiece = (square, targetSquare) =>\n      targetSquare && targetSquare === square;\n\n    return (\n      phantomPiece &&\n      phantomPiece[targetSquare] &&\n      isActivePiece(square, targetSquare)\n    );\n  };\n\n  hasPiece = (currentPosition, square) =>\n    currentPosition &&\n    Object.keys(currentPosition) &&\n    Object.keys(currentPosition).includes(square);\n\n  render() {\n    return (\n      <Chessboard.Consumer>\n        {context => {\n          if (!context) return;\n          return (\n            <Row\n              width={context.width}\n              boardStyle={context.boardStyle}\n              orientation={context.orientation}\n              boardId={context.id}\n            >\n              {({ square, squareColor, col, row, alpha }) => {\n                return (\n                  <Square\n                    key={`${col}${row}`}\n                    width={context.width}\n                    square={square}\n                    squareColor={squareColor}\n                    setSquareCoordinates={this.setSquareCoordinates}\n                    lightSquareStyle={context.lightSquareStyle}\n                    darkSquareStyle={context.darkSquareStyle}\n                    roughSquare={context.roughSquare}\n                    onMouseOverSquare={context.onMouseOverSquare}\n                    onMouseOutSquare={context.onMouseOutSquare}\n                    onDragOverSquare={context.onDragOverSquare}\n                    dropSquareStyle={context.dropSquareStyle}\n                    id={context.id}\n                    screenWidth={context.screenWidth}\n                    screenHeight={context.screenHeight}\n                    squareStyles={context.squareStyles}\n                    onSquareClick={context.onSquareClick}\n                    onSquareRightClick={context.onSquareRightClick}\n                    wasSquareClicked={context.wasSquareClicked}\n                  >\n                    {this.hasPiece(context.currentPosition, square) ? (\n                      <Piece\n                        pieces={context.pieces}\n                        square={square}\n                        piece={context.currentPosition[square]}\n                        width={context.width}\n                        setPosition={context.setPosition}\n                        dropOffBoard={context.dropOffBoard}\n                        getSquareCoordinates={this.getSquareCoordinates}\n                        draggable={context.draggable}\n                        onDrop={context.onDrop}\n                        sourceSquare={context.sourceSquare}\n                        targetSquare={context.targetSquare}\n                        waitForTransition={context.waitForTransition}\n                        transitionDuration={context.transitionDuration}\n                        orientation={context.orientation}\n                        id={context.id}\n                        setTouchState={context.setTouchState}\n                        wasManuallyDropped={context.wasManuallyDropped}\n                        phantomPiece={context.phantomPiece}\n                        onPieceClick={context.onPieceClick}\n                        wasSquareClicked={context.wasSquareClicked}\n                        allowDrag={context.allowDrag}\n                      />\n                    ) : null}\n\n                    {this.showPhantom({\n                      square,\n                      targetSquare: context.targetSquare,\n                      phantomPiece: context.phantomPiece\n                    }) && (\n                        <PhantomPiece\n                          width={context.width}\n                          hoveredSquare={square}\n                          phantomPieceValue={\n                            context.phantomPiece[context.targetSquare]\n                          }\n                          pieces={context.pieces}\n                          showNotation={context.showNotation}\n                          allowDrag={context.allowDrag}\n                        />\n                      )}\n\n                    {context.showNotation && (\n                      <Notation\n                        row={row}\n                        col={col}\n                        alpha={alpha}\n                        orientation={context.orientation}\n                        width={context.width}\n                        lightSquareStyle={context.lightSquareStyle}\n                        darkSquareStyle={context.darkSquareStyle}\n                      />\n                    )}\n                  </Square>\n                );\n              }}\n            </Row>\n          );\n        }}\n      </Chessboard.Consumer>\n    );\n  }\n}\n\nexport default Board;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Piece from './Piece';\nimport Chessboard from './index';\n\nfunction SparePiecesTop() {\n  return <SparePieces top />;\n}\n\nfunction SparePiecesBottom() {\n  return <SparePieces />;\n}\n\nclass SparePieces extends Component {\n  static propTypes = { top: PropTypes.bool };\n\n  static Top = SparePiecesTop;\n  static Bottom = SparePiecesBottom;\n\n  getOrientation = orientation => {\n    const { top } = this.props;\n    if (top) {\n      return orientation === 'black' ? 'white' : 'black';\n    }\n    return orientation === 'black' ? 'black' : 'white';\n  };\n\n  render() {\n    return (\n      <Chessboard.Consumer>\n        {context => {\n          if (!context) return;\n          const spares =\n            this.getOrientation(context.orientation) === 'black'\n              ? ['bK', 'bQ', 'bR', 'bB', 'bN', 'bP']\n              : ['wK', 'wQ', 'wR', 'wB', 'wN', 'wP'];\n\n          return (\n            <div style={spareStyles(context.width)}>\n              {spares.map(p => (\n                <div data-testid={`spare-${p}`} key={p}>\n                  <Piece\n                    piece={p}\n                    width={context.width}\n                    setPosition={context.setPosition}\n                    square={'spare'}\n                    dropOffBoard={context.dropOffBoard}\n                    draggable={true}\n                    onDrop={context.onDrop}\n                    sourceSquare={context.sourceSquare}\n                    targetSquare={context.targetSquare}\n                    sourcePiece={context.sourcePiece}\n                    orientation={context.orientation}\n                    manualDrop={context.manualDrop}\n                    id={context.id}\n                    pieces={context.pieces}\n                    wasManuallyDropped={context.wasManuallyDropped}\n                    onPieceClick={context.onPieceClick}\n                    allowDrag={context.allowDrag}\n                  />\n                </div>\n              ))}\n            </div>\n          );\n        }}\n      </Chessboard.Consumer>\n    );\n  }\n}\n\nexport default SparePieces;\n\nconst spareStyles = width => ({\n  display: 'flex',\n  justifyContent: 'center',\n  width\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { DragLayer } from 'react-dnd';\n\nimport { renderChessPiece } from './Piece';\n\nclass CustomDragLayer extends Component {\n  static propTypes = {\n    item: PropTypes.object,\n    currentOffset: PropTypes.shape({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired\n    }),\n    isDragging: PropTypes.bool.isRequired,\n    width: PropTypes.number,\n    pieces: PropTypes.object,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    wasPieceTouched: PropTypes.bool,\n    sourceSquare: PropTypes.string\n  };\n\n  state = {\n    hoveredSquare: ''\n  }\n\n  componentDidUpdate() {\n    if (this.props.hoveredSquare !== this.state.hoveredSquare) {\n      this.setState({ hoveredSquare: this.props.hoveredSquare })\n    }\n  }\n\n  render() {\n    const {\n      isDragging,\n      width,\n      item,\n      id,\n      currentOffset,\n      wasPieceTouched,\n      pieces,\n      sourceSquare\n    } = this.props;\n\n    console.log(this.state.hoveredSquare)\n\n    return (isDragging || this.state.hoveredSquare === sourceSquare) && item && item.board === id ? (\n      <div style={layerStyles}>\n        <div style={getItemStyle(currentOffset, wasPieceTouched)}>\n          {renderChessPiece({\n            width,\n            pieces,\n            hoveredSquare: this.state.hoveredSquare,\n            piece: item.piece,\n            isDragging,\n            customDragLayerStyles: { opacity: 1 },\n            sourceSquare\n          })}\n        </div>\n      </div>\n    ) : null;\n  }\n}\n\nfunction collect(monitor) {\n  return {\n    item: monitor.getItem(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging()\n  };\n}\n\nexport default DragLayer(collect)(CustomDragLayer);\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 10,\n  left: 0,\n  top: 0\n};\n\nconst getItemStyle = (currentOffset, wasPieceTouched) => {\n  if (!currentOffset) return { display: 'none' };\n\n  let { x, y } = currentOffset;\n  const transform = wasPieceTouched\n    ? `translate(${x}px, ${y + -25}px) scale(2)`\n    : `translate(${x}px, ${y}px)`;\n\n  return { transform };\n};\n","import React from 'react';\n//Chess pieces originally by User:Cburnett in a sprite image for use in computer applications.\n\nexport default {\n  wP: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <path\n        d=\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"\n        style={{\n          opacity: '1',\n          fill: '#ffffff',\n          fillOpacity: '1',\n          fillRule: 'nonzero',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'miter',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      />\n    </svg>\n  ),\n  wR: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          opacity: '1',\n          fill: '#ffffff',\n          fillOpacity: '1',\n          fillRule: 'evenodd',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <path\n          d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path d=\"M 34,14 L 31,17 L 14,17 L 11,14\" />\n        <path\n          d=\"M 31,17 L 31,29.5 L 14,29.5 L 14,17\"\n          style={{\n            strokeLinecap: 'butt',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path d=\"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\" />\n        <path\n          d=\"M 11,14 L 34,14\"\n          style={{\n            fill: 'none',\n            stroke: '#000000',\n            strokeLinejoin: 'miter'\n          }}\n        />\n      </g>\n    </svg>\n  ),\n  wN: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          opacity: '1',\n          fill: 'none',\n          fillOpacity: '1',\n          fillRule: 'evenodd',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <path\n          d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"\n          style={{\n            fill: '#ffffff',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"\n          style={{\n            fill: '#ffffff',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"\n          style={{\n            fill: '#000000',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"\n          transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"\n          style={{\n            fill: '#000000',\n            stroke: '#000000'\n          }}\n        />\n      </g>\n    </svg>\n  ),\n  wB: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          opacity: '1',\n          fill: 'none',\n          fillRule: 'evenodd',\n          fillOpacity: '1',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <g\n          style={{\n            fill: '#ffffff',\n            stroke: '#000000',\n            strokeLinecap: 'butt'\n          }}\n        >\n          <path d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\" />\n          <path d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" />\n          <path d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" />\n        </g>\n        <path\n          d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"\n          style={{\n            fill: 'none',\n            stroke: '#000000',\n            strokeLinejoin: 'miter'\n          }}\n        />\n      </g>\n    </svg>\n  ),\n  wQ: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          opacity: '1',\n          fill: '#ffffff',\n          fillOpacity: '1',\n          fillRule: 'evenodd',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(-1,-1)\"\n        />\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(15.5,-5.5)\"\n        />\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(32,-1)\"\n        />\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(7,-4.5)\"\n        />\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(24,-4)\"\n        />\n        <path\n          d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z \"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z \"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path d=\"M 11.5,30 C 15,29 30,29 33.5,30\" style={{ fill: 'none' }} />\n        <path\n          d=\"M 12,33.5 C 18,32.5 27,32.5 33,33.5\"\n          style={{ fill: 'none' }}\n        />\n      </g>\n    </svg>\n  ),\n  wK: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          fill: 'none',\n          fillOpacity: '1',\n          fillRule: 'evenodd',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <path\n          d=\"M 22.5,11.63 L 22.5,6\"\n          style={{\n            fill: 'none',\n            stroke: '#000000',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 20,8 L 25,8\"\n          style={{\n            fill: 'none',\n            stroke: '#000000',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"\n          style={{\n            fill: '#ffffff',\n            stroke: '#000000',\n            strokeLinecap: 'butt',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"\n          style={{\n            fill: '#ffffff',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 11.5,30 C 17,27 27,27 32.5,30\"\n          style={{\n            fill: 'none',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5\"\n          style={{\n            fill: 'none',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 11.5,37 C 17,34 27,34 32.5,37\"\n          style={{\n            fill: 'none',\n            stroke: '#000000'\n          }}\n        />\n      </g>\n    </svg>\n  ),\n  bP: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <path\n        d=\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"\n        style={{\n          opacity: '1',\n          fill: '#000000',\n          fillOpacity: '1',\n          fillRule: 'nonzero',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'miter',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      />\n    </svg>\n  ),\n  bR: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          opacity: '1',\n          fill: '000000',\n          fillOpacity: '1',\n          fillRule: 'evenodd',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <path\n          d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \"\n          style={{\n            strokeLinecap: 'butt',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 12,35.5 L 33,35.5 L 33,35.5\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff',\n            strokeWidth: '1',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 13,31.5 L 32,31.5\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff',\n            strokeWidth: '1',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 14,29.5 L 31,29.5\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff',\n            strokeWidth: '1',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 14,16.5 L 31,16.5\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff',\n            strokeWidth: '1',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 11,14 L 34,14\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff',\n            strokeWidth: '1',\n            strokeLinejoin: 'miter'\n          }}\n        />\n      </g>\n    </svg>\n  ),\n  bN: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          opacity: '1',\n          fill: 'none',\n          fillOpacity: '1',\n          fillRule: 'evenodd',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <path\n          d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"\n          style={{\n            fill: '#000000',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"\n          style={{\n            fill: '#000000',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"\n          style={{\n            fill: '#ffffff',\n            stroke: '#ffffff'\n          }}\n        />\n        <path\n          d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"\n          transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"\n          style={{\n            fill: '#ffffff',\n            stroke: '#ffffff'\n          }}\n        />\n        <path\n          d=\"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \"\n          style={{\n            fill: '#ffffff',\n            stroke: 'none'\n          }}\n        />\n      </g>\n    </svg>\n  ),\n  bB: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          opacity: '1',\n          fill: 'none',\n          fillRule: 'evenodd',\n          fillOpacity: '1',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <g\n          style={{\n            fill: '#000000',\n            stroke: '#000000',\n            strokeLinecap: 'butt'\n          }}\n        >\n          <path d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\" />\n          <path d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\" />\n          <path d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\" />\n        </g>\n        <path\n          d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff',\n            strokeLinejoin: 'miter'\n          }}\n        />\n      </g>\n    </svg>\n  ),\n  bQ: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          opacity: '1',\n          fill: '000000',\n          fillOpacity: '1',\n          fillRule: 'evenodd',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <g\n          style={{\n            fill: '#000000',\n            stroke: 'none'\n          }}\n        >\n          <circle cx=\"6\" cy=\"12\" r=\"2.75\" />\n          <circle cx=\"14\" cy=\"9\" r=\"2.75\" />\n          <circle cx=\"22.5\" cy=\"8\" r=\"2.75\" />\n          <circle cx=\"31\" cy=\"9\" r=\"2.75\" />\n          <circle cx=\"39\" cy=\"12\" r=\"2.75\" />\n        </g>\n        <path\n          d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"\n          style={{\n            strokeLinecap: 'butt',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"\n          style={{\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 11,38.5 A 35,35 1 0 0 34,38.5\"\n          style={{\n            fill: 'none',\n            stroke: '#000000',\n            strokeLinecap: 'butt'\n          }}\n        />\n        <path\n          d=\"M 11,29 A 35,35 1 0 1 34,29\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff'\n          }}\n        />\n        <path\n          d=\"M 12.5,31.5 L 32.5,31.5\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff'\n          }}\n        />\n        <path\n          d=\"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff'\n          }}\n        />\n        <path\n          d=\"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff'\n          }}\n        />\n      </g>\n    </svg>\n  ),\n  bK: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      width=\"45\"\n      height=\"45\"\n    >\n      <g\n        style={{\n          fill: 'none',\n          fillOpacity: '1',\n          fillRule: 'evenodd',\n          stroke: '#000000',\n          strokeWidth: '1.5',\n          strokeLinecap: 'round',\n          strokeLinejoin: 'round',\n          strokeMiterlimit: '4',\n          strokeDasharray: 'none',\n          strokeOpacity: '1'\n        }}\n      >\n        <path\n          d=\"M 22.5,11.63 L 22.5,6\"\n          style={{\n            fill: 'none',\n            stroke: '#000000',\n            strokeLinejoin: 'miter'\n          }}\n          id=\"path6570\"\n        />\n        <path\n          d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"\n          style={{\n            fill: '#000000',\n            fillOpacity: '1',\n            strokeLinecap: 'butt',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"\n          style={{\n            fill: '#000000',\n            stroke: '#000000'\n          }}\n        />\n        <path\n          d=\"M 20,8 L 25,8\"\n          style={{\n            fill: 'none',\n            stroke: '#000000',\n            strokeLinejoin: 'miter'\n          }}\n        />\n        <path\n          d=\"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff'\n          }}\n        />\n        <path\n          d=\"M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37\"\n          style={{\n            fill: 'none',\n            stroke: '#ffffff'\n          }}\n        />\n      </g>\n    </svg>\n  )\n};\n","import React from 'react';\n\nexport default {\n  whiteKing: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      style={{\n        shapeRendering: 'geometricPrecision',\n        textRendering: 'geometricPrecision',\n        imageRendering: 'optimizeQuality'\n      }}\n      viewBox=\"0 0 4210 12970\"\n      x=\"0px\"\n      y=\"0px\"\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      width=\"250\"\n      height=\"250\"\n    >\n      <g>\n        <path\n          style={{\n            fill: 'black',\n            fillRule: 'nonzero'\n          }}\n          d=\"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z\"\n        />\n      </g>\n    </svg>\n  )\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport error from './svg/whiteKing';\n\nclass ErrorBoundary extends Component {\n  static propTypes = { children: PropTypes.object };\n  state = { hasError: false };\n\n  componentDidCatch(error) {\n    this.setState({ hasError: true });\n\n    console.error(error.message);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div style={container}>\n          <div style={whiteKingStyle}>{error.whiteKing}</div>\n          <h1>Something went wrong</h1>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n\nconst container = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  flexDirection: 'column'\n};\n\nconst whiteKingStyle = {\n  width: 250,\n  height: 250,\n  transform: `rotate(90deg)`\n};\n","import React, { Component } from 'react';\nimport Board from './Board';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash.isequal';\nimport { DragDropContext } from 'react-dnd';\nimport MultiBackend from 'react-dnd-multi-backend';\nimport HTML5toTouch from 'react-dnd-multi-backend/lib/HTML5toTouch';\n\nimport SparePieces from './SparePieces';\nimport {\n  fenToObj,\n  validFen,\n  validPositionObject,\n  constructPositionAttributes\n} from './helpers';\nimport CustomDragLayer from './CustomDragLayer';\nimport defaultPieces from './svg/chesspieces/standard';\nimport ErrorBoundary from './ErrorBoundary';\n\nconst ChessboardContext = React.createContext();\n\nconst getPositionObject = position => {\n  if (position === 'start')\n    return fenToObj('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR');\n  if (validFen(position)) return fenToObj(position);\n  if (validPositionObject(position)) return position;\n\n  return {};\n};\n\nclass Chessboard extends Component {\n  static propTypes = {\n    /**\n     * The id prop is necessary if more than one board is mounted.\n     * Drag and drop will not work as expected if not provided.\n     */\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    /**\n     * The position to display on the board.  Can be either a FEN string or a position object.\n     * See https://www.chessboardjsx.com/basics/fen and https://www.chessboardjsx.com/basics/position-object\n     * for examples.\n     */\n    position: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    /**\n     * An object with functions returning jsx as values(render prop).\n     * See https://www.chessboardjsx.com/custom\n     * Signature: { wK:\n     * function({ isDragging, squareWidth, droppedPiece, targetSquare, sourceSquare }) => jsx }\n     */\n    pieces: PropTypes.object,\n    /**\n     * The width in pixels.  For a responsive width, use calcWidth.\n     */\n    width: PropTypes.number,\n    /**\n     * Orientation of the board.\n     */\n    orientation: PropTypes.oneOf(['white', 'black']),\n    /**\n     * If false, notation will not be shown on the board.\n     */\n    showNotation: PropTypes.bool,\n    /**\n     * If true, spare pieces will appear above and below the board.\n     */\n    sparePieces: PropTypes.bool,\n    /**\n     * If false, the pieces will not be draggable\n     */\n    draggable: PropTypes.bool,\n    /**\n     * The behavior of the piece when dropped off the board. 'snapback' brings the piece\n     * back to it's original square and 'trash' deletes the piece from the board\n     */\n    dropOffBoard: PropTypes.oneOf(['snapback', 'trash']),\n    /**\n     * The time it takes for a piece to slide to the target square.  Only used\n     * when the next position comes from the position prop. See chessboardjsx.com/integrations/random for an example\n     */\n    transitionDuration: PropTypes.number,\n    /**\n     * The style object for the board.\n     */\n    boardStyle: PropTypes.object,\n    /**\n     * The style object for the light square.\n     */\n    lightSquareStyle: PropTypes.object,\n    /**\n     * The style object for the dark square.\n     */\n    darkSquareStyle: PropTypes.object,\n    /**\n     * An object containing custom styles for squares.  For example {'e4': {backgroundColor: 'orange'},\n     * 'd4': {backgroundColor: 'blue'}}.  See chessboardjsx.com/integrations/move-validation for an example\n     */\n    squareStyles: PropTypes.object,\n    /**\n     * The style object for the current drop square. { backgroundColor: 'sienna' }\n     */\n    dropSquareStyle: PropTypes.object,\n    /**\n     * A function for responsive size control, returns the width of the board.\n     *\n     * Signature: function({ screenWidth: number, screenHeight: number }) => number\n     */\n    calcWidth: PropTypes.func,\n    /**\n     * A function that gives access to the underlying square element.  It\n     * allows for customizations with rough.js. See chessboardjsx.com/custom for an\n     * example.\n     *\n     * Signature: function({ squareElement: node, squareWidth: number }) => void\n     */\n    roughSquare: PropTypes.func,\n    /**\n     *  A function to call when the mouse is over a square.\n     *  See chessboardjsx.com/integrations/move-validation for an example.\n     *\n     *  Signature: function(square: string) => void\n     */\n    onMouseOverSquare: PropTypes.func,\n    /**\n     * A function to call when the mouse has left the square.\n     * See chessboardjsx.com/integrations/move-validation for an example.\n     *\n     * Signature: function(square: string) => void\n     */\n    onMouseOutSquare: PropTypes.func,\n    /**\n     * The logic to be performed on piece drop. See chessboardjsx.com/integrations for examples.\n     *\n     * Signature: function({ sourceSquare: string, targetSquare: string, piece: string }) => void\n     */\n    onDrop: PropTypes.func,\n    /**\n     * A function that gives access to the current position object.\n     * For example, getPosition = position => this.setState({ myPosition: position }).\n     *\n     * Signature: function(currentPosition: object) => void\n     */\n    getPosition: PropTypes.func,\n    /**\n     * A function to call when a piece is dragged over a specific square.\n     *\n     * Signature: function(square: string) => void\n     */\n    onDragOverSquare: PropTypes.func,\n    /**\n     * A function to call when a square is clicked.\n     *\n     * Signature: function(square: string) => void\n     */\n    onSquareClick: PropTypes.func,\n    /**\n     * A function to call when a piece is clicked.\n     *\n     * Signature: function(piece: string) => void\n     */\n    onPieceClick: PropTypes.func,\n    /**\n     * A function to call when a square is right clicked.\n     *\n     * Signature: function(square: string) => void\n     */\n    onSquareRightClick: PropTypes.func,\n    /**\n     * A function to call when a piece drag is initiated.  Returns true if the piece is draggable,\n     * false if not.\n     *\n     * Signature: function( { piece: string, sourceSquare: string } ) => bool\n     */\n    allowDrag: PropTypes.func,\n    /**\n    When set to true it undos previous move\n     */\n    undo: PropTypes.bool\n  };\n\n  static defaultProps = {\n    id: '0',\n    position: '',\n    pieces: {},\n    width: 560,\n    orientation: 'white',\n    showNotation: true,\n    sparePieces: false,\n    draggable: true,\n    undo: false,\n    dropOffBoard: 'snapback',\n    transitionDuration: 300,\n    boardStyle: {},\n    hoveredSquare: '',\n    lightSquareStyle: { backgroundColor: 'rgb(240, 217, 181)' },\n    darkSquareStyle: { backgroundColor: 'rgb(181, 136, 99)' },\n    squareStyles: {},\n    dropSquareStyle: { boxShadow: 'inset 0 0 1px 4px yellow' },\n    calcWidth: () => { },\n    roughSquare: () => { },\n    onMouseOverSquare: () => { },\n    onMouseOutSquare: () => { },\n    onDrop: () => { },\n    getPosition: () => { },\n    onDragOverSquare: () => { },\n    onSquareClick: () => { },\n    onPieceClick: () => { },\n    onSquareRightClick: () => { },\n    allowDrag: () => true\n  };\n\n  static Consumer = ChessboardContext.Consumer;\n\n  state = {\n    previousPositionFromProps: getPositionObject(this.props.position),\n    currentPosition: getPositionObject(this.props.position),\n    sourceSquare: '',\n    targetSquare: '',\n    sourcePiece: '',\n    hoveredSquare: '',\n    waitForTransition: false,\n    phantomPiece: null,\n    wasPieceTouched: false,\n    manualDrop: false,\n    squareClicked: false,\n    firstMove: false,\n    pieces: { ...defaultPieces, ...this.props.pieces },\n    undoMove: this.props.undo\n  };\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  updateWindowDimensions = () => {\n    this.setState({\n      screenWidth: window.innerWidth,\n      screenHeight: window.innerHeight\n    });\n  };\n\n  componentDidUpdate(prevProps) {\n    const { position, transitionDuration, getPosition, hoveredSquare } = this.props;\n    const { waitForTransition, undoMove } = this.state;\n    const positionFromProps = getPositionObject(position);\n    const previousPositionFromProps = getPositionObject(prevProps.position);\n\n    if (this.state.hoveredSquare !== hoveredSquare) {\n      this.setState({ hoveredSquare });\n    }\n\n    // Check if there is a new position coming from props or undo is called\n    if (!isEqual(positionFromProps, previousPositionFromProps) || undoMove) {\n      this.setState({\n        previousPositionFromProps: previousPositionFromProps,\n        undoMove: false\n      });\n\n      // get board position for user\n      getPosition(positionFromProps);\n\n      // Give piece time to transition.\n      if (waitForTransition) {\n        return new Promise(resolve => {\n          this.setState({ currentPosition: positionFromProps }, () =>\n            setTimeout(() => {\n              this.setState({ waitForTransition: false });\n              resolve();\n            }, transitionDuration)\n          );\n        }).then(() =>\n          setTimeout(\n            () => this.setState({ phantomPiece: null }),\n            transitionDuration\n          )\n        );\n      }\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { position, undo } = props;\n    const {\n      currentPosition,\n      manualDrop,\n      squareClicked\n    } = state;\n    let positionFromProps = getPositionObject(position);\n\n    // If positionFromProps is a new position then execute, else return null\n    if (!isEqual(positionFromProps, currentPosition)) {\n      // Position attributes from the diff between currentPosition and positionFromProps\n      const {\n        sourceSquare,\n        targetSquare,\n        sourcePiece,\n        squaresAffected\n      } = constructPositionAttributes(currentPosition, positionFromProps);\n\n      if (manualDrop) {\n        return {\n          sourceSquare,\n          targetSquare,\n          sourcePiece,\n          currentPosition: positionFromProps,\n          waitForTransition: false,\n          manualDrop: false\n        };\n      }\n\n      /* If the new position involves many pieces, then disregard the transition effect.\n        Possible to add functionality for transitioning of multiple pieces later */\n      if (squaresAffected && squaresAffected !== 2) {\n        return {\n          currentPosition: positionFromProps,\n          waitForTransition: false,\n          manualDrop: false,\n          sourceSquare,\n          targetSquare,\n          sourcePiece\n        };\n      }\n\n      // Check if currentPosition has a piece occupying the target square\n      if (currentPosition[targetSquare]) {\n        // Temporarily delete the target square from the new position\n        delete positionFromProps[targetSquare];\n\n        return {\n          sourceSquare,\n          targetSquare,\n          sourcePiece,\n          // Set the current position to the new position minus the targetSquare\n          currentPosition: positionFromProps,\n          waitForTransition: squareClicked ? false : true,\n          phantomPiece: squareClicked\n            ? null\n            : { [targetSquare]: currentPosition[targetSquare] },\n          manualDrop: false,\n          squareClicked: false\n        };\n      }\n\n      // allows for taking back a move\n      if (undo) {\n        return {\n          sourceSquare,\n          targetSquare,\n          sourcePiece,\n          currentPosition: positionFromProps,\n          waitForTransition: true,\n          manualDrop: false,\n          squareClicked: false,\n          undoMove: true\n        };\n      }\n\n      return {\n        sourceSquare,\n        targetSquare,\n        sourcePiece,\n        currentPosition: positionFromProps,\n        waitForTransition: squareClicked ? false : true,\n        manualDrop: false,\n        squareClicked: false\n      };\n    }\n\n    // default case\n    return null;\n  }\n\n  wasManuallyDropped = bool => this.setState({ manualDrop: bool });\n  wasSquareClicked = bool => this.setState({ squareClicked: bool });\n\n  /* Called on drop if there is no onDrop prop.  This is what executes when a position does not\n   change through the position prop, i.e., simple drag and drop operations on the pieces.*/\n  setPosition = ({ sourceSquare, targetSquare, piece }) => {\n    const { currentPosition } = this.state;\n    const { getPosition, dropOffBoard } = this.props;\n\n    if (sourceSquare === targetSquare) return;\n\n    if (dropOffBoard === 'trash' && !targetSquare) {\n      let newPosition = currentPosition;\n      delete newPosition[sourceSquare];\n      this.setState({ currentPosition: newPosition, manualDrop: true });\n      // get board position for user\n      return getPosition(currentPosition);\n    }\n\n    let newPosition = currentPosition;\n    sourceSquare !== 'spare' && delete newPosition[sourceSquare];\n    newPosition[targetSquare] = piece;\n\n    this.setState({ currentPosition: newPosition, manualDrop: true });\n    // get board position for user\n    getPosition(currentPosition);\n  };\n\n  // Allows for touch drag and drop\n  setTouchState = e => this.setState({ wasPieceTouched: e.isTrusted });\n\n  getWidth = () => {\n    const { calcWidth, width } = this.props;\n    const { screenWidth, screenHeight } = this.state;\n    return calcWidth({ screenWidth, screenHeight })\n      ? calcWidth({ screenWidth, screenHeight })\n      : width;\n  };\n\n  render() {\n    const { sparePieces, id, orientation, dropOffBoard } = this.props;\n    const {\n      sourceSquare,\n      targetSquare,\n      sourcePiece,\n      waitForTransition,\n      phantomPiece,\n      wasPieceTouched,\n      currentPosition,\n      manualDrop,\n      screenWidth,\n      screenHeight,\n      hoveredSquare,\n      pieces\n    } = this.state;\n\n    const getScreenDimensions = screenWidth && screenHeight;\n\n    return (\n      <ErrorBoundary>\n        <ChessboardContext.Provider\n          value={{\n            ...this.props,\n            pieces,\n            orientation: orientation.toLowerCase(),\n            dropOffBoard: dropOffBoard.toLowerCase(),\n            ...{\n              width: this.getWidth(),\n              sourceSquare,\n              targetSquare,\n              hoveredSquare,\n              sourcePiece,\n              waitForTransition,\n              phantomPiece,\n              setPosition: this.setPosition,\n              manualDrop,\n              setTouchState: this.setTouchState,\n              currentPosition,\n              screenWidth,\n              screenHeight,\n              wasManuallyDropped: this.wasManuallyDropped,\n              wasSquareClicked: this.wasSquareClicked\n            }\n          }}\n        >\n          <div>\n            {getScreenDimensions && sparePieces && <SparePieces.Top />}\n            {getScreenDimensions && <Board hoveredSquare={hoveredSquare} />}\n            {getScreenDimensions && sparePieces && <SparePieces.Bottom />}\n          </div>\n          <CustomDragLayer\n            width={this.getWidth()}\n            pieces={pieces}\n            id={id}\n            hoveredSquare={hoveredSquare}\n            wasPieceTouched={wasPieceTouched}\n            sourceSquare={targetSquare}\n          />\n        </ChessboardContext.Provider>\n      </ErrorBoundary>\n    );\n  }\n}\n\nexport default DragDropContext(MultiBackend(HTML5toTouch))(Chessboard);\n","/*\r\n * Copyright (c) 2020, Jeff Hlywa (jhlywa@gmail.com)\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *----------------------------------------------------------------------------*/\r\n\r\nvar Chess = function (fen) {\r\n    var BLACK = 'b'\r\n    var WHITE = 'w'\r\n\r\n    var EMPTY = -1\r\n\r\n    var PAWN = 'p'\r\n    var KNIGHT = 'n'\r\n    var BISHOP = 'b'\r\n    var ROOK = 'r'\r\n    var QUEEN = 'q'\r\n    var KING = 'k'\r\n\r\n    var SYMBOLS = 'pnbrqkPNBRQK'\r\n\r\n    var DEFAULT_POSITION =\r\n        'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1'\r\n\r\n    var POSSIBLE_RESULTS = ['1-0', '0-1', '1/2-1/2', '*']\r\n\r\n    var PAWN_OFFSETS = {\r\n        b: [16, 32, 17, 15],\r\n        w: [-16, -32, -17, -15]\r\n    }\r\n\r\n    var PIECE_OFFSETS = {\r\n        n: [-18, -33, -31, -14, 18, 33, 31, 14],\r\n        b: [-17, -15, 17, 15],\r\n        r: [-16, 1, 16, -1],\r\n        q: [-17, -16, -15, 1, 17, 16, 15, -1],\r\n        k: [-17, -16, -15, 1, 17, 16, 15, -1]\r\n    }\r\n\r\n    // prettier-ignore\r\n    var ATTACKS = [\r\n        20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20, 0,\r\n        0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0,\r\n        0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0,\r\n        0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0,\r\n        24, 24, 24, 24, 24, 24, 56, 0, 56, 24, 24, 24, 24, 24, 24, 0,\r\n        0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0,\r\n        0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0,\r\n        0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0,\r\n        20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20\r\n    ];\r\n\r\n    // prettier-ignore\r\n    var RAYS = [\r\n        17, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 15, 0,\r\n        0, 17, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 15, 0, 0,\r\n        0, 0, 17, 0, 0, 0, 0, 16, 0, 0, 0, 0, 15, 0, 0, 0,\r\n        0, 0, 0, 17, 0, 0, 0, 16, 0, 0, 0, 15, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 17, 0, 0, 16, 0, 0, 15, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 17, 0, 16, 0, 15, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, 0, 17, 16, 15, 0, 0, 0, 0, 0, 0, 0,\r\n        1, 1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -1, 0,\r\n        0, 0, 0, 0, 0, 0, -15, -16, -17, 0, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0, -15, 0, -16, 0, -17, 0, 0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, -15, 0, 0, -16, 0, 0, -17, 0, 0, 0, 0, 0,\r\n        0, 0, 0, -15, 0, 0, 0, -16, 0, 0, 0, -17, 0, 0, 0, 0,\r\n        0, 0, -15, 0, 0, 0, 0, -16, 0, 0, 0, 0, -17, 0, 0, 0,\r\n        0, -15, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, -17, 0, 0,\r\n        -15, 0, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, 0, -17\r\n    ];\r\n\r\n    var SHIFTS = { p: 0, n: 1, b: 2, r: 3, q: 4, k: 5 }\r\n\r\n    var FLAGS = {\r\n        NORMAL: 'n',\r\n        CAPTURE: 'c',\r\n        BIG_PAWN: 'b',\r\n        EP_CAPTURE: 'e',\r\n        PROMOTION: 'p',\r\n        KSIDE_CASTLE: 'k',\r\n        QSIDE_CASTLE: 'q'\r\n    }\r\n\r\n    var BITS = {\r\n        NORMAL: 1,\r\n        CAPTURE: 2,\r\n        BIG_PAWN: 4,\r\n        EP_CAPTURE: 8,\r\n        PROMOTION: 16,\r\n        KSIDE_CASTLE: 32,\r\n        QSIDE_CASTLE: 64\r\n    }\r\n\r\n    var RANK_1 = 7\r\n    var RANK_2 = 6\r\n    var RANK_3 = 5\r\n    var RANK_4 = 4\r\n    var RANK_5 = 3\r\n    var RANK_6 = 2\r\n    var RANK_7 = 1\r\n    var RANK_8 = 0\r\n\r\n    // prettier-ignore\r\n    var SQUARES = {\r\n        a8: 0, b8: 1, c8: 2, d8: 3, e8: 4, f8: 5, g8: 6, h8: 7,\r\n        a7: 16, b7: 17, c7: 18, d7: 19, e7: 20, f7: 21, g7: 22, h7: 23,\r\n        a6: 32, b6: 33, c6: 34, d6: 35, e6: 36, f6: 37, g6: 38, h6: 39,\r\n        a5: 48, b5: 49, c5: 50, d5: 51, e5: 52, f5: 53, g5: 54, h5: 55,\r\n        a4: 64, b4: 65, c4: 66, d4: 67, e4: 68, f4: 69, g4: 70, h4: 71,\r\n        a3: 80, b3: 81, c3: 82, d3: 83, e3: 84, f3: 85, g3: 86, h3: 87,\r\n        a2: 96, b2: 97, c2: 98, d2: 99, e2: 100, f2: 101, g2: 102, h2: 103,\r\n        a1: 112, b1: 113, c1: 114, d1: 115, e1: 116, f1: 117, g1: 118, h1: 119\r\n    };\r\n\r\n    var ROOKS = {\r\n        w: [\r\n            { square: SQUARES.a1, flag: BITS.QSIDE_CASTLE },\r\n            { square: SQUARES.h1, flag: BITS.KSIDE_CASTLE }\r\n        ],\r\n        b: [\r\n            { square: SQUARES.a8, flag: BITS.QSIDE_CASTLE },\r\n            { square: SQUARES.h8, flag: BITS.KSIDE_CASTLE }\r\n        ]\r\n    }\r\n\r\n    var board = new Array(128)\r\n    var kings = { w: EMPTY, b: EMPTY }\r\n    var turn = WHITE\r\n    var castling = { w: 0, b: 0 }\r\n    var ep_square = EMPTY\r\n    var half_moves = 0\r\n    var move_number = 1\r\n    var history = []\r\n    var header = {}\r\n    var comments = {}\r\n\r\n    /* if the user passes in a fen string, load it, else default to\r\n     * starting position\r\n     */\r\n    if (typeof fen === 'undefined') {\r\n        load(DEFAULT_POSITION)\r\n    } else {\r\n        load(fen)\r\n    }\r\n\r\n    function clear(keep_headers) {\r\n        if (typeof keep_headers === 'undefined') {\r\n            keep_headers = false\r\n        }\r\n\r\n        board = new Array(128)\r\n        kings = { w: EMPTY, b: EMPTY }\r\n        turn = WHITE\r\n        castling = { w: 0, b: 0 }\r\n        ep_square = EMPTY\r\n        half_moves = 0\r\n        move_number = 1\r\n        history = []\r\n        if (!keep_headers) header = {}\r\n        comments = {}\r\n        update_setup(generate_fen())\r\n    }\r\n\r\n    function prune_comments() {\r\n        var reversed_history = [];\r\n        var current_comments = {};\r\n        var copy_comment = function (fen) {\r\n            if (fen in comments) {\r\n                current_comments[fen] = comments[fen];\r\n            }\r\n        };\r\n        while (history.length > 0) {\r\n            reversed_history.push(undo_move());\r\n        }\r\n        copy_comment(generate_fen());\r\n        while (reversed_history.length > 0) {\r\n            make_move(reversed_history.pop());\r\n            copy_comment(generate_fen());\r\n        }\r\n        comments = current_comments;\r\n    }\r\n\r\n    function reset() {\r\n        load(DEFAULT_POSITION)\r\n    }\r\n\r\n    function load(fen, keep_headers) {\r\n        if (typeof keep_headers === 'undefined') {\r\n            keep_headers = false\r\n        }\r\n\r\n        var tokens = fen.split(/\\s+/)\r\n        var position = tokens[0]\r\n        var square = 0\r\n\r\n        if (!validate_fen(fen).valid) {\r\n            return false\r\n        }\r\n\r\n        clear(keep_headers)\r\n\r\n        for (var i = 0; i < position.length; i++) {\r\n            var piece = position.charAt(i)\r\n\r\n            if (piece === '/') {\r\n                square += 8\r\n            } else if (is_digit(piece)) {\r\n                square += parseInt(piece, 10)\r\n            } else {\r\n                var color = piece < 'a' ? WHITE : BLACK\r\n                put({ type: piece.toLowerCase(), color: color }, algebraic(square))\r\n                square++\r\n            }\r\n        }\r\n\r\n        turn = tokens[1]\r\n\r\n        if (tokens[2].indexOf('K') > -1) {\r\n            castling.w |= BITS.KSIDE_CASTLE\r\n        }\r\n        if (tokens[2].indexOf('Q') > -1) {\r\n            castling.w |= BITS.QSIDE_CASTLE\r\n        }\r\n        if (tokens[2].indexOf('k') > -1) {\r\n            castling.b |= BITS.KSIDE_CASTLE\r\n        }\r\n        if (tokens[2].indexOf('q') > -1) {\r\n            castling.b |= BITS.QSIDE_CASTLE\r\n        }\r\n\r\n        ep_square = tokens[3] === '-' ? EMPTY : SQUARES[tokens[3]]\r\n        half_moves = parseInt(tokens[4], 10)\r\n        move_number = parseInt(tokens[5], 10)\r\n\r\n        update_setup(generate_fen())\r\n\r\n        return true\r\n    }\r\n\r\n    /* TODO: this function is pretty much crap - it validates structure but\r\n     * completely ignores content (e.g. doesn't verify that each side has a king)\r\n     * ... we should rewrite this, and ditch the silly error_number field while\r\n     * we're at it\r\n     */\r\n    function validate_fen(fen) {\r\n        var errors = {\r\n            0: 'No errors.',\r\n            1: 'FEN string must contain six space-delimited fields.',\r\n            2: '6th field (move number) must be a positive integer.',\r\n            3: '5th field (half move counter) must be a non-negative integer.',\r\n            4: '4th field (en-passant square) is invalid.',\r\n            5: '3rd field (castling availability) is invalid.',\r\n            6: '2nd field (side to move) is invalid.',\r\n            7: \"1st field (piece positions) does not contain 8 '/'-delimited rows.\",\r\n            8: '1st field (piece positions) is invalid [consecutive numbers].',\r\n            9: '1st field (piece positions) is invalid [invalid piece].',\r\n            10: '1st field (piece positions) is invalid [row too large].',\r\n            11: 'Illegal en-passant square'\r\n        }\r\n\r\n        /* 1st criterion: 6 space-seperated fields? */\r\n        var tokens = fen.split(/\\s+/)\r\n        if (tokens.length !== 6) {\r\n            return { valid: false, error_number: 1, error: errors[1] }\r\n        }\r\n\r\n        /* 2nd criterion: move number field is a integer value > 0? */\r\n        if (isNaN(tokens[5]) || parseInt(tokens[5], 10) <= 0) {\r\n            return { valid: false, error_number: 2, error: errors[2] }\r\n        }\r\n\r\n        /* 3rd criterion: half move counter is an integer >= 0? */\r\n        if (isNaN(tokens[4]) || parseInt(tokens[4], 10) < 0) {\r\n            return { valid: false, error_number: 3, error: errors[3] }\r\n        }\r\n\r\n        /* 4th criterion: 4th field is a valid e.p.-string? */\r\n        if (!/^(-|[abcdefgh][36])$/.test(tokens[3])) {\r\n            return { valid: false, error_number: 4, error: errors[4] }\r\n        }\r\n\r\n        /* 5th criterion: 3th field is a valid castle-string? */\r\n        if (!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(tokens[2])) {\r\n            return { valid: false, error_number: 5, error: errors[5] }\r\n        }\r\n\r\n        /* 6th criterion: 2nd field is \"w\" (white) or \"b\" (black)? */\r\n        if (!/^(w|b)$/.test(tokens[1])) {\r\n            return { valid: false, error_number: 6, error: errors[6] }\r\n        }\r\n\r\n        /* 7th criterion: 1st field contains 8 rows? */\r\n        var rows = tokens[0].split('/')\r\n        if (rows.length !== 8) {\r\n            return { valid: false, error_number: 7, error: errors[7] }\r\n        }\r\n\r\n        /* 8th criterion: every row is valid? */\r\n        for (var i = 0; i < rows.length; i++) {\r\n            /* check for right sum of fields AND not two numbers in succession */\r\n            var sum_fields = 0\r\n            var previous_was_number = false\r\n\r\n            for (var k = 0; k < rows[i].length; k++) {\r\n                if (!isNaN(rows[i][k])) {\r\n                    if (previous_was_number) {\r\n                        return { valid: false, error_number: 8, error: errors[8] }\r\n                    }\r\n                    sum_fields += parseInt(rows[i][k], 10)\r\n                    previous_was_number = true\r\n                } else {\r\n                    if (!/^[prnbqkPRNBQK]$/.test(rows[i][k])) {\r\n                        return { valid: false, error_number: 9, error: errors[9] }\r\n                    }\r\n                    sum_fields += 1\r\n                    previous_was_number = false\r\n                }\r\n            }\r\n            if (sum_fields !== 8) {\r\n                return { valid: false, error_number: 10, error: errors[10] }\r\n            }\r\n        }\r\n\r\n        if (\r\n            (tokens[3][1] == '3' && tokens[1] == 'w') ||\r\n            (tokens[3][1] == '6' && tokens[1] == 'b')\r\n        ) {\r\n            return { valid: false, error_number: 11, error: errors[11] }\r\n        }\r\n\r\n        /* everything's okay! */\r\n        return { valid: true, error_number: 0, error: errors[0] }\r\n    }\r\n\r\n    function generate_fen() {\r\n        var empty = 0\r\n        var fen = ''\r\n\r\n        for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\r\n            if (board[i] == null) {\r\n                empty++\r\n            } else {\r\n                if (empty > 0) {\r\n                    fen += empty\r\n                    empty = 0\r\n                }\r\n                var color = board[i].color\r\n                var piece = board[i].type\r\n\r\n                fen += color === WHITE ? piece.toUpperCase() : piece.toLowerCase()\r\n            }\r\n\r\n            if ((i + 1) & 0x88) {\r\n                if (empty > 0) {\r\n                    fen += empty\r\n                }\r\n\r\n                if (i !== SQUARES.h1) {\r\n                    fen += '/'\r\n                }\r\n\r\n                empty = 0\r\n                i += 8\r\n            }\r\n        }\r\n\r\n        var cflags = ''\r\n        if (castling[WHITE] & BITS.KSIDE_CASTLE) {\r\n            cflags += 'K'\r\n        }\r\n        if (castling[WHITE] & BITS.QSIDE_CASTLE) {\r\n            cflags += 'Q'\r\n        }\r\n        if (castling[BLACK] & BITS.KSIDE_CASTLE) {\r\n            cflags += 'k'\r\n        }\r\n        if (castling[BLACK] & BITS.QSIDE_CASTLE) {\r\n            cflags += 'q'\r\n        }\r\n\r\n        /* do we have an empty castling flag? */\r\n        cflags = cflags || '-'\r\n        var epflags = ep_square === EMPTY ? '-' : algebraic(ep_square)\r\n\r\n        return [fen, turn, cflags, epflags, half_moves, move_number].join(' ')\r\n    }\r\n\r\n    function set_header(args) {\r\n        for (var i = 0; i < args.length; i += 2) {\r\n            if (typeof args[i] === 'string' && typeof args[i + 1] === 'string') {\r\n                header[args[i]] = args[i + 1]\r\n            }\r\n        }\r\n        return header\r\n    }\r\n\r\n    /* called when the initial board setup is changed with put() or remove().\r\n     * modifies the SetUp and FEN properties of the header object.  if the FEN is\r\n     * equal to the default position, the SetUp and FEN are deleted\r\n     * the setup is only updated if history.length is zero, ie moves haven't been\r\n     * made.\r\n     */\r\n    function update_setup(fen) {\r\n        if (history.length > 0) return\r\n\r\n        if (fen !== DEFAULT_POSITION) {\r\n            header['SetUp'] = '1'\r\n            header['FEN'] = fen\r\n        } else {\r\n            delete header['SetUp']\r\n            delete header['FEN']\r\n        }\r\n    }\r\n\r\n    function get(square) {\r\n        var piece = board[SQUARES[square]]\r\n        return piece ? { type: piece.type, color: piece.color } : null\r\n    }\r\n\r\n    function put(piece, square) {\r\n        /* check for valid piece object */\r\n        if (!('type' in piece && 'color' in piece)) {\r\n            return false\r\n        }\r\n\r\n        /* check for piece */\r\n        if (SYMBOLS.indexOf(piece.type.toLowerCase()) === -1) {\r\n            return false\r\n        }\r\n\r\n        /* check for valid square */\r\n        if (!(square in SQUARES)) {\r\n            return false\r\n        }\r\n\r\n        var sq = SQUARES[square]\r\n\r\n        /* don't let the user place more than one king */\r\n        if (\r\n            piece.type == KING &&\r\n            !(kings[piece.color] == EMPTY || kings[piece.color] == sq)\r\n        ) {\r\n            return false\r\n        }\r\n\r\n        board[sq] = { type: piece.type, color: piece.color }\r\n        if (piece.type === KING) {\r\n            kings[piece.color] = sq\r\n        }\r\n\r\n        update_setup(generate_fen())\r\n\r\n        return true\r\n    }\r\n\r\n    function remove(square) {\r\n        var piece = get(square)\r\n        board[SQUARES[square]] = null\r\n        if (piece && piece.type === KING) {\r\n            kings[piece.color] = EMPTY\r\n        }\r\n\r\n        update_setup(generate_fen())\r\n\r\n        return piece\r\n    }\r\n\r\n    function build_move(board, from, to, flags, promotion) {\r\n        var move = {\r\n            color: turn,\r\n            from: from,\r\n            to: to,\r\n            flags: flags,\r\n            piece: board[from].type\r\n        }\r\n\r\n        if (promotion) {\r\n            move.flags |= BITS.PROMOTION\r\n            move.promotion = promotion\r\n        }\r\n\r\n        if (board[to]) {\r\n            move.captured = board[to].type\r\n        } else if (flags & BITS.EP_CAPTURE) {\r\n            move.captured = PAWN\r\n        }\r\n        return move\r\n    }\r\n\r\n    function generate_moves(options) {\r\n        function add_move(board, moves, from, to, flags) {\r\n            /* if pawn promotion */\r\n            if (\r\n                board[from].type === PAWN &&\r\n                (rank(to) === RANK_8 || rank(to) === RANK_1)\r\n            ) {\r\n                var pieces = [QUEEN, ROOK, BISHOP, KNIGHT]\r\n                for (var i = 0, len = pieces.length; i < len; i++) {\r\n                    moves.push(build_move(board, from, to, flags, pieces[i]))\r\n                }\r\n            } else {\r\n                moves.push(build_move(board, from, to, flags))\r\n            }\r\n        }\r\n\r\n        var moves = []\r\n        var us = turn\r\n        var them = swap_color(us)\r\n        var second_rank = { b: RANK_7, w: RANK_2 }\r\n\r\n        var first_sq = SQUARES.a8\r\n        var last_sq = SQUARES.h1\r\n        var single_square = false\r\n\r\n        /* do we want legal moves? */\r\n        var legal =\r\n            typeof options !== 'undefined' && 'legal' in options\r\n                ? options.legal\r\n                : true\r\n\r\n        /* are we generating moves for a single square? */\r\n        if (typeof options !== 'undefined' && 'square' in options) {\r\n            if (options.square in SQUARES) {\r\n                first_sq = last_sq = SQUARES[options.square]\r\n                single_square = true\r\n            } else {\r\n                /* invalid square */\r\n                return []\r\n            }\r\n        }\r\n\r\n        for (var i = first_sq; i <= last_sq; i++) {\r\n            /* did we run off the end of the board */\r\n            if (i & 0x88) {\r\n                i += 7\r\n                continue\r\n            }\r\n\r\n            var piece = board[i]\r\n            if (piece == null || piece.color !== us) {\r\n                continue\r\n            }\r\n\r\n            if (piece.type === PAWN) {\r\n                /* single square, non-capturing */\r\n                var square = i + PAWN_OFFSETS[us][0]\r\n                if (board[square] == null) {\r\n                    add_move(board, moves, i, square, BITS.NORMAL)\r\n\r\n                    /* double square */\r\n                    var square = i + PAWN_OFFSETS[us][1]\r\n                    // if (second_rank[us] === rank(i) && board[square] == null) {\r\n                    //   add_move(board, moves, i, square, BITS.BIG_PAWN)\r\n                    // }\r\n                    // My code\r\n                    if (second_rank[us] === rank(i) && board[square] == null) {\r\n                        add_move(board, moves, i, square, BITS.NORMAL)\r\n                    }\r\n                }\r\n\r\n                /* pawn captures */\r\n                for (j = 2; j < 4; j++) {\r\n                    var square = i + PAWN_OFFSETS[us][j]\r\n                    if (square & 0x88) continue\r\n\r\n                    if (board[square] != null && board[square].color === them) {\r\n                        add_move(board, moves, i, square, BITS.CAPTURE)\r\n                    } else if (square === ep_square) {\r\n                        add_move(board, moves, i, ep_square, BITS.EP_CAPTURE)\r\n                    }\r\n                }\r\n            } else {\r\n                for (var j = 0, len = PIECE_OFFSETS[piece.type].length; j < len; j++) {\r\n                    var offset = PIECE_OFFSETS[piece.type][j]\r\n                    var square = i\r\n\r\n                    while (true) {\r\n                        square += offset\r\n                        if (square & 0x88) break\r\n\r\n                        if (board[square] == null) {\r\n                            add_move(board, moves, i, square, BITS.NORMAL)\r\n                        } else {\r\n                            if (board[square].color === us) break\r\n                            add_move(board, moves, i, square, BITS.CAPTURE)\r\n                            break\r\n                        }\r\n\r\n                        /* break, if knight or king */\r\n                        if (piece.type === 'n' || piece.type === 'k') break\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /* check for castling if: a) we're generating all moves, or b) we're doing\r\n         * single square move generation on the king's square\r\n         */\r\n        if (!single_square || last_sq === kings[us]) {\r\n            /* king-side castling */\r\n            if (castling[us] & BITS.KSIDE_CASTLE) {\r\n                var castling_from = kings[us]\r\n                var castling_to = castling_from + 2\r\n\r\n                if (\r\n                    board[castling_from + 1] == null &&\r\n                    board[castling_to] == null &&\r\n                    !attacked(them, kings[us]) &&\r\n                    !attacked(them, castling_from + 1) &&\r\n                    !attacked(them, castling_to)\r\n                ) {\r\n                    add_move(board, moves, kings[us], castling_to, BITS.KSIDE_CASTLE)\r\n                }\r\n            }\r\n\r\n            /* queen-side castling */\r\n            if (castling[us] & BITS.QSIDE_CASTLE) {\r\n                var castling_from = kings[us]\r\n                var castling_to = castling_from - 2\r\n\r\n                if (\r\n                    board[castling_from - 1] == null &&\r\n                    board[castling_from - 2] == null &&\r\n                    board[castling_from - 3] == null &&\r\n                    !attacked(them, kings[us]) &&\r\n                    !attacked(them, castling_from - 1) &&\r\n                    !attacked(them, castling_to)\r\n                ) {\r\n                    add_move(board, moves, kings[us], castling_to, BITS.QSIDE_CASTLE)\r\n                }\r\n            }\r\n        }\r\n\r\n        /* return all pseudo-legal moves (this includes moves that allow the king\r\n         * to be captured)\r\n         */\r\n        if (!legal) {\r\n            return moves\r\n        }\r\n\r\n        /* filter out illegal moves */\r\n        var legal_moves = []\r\n        for (var i = 0, len = moves.length; i < len; i++) {\r\n            make_move(moves[i])\r\n            // if (!king_attacked(us)) {\r\n            legal_moves.push(moves[i])\r\n            // }\r\n            undo_move()\r\n        }\r\n\r\n        return legal_moves\r\n    }\r\n\r\n    /* convert a move from 0x88 coordinates to Standard Algebraic Notation\r\n     * (SAN)\r\n     *\r\n     * @param {boolean} sloppy Use the sloppy SAN generator to work around over\r\n     * disambiguation bugs in Fritz and Chessbase.  See below:\r\n     *\r\n     * r1bqkbnr/ppp2ppp/2n5/1B1pP3/4P3/8/PPPP2PP/RNBQK1NR b KQkq - 2 4\r\n     * 4. ... Nge7 is overly disambiguated because the knight on c6 is pinned\r\n     * 4. ... Ne7 is technically the valid SAN\r\n     */\r\n    function move_to_san(move, sloppy) {\r\n        var output = ''\r\n\r\n        if (move.flags & BITS.KSIDE_CASTLE) {\r\n            output = 'O-O'\r\n        } else if (move.flags & BITS.QSIDE_CASTLE) {\r\n            output = 'O-O-O'\r\n        } else {\r\n            var disambiguator = get_disambiguator(move, sloppy)\r\n\r\n            if (move.piece !== PAWN) {\r\n                output += move.piece.toUpperCase() + disambiguator\r\n            }\r\n\r\n            if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\r\n                if (move.piece === PAWN) {\r\n                    output += algebraic(move.from)[0]\r\n                }\r\n                output += 'x'\r\n            }\r\n\r\n            output += algebraic(move.to)\r\n\r\n            if (move.flags & BITS.PROMOTION) {\r\n                output += '=' + move.promotion.toUpperCase()\r\n            }\r\n        }\r\n\r\n        make_move(move)\r\n        if (in_check()) {\r\n            if (in_checkmate()) {\r\n                output += '#'\r\n            } else {\r\n                output += '+'\r\n            }\r\n        }\r\n        undo_move()\r\n\r\n        return output\r\n    }\r\n\r\n    // parses all of the decorators out of a SAN string\r\n    function stripped_san(move) {\r\n        return move.replace(/=/, '').replace(/[+#]?[?!]*$/, '')\r\n    }\r\n\r\n    function attacked(color, square) {\r\n        for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\r\n            /* did we run off the end of the board */\r\n            if (i & 0x88) {\r\n                i += 7\r\n                continue\r\n            }\r\n\r\n            /* if empty square or wrong color */\r\n            if (board[i] == null || board[i].color !== color) continue\r\n\r\n            var piece = board[i]\r\n            var difference = i - square\r\n            var index = difference + 119\r\n\r\n            if (ATTACKS[index] & (1 << SHIFTS[piece.type])) {\r\n                if (piece.type === PAWN) {\r\n                    if (difference > 0) {\r\n                        if (piece.color === WHITE) return true\r\n                    } else {\r\n                        if (piece.color === BLACK) return true\r\n                    }\r\n                    continue\r\n                }\r\n\r\n                /* if the piece is a knight or a king */\r\n                if (piece.type === 'n' || piece.type === 'k') return true\r\n\r\n                var offset = RAYS[index]\r\n                var j = i + offset\r\n\r\n                var blocked = false\r\n                while (j !== square) {\r\n                    if (board[j] != null) {\r\n                        blocked = true\r\n                        break\r\n                    }\r\n                    j += offset\r\n                }\r\n\r\n                if (!blocked) return true\r\n            }\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    function king_attacked(color) {\r\n        return attacked(swap_color(color), kings[color])\r\n    }\r\n\r\n    function in_check() {\r\n        return king_attacked(turn)\r\n    }\r\n\r\n    function in_checkmate() {\r\n        return in_check() && generate_moves().length === 0\r\n    }\r\n\r\n    function in_stalemate() {\r\n        return !in_check() && generate_moves().length === 0\r\n    }\r\n\r\n    function insufficient_material() {\r\n        var pieces = {}\r\n        var bishops = []\r\n        var num_pieces = 0\r\n        var sq_color = 0\r\n\r\n        for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\r\n            sq_color = (sq_color + 1) % 2\r\n            if (i & 0x88) {\r\n                i += 7\r\n                continue\r\n            }\r\n\r\n            var piece = board[i]\r\n            if (piece) {\r\n                pieces[piece.type] = piece.type in pieces ? pieces[piece.type] + 1 : 1\r\n                if (piece.type === BISHOP) {\r\n                    bishops.push(sq_color)\r\n                }\r\n                num_pieces++\r\n            }\r\n        }\r\n\r\n        /* k vs. k */\r\n        if (num_pieces === 2) {\r\n            return true\r\n        } else if (\r\n            /* k vs. kn .... or .... k vs. kb */\r\n            num_pieces === 3 &&\r\n            (pieces[BISHOP] === 1 || pieces[KNIGHT] === 1)\r\n        ) {\r\n            return true\r\n        } else if (num_pieces === pieces[BISHOP] + 2) {\r\n            /* kb vs. kb where any number of bishops are all on the same color */\r\n            var sum = 0\r\n            var len = bishops.length\r\n            for (var i = 0; i < len; i++) {\r\n                sum += bishops[i]\r\n            }\r\n            if (sum === 0 || sum === len) {\r\n                return true\r\n            }\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    function in_threefold_repetition() {\r\n        /* TODO: while this function is fine for casual use, a better\r\n         * implementation would use a Zobrist key (instead of FEN). the\r\n         * Zobrist key would be maintained in the make_move/undo_move functions,\r\n         * avoiding the costly that we do below.\r\n         */\r\n        var moves = []\r\n        var positions = {}\r\n        var repetition = false\r\n\r\n        while (true) {\r\n            var move = undo_move()\r\n            if (!move) break\r\n            moves.push(move)\r\n        }\r\n\r\n        while (true) {\r\n            /* remove the last two fields in the FEN string, they're not needed\r\n             * when checking for draw by rep */\r\n            var fen = generate_fen()\r\n                .split(' ')\r\n                .slice(0, 4)\r\n                .join(' ')\r\n\r\n            /* has the position occurred three or move times */\r\n            positions[fen] = fen in positions ? positions[fen] + 1 : 1\r\n            if (positions[fen] >= 3) {\r\n                repetition = true\r\n            }\r\n\r\n            if (!moves.length) {\r\n                break\r\n            }\r\n            make_move(moves.pop())\r\n        }\r\n\r\n        return repetition\r\n    }\r\n\r\n    function push(move) {\r\n        history.push({\r\n            move: move,\r\n            kings: { b: kings.b, w: kings.w },\r\n            turn: turn,\r\n            castling: { b: castling.b, w: castling.w },\r\n            ep_square: ep_square,\r\n            half_moves: half_moves,\r\n            move_number: move_number\r\n        })\r\n    }\r\n\r\n    function make_move(move) {\r\n        var us = turn\r\n        var them = swap_color(us)\r\n        push(move)\r\n\r\n        board[move.to] = board[move.from]\r\n        board[move.from] = null\r\n\r\n        /* if ep capture, remove the captured pawn */\r\n        if (move.flags & BITS.EP_CAPTURE) {\r\n            if (turn === BLACK) {\r\n                board[move.to - 16] = null\r\n            } else {\r\n                board[move.to + 16] = null\r\n            }\r\n        }\r\n\r\n        /* if pawn promotion, replace with new piece */\r\n        if (move.flags & BITS.PROMOTION) {\r\n            board[move.to] = { type: move.promotion, color: us }\r\n        }\r\n\r\n        /* if we moved the king */\r\n        if (board[move.to].type === KING) {\r\n            kings[board[move.to].color] = move.to\r\n\r\n            /* if we castled, move the rook next to the king */\r\n            if (move.flags & BITS.KSIDE_CASTLE) {\r\n                var castling_to = move.to - 1\r\n                var castling_from = move.to + 1\r\n                board[castling_to] = board[castling_from]\r\n                board[castling_from] = null\r\n            } else if (move.flags & BITS.QSIDE_CASTLE) {\r\n                var castling_to = move.to + 1\r\n                var castling_from = move.to - 2\r\n                board[castling_to] = board[castling_from]\r\n                board[castling_from] = null\r\n            }\r\n\r\n            /* turn off castling */\r\n            castling[us] = ''\r\n        }\r\n\r\n        /* turn off castling if we move a rook */\r\n        if (castling[us]) {\r\n            for (var i = 0, len = ROOKS[us].length; i < len; i++) {\r\n                if (\r\n                    move.from === ROOKS[us][i].square &&\r\n                    castling[us] & ROOKS[us][i].flag\r\n                ) {\r\n                    castling[us] ^= ROOKS[us][i].flag\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        /* turn off castling if we capture a rook */\r\n        if (castling[them]) {\r\n            for (var i = 0, len = ROOKS[them].length; i < len; i++) {\r\n                if (\r\n                    move.to === ROOKS[them][i].square &&\r\n                    castling[them] & ROOKS[them][i].flag\r\n                ) {\r\n                    castling[them] ^= ROOKS[them][i].flag\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        /* if big pawn move, update the en passant square */\r\n        if (move.flags & BITS.BIG_PAWN) {\r\n            if (turn === 'b') {\r\n                ep_square = move.to - 16\r\n            } else {\r\n                ep_square = move.to + 16\r\n            }\r\n        } else {\r\n            ep_square = EMPTY\r\n        }\r\n\r\n        /* reset the 50 move counter if a pawn is moved or a piece is captured */\r\n        if (move.piece === PAWN) {\r\n            half_moves = 0\r\n        } else if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\r\n            half_moves = 0\r\n        } else {\r\n            half_moves++\r\n        }\r\n\r\n        if (turn === BLACK) {\r\n            move_number++\r\n        }\r\n        turn = swap_color(turn)\r\n    }\r\n\r\n    function undo_move() {\r\n        var old = history.pop()\r\n        if (old == null) {\r\n            return null\r\n        }\r\n\r\n        var move = old.move\r\n        kings = old.kings\r\n        turn = old.turn\r\n        castling = old.castling\r\n        ep_square = old.ep_square\r\n        half_moves = old.half_moves\r\n        move_number = old.move_number\r\n\r\n        var us = turn\r\n        var them = swap_color(turn)\r\n\r\n        board[move.from] = board[move.to]\r\n        board[move.from].type = move.piece // to undo any promotions\r\n        board[move.to] = null\r\n\r\n        if (move.flags & BITS.CAPTURE) {\r\n            board[move.to] = { type: move.captured, color: them }\r\n        } else if (move.flags & BITS.EP_CAPTURE) {\r\n            var index\r\n            if (us === BLACK) {\r\n                index = move.to - 16\r\n            } else {\r\n                index = move.to + 16\r\n            }\r\n            board[index] = { type: PAWN, color: them }\r\n        }\r\n\r\n        if (move.flags & (BITS.KSIDE_CASTLE | BITS.QSIDE_CASTLE)) {\r\n            var castling_to, castling_from\r\n            if (move.flags & BITS.KSIDE_CASTLE) {\r\n                castling_to = move.to + 1\r\n                castling_from = move.to - 1\r\n            } else if (move.flags & BITS.QSIDE_CASTLE) {\r\n                castling_to = move.to - 2\r\n                castling_from = move.to + 1\r\n            }\r\n\r\n            board[castling_to] = board[castling_from]\r\n            board[castling_from] = null\r\n        }\r\n\r\n        return move\r\n    }\r\n\r\n    /* this function is used to uniquely identify ambiguous moves */\r\n    function get_disambiguator(move, sloppy) {\r\n        var moves = generate_moves({ legal: !sloppy })\r\n\r\n        var from = move.from\r\n        var to = move.to\r\n        var piece = move.piece\r\n\r\n        var ambiguities = 0\r\n        var same_rank = 0\r\n        var same_file = 0\r\n\r\n        for (var i = 0, len = moves.length; i < len; i++) {\r\n            var ambig_from = moves[i].from\r\n            var ambig_to = moves[i].to\r\n            var ambig_piece = moves[i].piece\r\n\r\n            /* if a move of the same piece type ends on the same to square, we'll\r\n             * need to add a disambiguator to the algebraic notation\r\n             */\r\n            if (piece === ambig_piece && from !== ambig_from && to === ambig_to) {\r\n                ambiguities++\r\n\r\n                if (rank(from) === rank(ambig_from)) {\r\n                    same_rank++\r\n                }\r\n\r\n                if (file(from) === file(ambig_from)) {\r\n                    same_file++\r\n                }\r\n            }\r\n        }\r\n\r\n        if (ambiguities > 0) {\r\n            /* if there exists a similar moving piece on the same rank and file as\r\n             * the move in question, use the square as the disambiguator\r\n             */\r\n            if (same_rank > 0 && same_file > 0) {\r\n                return algebraic(from)\r\n            } else if (same_file > 0) {\r\n                /* if the moving piece rests on the same file, use the rank symbol as the\r\n                 * disambiguator\r\n                 */\r\n                return algebraic(from).charAt(1)\r\n            } else {\r\n                /* else use the file symbol */\r\n                return algebraic(from).charAt(0)\r\n            }\r\n        }\r\n\r\n        return ''\r\n    }\r\n\r\n    function ascii() {\r\n        var s = '   +------------------------+\\n'\r\n        for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\r\n            /* display the rank */\r\n            if (file(i) === 0) {\r\n                s += ' ' + '87654321'[rank(i)] + ' |'\r\n            }\r\n\r\n            /* empty piece */\r\n            if (board[i] == null) {\r\n                s += ' . '\r\n            } else {\r\n                var piece = board[i].type\r\n                var color = board[i].color\r\n                var symbol = color === WHITE ? piece.toUpperCase() : piece.toLowerCase()\r\n                s += ' ' + symbol + ' '\r\n            }\r\n\r\n            if ((i + 1) & 0x88) {\r\n                s += '|\\n'\r\n                i += 8\r\n            }\r\n        }\r\n        s += '   +------------------------+\\n'\r\n        s += '     a  b  c  d  e  f  g  h\\n'\r\n\r\n        return s\r\n    }\r\n\r\n    // convert a move from Standard Algebraic Notation (SAN) to 0x88 coordinates\r\n    function move_from_san(move, sloppy) {\r\n        // strip off any move decorations: e.g Nf3+?!\r\n        var clean_move = stripped_san(move)\r\n\r\n        // if we're using the sloppy parser run a regex to grab piece, to, and from\r\n        // this should parse invalid SAN like: Pe2-e4, Rc1c4, Qf3xf7\r\n        if (sloppy) {\r\n            var matches = clean_move.match(\r\n                /([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/\r\n            )\r\n            if (matches) {\r\n                var piece = matches[1]\r\n                var from = matches[2]\r\n                var to = matches[3]\r\n                var promotion = matches[4]\r\n            }\r\n        }\r\n\r\n        var moves = generate_moves()\r\n        for (var i = 0, len = moves.length; i < len; i++) {\r\n            // try the strict parser first, then the sloppy parser if requested\r\n            // by the user\r\n            if (\r\n                clean_move === stripped_san(move_to_san(moves[i])) ||\r\n                (sloppy && clean_move === stripped_san(move_to_san(moves[i], true)))\r\n            ) {\r\n                return moves[i]\r\n            } else {\r\n                if (\r\n                    matches &&\r\n                    (!piece || piece.toLowerCase() == moves[i].piece) &&\r\n                    SQUARES[from] == moves[i].from &&\r\n                    SQUARES[to] == moves[i].to &&\r\n                    (!promotion || promotion.toLowerCase() == moves[i].promotion)\r\n                ) {\r\n                    return moves[i]\r\n                }\r\n            }\r\n        }\r\n\r\n        return null\r\n    }\r\n\r\n    /*****************************************************************************\r\n     * UTILITY FUNCTIONS\r\n     ****************************************************************************/\r\n    function rank(i) {\r\n        return i >> 4\r\n    }\r\n\r\n    function file(i) {\r\n        return i & 15\r\n    }\r\n\r\n    function algebraic(i) {\r\n        var f = file(i),\r\n            r = rank(i)\r\n        return 'abcdefgh'.substring(f, f + 1) + '87654321'.substring(r, r + 1)\r\n    }\r\n\r\n    function swap_color(c) {\r\n        return c === WHITE ? BLACK : WHITE\r\n    }\r\n\r\n    function is_digit(c) {\r\n        return '0123456789'.indexOf(c) !== -1\r\n    }\r\n\r\n    /* pretty = external move object */\r\n    function make_pretty(ugly_move) {\r\n        var move = clone(ugly_move)\r\n        move.san = move_to_san(move, false)\r\n        move.to = algebraic(move.to)\r\n        move.from = algebraic(move.from)\r\n\r\n        var flags = ''\r\n\r\n        for (var flag in BITS) {\r\n            if (BITS[flag] & move.flags) {\r\n                flags += FLAGS[flag]\r\n            }\r\n        }\r\n        move.flags = flags\r\n\r\n        return move\r\n    }\r\n\r\n    function clone(obj) {\r\n        var dupe = obj instanceof Array ? [] : {}\r\n\r\n        for (var property in obj) {\r\n            if (typeof property === 'object') {\r\n                dupe[property] = clone(obj[property])\r\n            } else {\r\n                dupe[property] = obj[property]\r\n            }\r\n        }\r\n\r\n        return dupe\r\n    }\r\n\r\n    function trim(str) {\r\n        return str.replace(/^\\s+|\\s+$/g, '')\r\n    }\r\n\r\n    /*****************************************************************************\r\n     * DEBUGGING UTILITIES\r\n     ****************************************************************************/\r\n    function perft(depth) {\r\n        var moves = generate_moves({ legal: false })\r\n        var nodes = 0\r\n        var color = turn\r\n\r\n        for (var i = 0, len = moves.length; i < len; i++) {\r\n            make_move(moves[i])\r\n            if (!king_attacked(color)) {\r\n                if (depth - 1 > 0) {\r\n                    var child_nodes = perft(depth - 1)\r\n                    nodes += child_nodes\r\n                } else {\r\n                    nodes++\r\n                }\r\n            }\r\n            undo_move()\r\n        }\r\n\r\n        return nodes\r\n    }\r\n\r\n    return {\r\n        /***************************************************************************\r\n         * PUBLIC CONSTANTS (is there a better way to do this?)\r\n         **************************************************************************/\r\n        WHITE: WHITE,\r\n        BLACK: BLACK,\r\n        PAWN: PAWN,\r\n        KNIGHT: KNIGHT,\r\n        BISHOP: BISHOP,\r\n        ROOK: ROOK,\r\n        QUEEN: QUEEN,\r\n        KING: KING,\r\n        SQUARES: (function () {\r\n            /* from the ECMA-262 spec (section 12.6.4):\r\n             * \"The mechanics of enumerating the properties ... is\r\n             * implementation dependent\"\r\n             * so: for (var sq in SQUARES) { keys.push(sq); } might not be\r\n             * ordered correctly\r\n             */\r\n            var keys = []\r\n            for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\r\n                if (i & 0x88) {\r\n                    i += 7\r\n                    continue\r\n                }\r\n                keys.push(algebraic(i))\r\n            }\r\n            return keys\r\n        })(),\r\n        FLAGS: FLAGS,\r\n\r\n        /***************************************************************************\r\n         * PUBLIC API\r\n         **************************************************************************/\r\n        load: function (fen) {\r\n            return load(fen)\r\n        },\r\n\r\n        reset: function () {\r\n            return reset()\r\n        },\r\n\r\n        moves: function (options) {\r\n            /* The internal representation of a chess move is in 0x88 format, and\r\n             * not meant to be human-readable.  The code below converts the 0x88\r\n             * square coordinates to algebraic coordinates.  It also prunes an\r\n             * unnecessary move keys resulting from a verbose call.\r\n             */\r\n\r\n            var ugly_moves = generate_moves(options)\r\n            var moves = []\r\n\r\n            for (var i = 0, len = ugly_moves.length; i < len; i++) {\r\n                /* does the user want a full move object (most likely not), or just\r\n                 * SAN\r\n                 */\r\n                if (\r\n                    typeof options !== 'undefined' &&\r\n                    'verbose' in options &&\r\n                    options.verbose\r\n                ) {\r\n                    moves.push(make_pretty(ugly_moves[i]))\r\n                } else {\r\n                    moves.push(move_to_san(ugly_moves[i], false))\r\n                }\r\n            }\r\n\r\n            return moves\r\n        },\r\n\r\n        in_check: function () {\r\n            return in_check()\r\n        },\r\n\r\n        in_checkmate: function () {\r\n            return in_checkmate()\r\n        },\r\n\r\n        in_stalemate: function () {\r\n            return in_stalemate()\r\n        },\r\n\r\n        in_draw: function () {\r\n            return (\r\n                half_moves >= 100 ||\r\n                in_stalemate() ||\r\n                insufficient_material() ||\r\n                in_threefold_repetition()\r\n            )\r\n        },\r\n\r\n        insufficient_material: function () {\r\n            return insufficient_material()\r\n        },\r\n\r\n        in_threefold_repetition: function () {\r\n            return in_threefold_repetition()\r\n        },\r\n\r\n        game_over: function () {\r\n            return (\r\n                half_moves >= 100 ||\r\n                in_checkmate() ||\r\n                in_stalemate() ||\r\n                insufficient_material() ||\r\n                in_threefold_repetition()\r\n            )\r\n        },\r\n\r\n        validate_fen: function (fen) {\r\n            return validate_fen(fen)\r\n        },\r\n\r\n        fen: function () {\r\n            return generate_fen()\r\n        },\r\n\r\n        board: function () {\r\n            var output = [],\r\n                row = []\r\n\r\n            for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\r\n                if (board[i] == null) {\r\n                    row.push(null)\r\n                } else {\r\n                    row.push({ type: board[i].type, color: board[i].color })\r\n                }\r\n                if ((i + 1) & 0x88) {\r\n                    output.push(row)\r\n                    row = []\r\n                    i += 8\r\n                }\r\n            }\r\n\r\n            return output\r\n        },\r\n\r\n        pgn: function (options) {\r\n            /* using the specification from http://www.chessclub.com/help/PGN-spec\r\n             * example for html usage: .pgn({ max_width: 72, newline_char: \"<br />\" })\r\n             */\r\n            var newline =\r\n                typeof options === 'object' && typeof options.newline_char === 'string'\r\n                    ? options.newline_char\r\n                    : '\\n'\r\n            var max_width =\r\n                typeof options === 'object' && typeof options.max_width === 'number'\r\n                    ? options.max_width\r\n                    : 0\r\n            var result = []\r\n            var header_exists = false\r\n\r\n            /* add the PGN header headerrmation */\r\n            for (var i in header) {\r\n                /* TODO: order of enumerated properties in header object is not\r\n                 * guaranteed, see ECMA-262 spec (section 12.6.4)\r\n                 */\r\n                result.push('[' + i + ' \"' + header[i] + '\"]' + newline)\r\n                header_exists = true\r\n            }\r\n\r\n            if (header_exists && history.length) {\r\n                result.push(newline)\r\n            }\r\n\r\n            var append_comment = function (move_string) {\r\n                var comment = comments[generate_fen()]\r\n                if (typeof comment !== 'undefined') {\r\n                    var delimiter = move_string.length > 0 ? ' ' : '';\r\n                    move_string = `${move_string}${delimiter}{${comment}}`\r\n                }\r\n                return move_string\r\n            }\r\n\r\n            /* pop all of history onto reversed_history */\r\n            var reversed_history = []\r\n            while (history.length > 0) {\r\n                reversed_history.push(undo_move())\r\n            }\r\n\r\n            var moves = []\r\n            var move_string = ''\r\n\r\n            /* special case of a commented starting position with no moves */\r\n            if (reversed_history.length === 0) {\r\n                moves.push(append_comment(''))\r\n            }\r\n\r\n            /* build the list of moves.  a move_string looks like: \"3. e3 e6\" */\r\n            while (reversed_history.length > 0) {\r\n                move_string = append_comment(move_string)\r\n                var move = reversed_history.pop()\r\n\r\n                /* if the position started with black to move, start PGN with 1. ... */\r\n                if (!history.length && move.color === 'b') {\r\n                    move_string = move_number + '. ...'\r\n                } else if (move.color === 'w') {\r\n                    /* store the previous generated move_string if we have one */\r\n                    if (move_string.length) {\r\n                        moves.push(move_string)\r\n                    }\r\n                    move_string = move_number + '.'\r\n                }\r\n\r\n                move_string = move_string + ' ' + move_to_san(move, false)\r\n                make_move(move)\r\n            }\r\n\r\n            /* are there any other leftover moves? */\r\n            if (move_string.length) {\r\n                moves.push(append_comment(move_string))\r\n            }\r\n\r\n            /* is there a result? */\r\n            if (typeof header.Result !== 'undefined') {\r\n                moves.push(header.Result)\r\n            }\r\n\r\n            /* history should be back to what it was before we started generating PGN,\r\n             * so join together moves\r\n             */\r\n            if (max_width === 0) {\r\n                return result.join('') + moves.join(' ')\r\n            }\r\n\r\n            var strip = function () {\r\n                if (result.length > 0 && result[result.length - 1] === ' ') {\r\n                    result.pop();\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n\r\n            /* NB: this does not preserve comment whitespace. */\r\n            var wrap_comment = function (width, move) {\r\n                for (var token of move.split(' ')) {\r\n                    if (!token) {\r\n                        continue;\r\n                    }\r\n                    if (width + token.length > max_width) {\r\n                        while (strip()) {\r\n                            width--;\r\n                        }\r\n                        result.push(newline);\r\n                        width = 0;\r\n                    }\r\n                    result.push(token);\r\n                    width += token.length;\r\n                    result.push(' ');\r\n                    width++;\r\n                }\r\n                if (strip()) {\r\n                    width--;\r\n                }\r\n                return width;\r\n            };\r\n\r\n            /* wrap the PGN output at max_width */\r\n            var current_width = 0\r\n            for (var i = 0; i < moves.length; i++) {\r\n                if (current_width + moves[i].length > max_width) {\r\n                    if (moves[i].includes('{')) {\r\n                        current_width = wrap_comment(current_width, moves[i]);\r\n                        continue;\r\n                    }\r\n                }\r\n                /* if the current move will push past max_width */\r\n                if (current_width + moves[i].length > max_width && i !== 0) {\r\n                    /* don't end the line with whitespace */\r\n                    if (result[result.length - 1] === ' ') {\r\n                        result.pop()\r\n                    }\r\n\r\n                    result.push(newline)\r\n                    current_width = 0\r\n                } else if (i !== 0) {\r\n                    result.push(' ')\r\n                    current_width++\r\n                }\r\n                result.push(moves[i])\r\n                current_width += moves[i].length\r\n            }\r\n\r\n            return result.join('')\r\n        },\r\n\r\n        load_pgn: function (pgn, options) {\r\n            // allow the user to specify the sloppy move parser to work around over\r\n            // disambiguation bugs in Fritz and Chessbase\r\n            var sloppy =\r\n                typeof options !== 'undefined' && 'sloppy' in options\r\n                    ? options.sloppy\r\n                    : false\r\n\r\n            function mask(str) {\r\n                return str.replace(/\\\\/g, '\\\\')\r\n            }\r\n\r\n            function has_keys(object) {\r\n                for (var key in object) {\r\n                    return true\r\n                }\r\n                return false\r\n            }\r\n\r\n            function parse_pgn_header(header, options) {\r\n                var newline_char =\r\n                    typeof options === 'object' &&\r\n                        typeof options.newline_char === 'string'\r\n                        ? options.newline_char\r\n                        : '\\r?\\n'\r\n                var header_obj = {}\r\n                var headers = header.split(new RegExp(mask(newline_char)))\r\n                var key = ''\r\n                var value = ''\r\n\r\n                for (var i = 0; i < headers.length; i++) {\r\n                    key = headers[i].replace(/^\\[([A-Z][A-Za-z]*)\\s.*\\]$/, '$1')\r\n                    value = headers[i].replace(/^\\[[A-Za-z]+\\s\"(.*)\"\\ *\\]$/, '$1')\r\n                    if (trim(key).length > 0) {\r\n                        header_obj[key] = value\r\n                    }\r\n                }\r\n\r\n                return header_obj\r\n            }\r\n\r\n            var newline_char =\r\n                typeof options === 'object' && typeof options.newline_char === 'string'\r\n                    ? options.newline_char\r\n                    : '\\r?\\n'\r\n\r\n            // RegExp to split header. Takes advantage of the fact that header and movetext\r\n            // will always have a blank line between them (ie, two newline_char's).\r\n            // With default newline_char, will equal: /^(\\[((?:\\r?\\n)|.)*\\])(?:\\r?\\n){2}/\r\n            var header_regex = new RegExp(\r\n                '^(\\\\[((?:' +\r\n                mask(newline_char) +\r\n                ')|.)*\\\\])' +\r\n                '(?:' +\r\n                mask(newline_char) +\r\n                '){2}'\r\n            )\r\n\r\n            // If no header given, begin with moves.\r\n            var header_string = header_regex.test(pgn)\r\n                ? header_regex.exec(pgn)[1]\r\n                : ''\r\n\r\n            // Put the board in the starting position\r\n            reset()\r\n\r\n            /* parse PGN header */\r\n            var headers = parse_pgn_header(header_string, options)\r\n            for (var key in headers) {\r\n                set_header([key, headers[key]])\r\n            }\r\n\r\n            /* load the starting position indicated by [Setup '1'] and\r\n             * [FEN position] */\r\n            if (headers['SetUp'] === '1') {\r\n                if (!('FEN' in headers && load(headers['FEN'], true))) {\r\n                    // second argument to load: don't clear the headers\r\n                    return false\r\n                }\r\n            }\r\n\r\n            /* NB: the regexes below that delete move numbers, recursive\r\n             * annotations, and numeric annotation glyphs may also match\r\n             * text in comments. To prevent this, we transform comments\r\n             * by hex-encoding them in place and decoding them again after\r\n             * the other tokens have been deleted.\r\n             *\r\n             * While the spec states that PGN files should be ASCII encoded,\r\n             * we use {en,de}codeURIComponent here to support arbitrary UTF8\r\n             * as a convenience for modern users */\r\n\r\n            var to_hex = function (string) {\r\n                return Array\r\n                    .from(string)\r\n                    .map(function (c) {\r\n                        /* encodeURI doesn't transform most ASCII characters,\r\n                         * so we handle these ourselves */\r\n                        return c.charCodeAt(0) < 128\r\n                            ? c.charCodeAt(0).toString(16)\r\n                            : encodeURIComponent(c).replace(/\\%/g, '').toLowerCase()\r\n                    })\r\n                    .join('')\r\n            }\r\n\r\n            var from_hex = function (string) {\r\n                return string.length == 0\r\n                    ? ''\r\n                    : decodeURIComponent('%' + string.match(/.{1,2}/g).join('%'))\r\n            }\r\n\r\n            var encode_comment = function (string) {\r\n                string = string.replace(new RegExp(mask(newline_char), 'g'), ' ')\r\n                return `{${to_hex(string.slice(1, string.length - 1))}}`\r\n            }\r\n\r\n            var decode_comment = function (string) {\r\n                if (string.startsWith('{') && string.endsWith('}')) {\r\n                    return from_hex(string.slice(1, string.length - 1))\r\n                }\r\n            }\r\n\r\n            /* delete header to get the moves */\r\n            var ms = pgn\r\n                .replace(header_string, '')\r\n                .replace(\r\n                    /* encode comments so they don't get deleted below */\r\n                    new RegExp(`(\\{[^}]*\\})+?|;([^${mask(newline_char)}]*)`, 'g'),\r\n                    function (match, bracket, semicolon) {\r\n                        return bracket !== undefined\r\n                            ? encode_comment(bracket)\r\n                            : ' ' + encode_comment(`{${semicolon.slice(1)}}`)\r\n                    }\r\n                )\r\n                .replace(new RegExp(mask(newline_char), 'g'), ' ')\r\n\r\n            /* delete recursive annotation variations */\r\n            var rav_regex = /(\\([^\\(\\)]+\\))+?/g\r\n            while (rav_regex.test(ms)) {\r\n                ms = ms.replace(rav_regex, '')\r\n            }\r\n\r\n            /* delete move numbers */\r\n            ms = ms.replace(/\\d+\\.(\\.\\.)?/g, '')\r\n\r\n            /* delete ... indicating black to move */\r\n            ms = ms.replace(/\\.\\.\\./g, '')\r\n\r\n            /* delete numeric annotation glyphs */\r\n            ms = ms.replace(/\\$\\d+/g, '')\r\n\r\n            /* trim and get array of moves */\r\n            var moves = trim(ms).split(new RegExp(/\\s+/))\r\n\r\n            /* delete empty entries */\r\n            moves = moves\r\n                .join(',')\r\n                .replace(/,,+/g, ',')\r\n                .split(',')\r\n            var move = ''\r\n\r\n            for (var half_move = 0; half_move < moves.length - 1; half_move++) {\r\n                var comment = decode_comment(moves[half_move])\r\n                if (comment !== undefined) {\r\n                    comments[generate_fen()] = comment\r\n                    continue\r\n                }\r\n                move = move_from_san(moves[half_move], sloppy)\r\n\r\n                /* move not possible! (don't clear the board to examine to show the\r\n                 * latest valid position)\r\n                 */\r\n                if (move == null) {\r\n                    return false\r\n                } else {\r\n                    make_move(move)\r\n                }\r\n            }\r\n\r\n            comment = decode_comment(moves[moves.length - 1])\r\n            if (comment !== undefined) {\r\n                comments[generate_fen()] = comment\r\n                moves.pop()\r\n            }\r\n\r\n            /* examine last move */\r\n            move = moves[moves.length - 1]\r\n            if (POSSIBLE_RESULTS.indexOf(move) > -1) {\r\n                if (has_keys(header) && typeof header.Result === 'undefined') {\r\n                    set_header(['Result', move])\r\n                }\r\n            } else {\r\n                move = move_from_san(move, sloppy)\r\n                if (move == null) {\r\n                    return false\r\n                } else {\r\n                    make_move(move)\r\n                }\r\n            }\r\n            return true\r\n        },\r\n\r\n        header: function () {\r\n            return set_header(arguments)\r\n        },\r\n\r\n        ascii: function () {\r\n            return ascii()\r\n        },\r\n\r\n        turn: function () {\r\n            return turn\r\n        },\r\n\r\n        move: function (move, options) {\r\n            /* The move function can be called with in the following parameters:\r\n             *\r\n             * .move('Nxb7')      <- where 'move' is a case-sensitive SAN string\r\n             *\r\n             * .move({ from: 'h7', <- where the 'move' is a move object (additional\r\n             *         to :'h8',      fields are ignored)\r\n             *         promotion: 'q',\r\n             *      })\r\n             */\r\n\r\n            // allow the user to specify the sloppy move parser to work around over\r\n            // disambiguation bugs in Fritz and Chessbase\r\n            var sloppy =\r\n                typeof options !== 'undefined' && 'sloppy' in options\r\n                    ? options.sloppy\r\n                    : false\r\n\r\n            var move_obj = null\r\n\r\n            if (typeof move === 'string') {\r\n                move_obj = move_from_san(move, sloppy)\r\n            } else if (typeof move === 'object') {\r\n                var moves = generate_moves()\r\n\r\n                /* convert the pretty move object to an ugly move object */\r\n                for (var i = 0, len = moves.length; i < len; i++) {\r\n                    if (\r\n                        move.from === algebraic(moves[i].from) &&\r\n                        move.to === algebraic(moves[i].to) &&\r\n                        (!('promotion' in moves[i]) ||\r\n                            move.promotion === moves[i].promotion)\r\n                    ) {\r\n                        move_obj = moves[i]\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n\r\n            /* failed to find move */\r\n            if (!move_obj) {\r\n                return null\r\n            }\r\n\r\n            /* need to make a copy of move because we can't generate SAN after the\r\n             * move is made\r\n             */\r\n            var pretty_move = make_pretty(move_obj)\r\n\r\n            make_move(move_obj)\r\n\r\n            return pretty_move\r\n        },\r\n\r\n        undo: function () {\r\n            var move = undo_move()\r\n            return move ? make_pretty(move) : null\r\n        },\r\n\r\n        clear: function () {\r\n            return clear()\r\n        },\r\n\r\n        put: function (piece, square) {\r\n            return put(piece, square)\r\n        },\r\n\r\n        get: function (square) {\r\n            return get(square)\r\n        },\r\n\r\n        remove: function (square) {\r\n            return remove(square)\r\n        },\r\n\r\n        perft: function (depth) {\r\n            return perft(depth)\r\n        },\r\n\r\n        square_color: function (square) {\r\n            if (square in SQUARES) {\r\n                var sq_0x88 = SQUARES[square]\r\n                return (rank(sq_0x88) + file(sq_0x88)) % 2 === 0 ? 'light' : 'dark'\r\n            }\r\n\r\n            return null\r\n        },\r\n\r\n        history: function (options) {\r\n            var reversed_history = []\r\n            var move_history = []\r\n            var verbose =\r\n                typeof options !== 'undefined' &&\r\n                'verbose' in options &&\r\n                options.verbose\r\n\r\n            while (history.length > 0) {\r\n                reversed_history.push(undo_move())\r\n            }\r\n\r\n            while (reversed_history.length > 0) {\r\n                var move = reversed_history.pop()\r\n                if (verbose) {\r\n                    move_history.push(make_pretty(move))\r\n                } else {\r\n                    move_history.push(move_to_san(move))\r\n                }\r\n                make_move(move)\r\n            }\r\n\r\n            return move_history\r\n        },\r\n\r\n        get_comment: function () {\r\n            return comments[generate_fen()];\r\n        },\r\n\r\n        set_comment: function (comment) {\r\n            comments[generate_fen()] = comment.replace('{', '[').replace('}', ']');\r\n        },\r\n\r\n        delete_comment: function () {\r\n            var comment = comments[generate_fen()];\r\n            delete comments[generate_fen()];\r\n            return comment;\r\n        },\r\n\r\n        get_comments: function () {\r\n            prune_comments();\r\n            return Object.keys(comments).map(function (fen) {\r\n                return { fen: fen, comment: comments[fen] };\r\n            });\r\n        },\r\n\r\n        delete_comments: function () {\r\n            prune_comments();\r\n            return Object.keys(comments)\r\n                .map(function (fen) {\r\n                    var comment = comments[fen];\r\n                    delete comments[fen];\r\n                    return { fen: fen, comment: comment };\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\n/* export Chess object if using node or any other CommonJS compatible\r\n * environment */\r\nif (typeof exports !== 'undefined') exports.Chess = Chess\r\n/* export Chess object for any RequireJS compatible environment */\r\n// if (typeof define !== 'undefined')\r\n//     define(function () {\r\n//         return Chess\r\n//     })\r\n\r\nexport default Chess;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Chess from \"./Chess.js\";\r\nimport moveSound from '../audio/capture.mp3';\r\n\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    changeTurn,\r\n    removeSelectedCard,\r\n    discardAllP1Cards,\r\n    discardAllP2Cards,\r\n    shuffleOnMount,\r\n    selectAll,\r\n    updateFen,\r\n    setCapturedPieces,\r\n    gameOver,\r\n    setAnimateCards,\r\n    toggleCombo\r\n} from \"../redux/actions/cardActions\";\r\n\r\nclass HumanVsHuman extends Component {\r\n\r\n\r\n    playSound = audioFile => {\r\n        audioFile.play();\r\n    }\r\n\r\n    static propTypes = { children: PropTypes.func };\r\n\r\n    state = {\r\n        hoveredSquare: \"\",\r\n        sourceSquare: \"\",\r\n        orientation: 'white',\r\n        squareStyles: {}\r\n    };\r\n\r\n    componentDidMount() {\r\n        let playerNumber;\r\n\r\n        const isCreator = localStorage.getItem(this.props.gameId);\r\n        if (isCreator) playerNumber = 1;\r\n        else playerNumber = 2;\r\n        this.setState({\r\n            orientation: playerNumber === 1 ? 'white' : 'black'\r\n        })\r\n        if (this.props.fen !== 'start') {\r\n            this.game = new Chess(this.props.fen);\r\n        }\r\n        else this.game = new Chess();\r\n\r\n        // this.game = new Chess();\r\n\r\n        this.props.onShuffle();\r\n    }\r\n\r\n    set_turn = (chess, color) => {\r\n        var tokens = chess.fen().split(' ');\r\n        tokens[1] = color;\r\n        chess.load(tokens.join(' '));\r\n    }\r\n\r\n    // Resets the board to starting position\r\n    componentDidUpdate(prevProps) {\r\n        let fen = this.props.fen;\r\n        if (fen !== 'start') {\r\n            this.game = new Chess(fen);\r\n        }\r\n        let whiteToMove = this.props.whiteToMove;\r\n\r\n        if (whiteToMove) {\r\n            this.set_turn(this.game, 'w')\r\n        }\r\n        else if (!whiteToMove) {\r\n            this.set_turn(this.game, 'b')\r\n        }\r\n    }\r\n\r\n    condenseFen = (fen) => {\r\n        if (fen === 'start' || !fen) return fen;\r\n        return fen.split(' ')[0];\r\n    }\r\n\r\n\r\n    onDragStart = ({ piece, sourceSquare }) => {\r\n        // console.log(piece, sourceSquare)\r\n        // let sourceSquare = this.state.sourceSquare;\r\n        if (piece === undefined || sourceSquare === undefined) return;\r\n        let whiteToMove = this.props.whiteToMove;\r\n\r\n        if (this.props.playerNumber === 1 && !whiteToMove) {\r\n            return;\r\n        }\r\n        if (this.props.playerNumber === 2 && whiteToMove) {\r\n            return;\r\n        }\r\n\r\n        let draggable = false;\r\n        let isAStraight = false;\r\n        let chessPiece = piece[1].toLowerCase();\r\n        let column = sourceSquare[0];\r\n        let selectedCard = this.props.selectedCard;\r\n        let isAllSelected = this.props.allSelected;\r\n        let p1 = this.props.player1Cards;\r\n        let p2 = this.props.player2Cards;\r\n        let player1Suits = p1.map(card => card.suits);\r\n        let player2Suits = p2.map(card => card.suits);\r\n        let p1Card = p1.map(card => card.card);\r\n        let p2Card = p2.map(card => card.card);\r\n\r\n        if (selectedCard.length === 0 && this.props.allSelected === false) return;\r\n\r\n        // Check for player1 Flush\r\n        let clubs = p1 && player1Suits.every(suit => suit === 'Club')\r\n        let diamonds = p1 && player1Suits.every(suit => suit === 'Diamond')\r\n        let spades = p1 && player1Suits.every(suit => suit === 'Spade')\r\n        let hearts = p1 && player1Suits.every(suit => suit === 'Heart')\r\n\r\n        // Check for player2 Flush\r\n        let clubs2 = p2 && player2Suits.every(suit => suit === 'Club')\r\n        let diamonds2 = p2 && player2Suits.every(suit => suit === 'Diamond')\r\n        let spades2 = p2 && player2Suits.every(suit => suit === 'Spade')\r\n        let hearts2 = p2 && player2Suits.every(suit => suit === 'Heart')\r\n\r\n        // Check for Straight\r\n        let ace = p1Card.indexOf('A');\r\n        let jack = p1Card.indexOf('J')\r\n        let queen = p1Card.indexOf('Q');\r\n        let king = p1Card.indexOf('K');\r\n\r\n        let blackAce = p2Card.indexOf('A');\r\n        let blackJack = p2Card.indexOf('J')\r\n        let blackQueen = p2Card.indexOf('Q');\r\n        let blackKing = p2Card.indexOf('K');\r\n\r\n        if (ace !== -1) {\r\n            p1Card[ace] = '1';\r\n        }\r\n\r\n        if (jack !== -1) {\r\n            p1Card[jack] = '11';\r\n        }\r\n\r\n        if (queen !== -1) {\r\n            p1Card[queen] = '12';\r\n        }\r\n\r\n        if (king !== -1) {\r\n            p1Card[king] = '13';\r\n        }\r\n\r\n        if (blackAce !== -1) {\r\n            p2Card[blackAce] = '1';\r\n        }\r\n\r\n        if (blackJack !== -1) {\r\n            p2Card[blackJack] = '11';\r\n        }\r\n\r\n        if (blackQueen !== -1) {\r\n            p2Card[blackQueen] = '12';\r\n        }\r\n\r\n        if (blackKing !== -1) {\r\n            p2Card[blackKing] = '13';\r\n        }\r\n\r\n        //Todo make sure this doesn't think two cards in a row is a straight.\r\n        let sorted = p1Card.sort((a, b) => a - b);\r\n        let straight = sorted.map(i => Number(i))\r\n        for (var i = 0; i < straight.length; i++) {\r\n            var diff = straight[i + 1] - straight[i];\r\n            let total = straight.reduce((a, b) => a + b, 0)\r\n            if ((Math.abs(diff) === 1 && straight[i + 1] + diff === straight[i + 2]) || (straight.includes(1) && total === 26)) {\r\n                isAStraight = true;\r\n            }\r\n        }\r\n\r\n        let sorted2 = p2Card.sort((a, b) => a - b);\r\n        let straight2 = sorted2.map(i => Number(i))\r\n        for (var i = 0; i < straight2.length; i++) {\r\n            var diff2 = straight2[i + 1] - straight2[i];\r\n            let total = straight2.reduce((a, b) => a + b, 0)\r\n            if ((Math.abs(diff2) === 1 && straight2[i + 1] + diff2 === straight2[i + 2]) || (straight2.includes(1) && total === 26)) {\r\n                isAStraight = true;\r\n            }\r\n        }\r\n\r\n        // Check for 3 of a kind\r\n        let isTheSame = p1Card.every((val, i, arr) => val === arr[0])\r\n        let isTheSame2 = p2Card.every((val, i, arr) => val === arr[0])\r\n\r\n        //If no combo is available set redux combo state to false\r\n        // In order for this to completely work all of your combos would \r\n        //have to include the joker, which is a ton of extra work...Scratch that, \r\n        // if (isAStraight || clubs || diamonds || spades || hearts || clubs2 || diamonds2 || spades2 || hearts2 || isTheSame || isTheSame2) {\r\n        //     console.log(this.props.isACombo);\r\n        //     this.props.onToggleCombo();\r\n        //     console.log(this.props.isACombo);\r\n\r\n        // }\r\n\r\n        if (isAllSelected && (p1.length === 3 || p2.length === 3)) {\r\n            // combo conditions for player1\r\n            if (whiteToMove) {\r\n                if (isAStraight && (chessPiece === 'k' || chessPiece === 'p')) {\r\n                    draggable = true;\r\n                }\r\n                if (clubs && (chessPiece === 'n')) {\r\n                    draggable = true;\r\n                }\r\n                if (diamonds && (chessPiece === 'b')) {\r\n                    draggable = true;\r\n                }\r\n                if (spades && (chessPiece === 'r' || chessPiece === 'k')) {\r\n                    draggable = true;\r\n                }\r\n                if (hearts && (chessPiece === 'q')) {\r\n                    draggable = true;\r\n                }\r\n                if (isTheSame && (chessPiece === 'n' || chessPiece === 'b' || chessPiece === 'r')) {\r\n                    draggable = true;\r\n                }\r\n                if ((clubs || diamonds || spades || hearts) && isAStraight) {\r\n                    draggable = true;\r\n                }\r\n            }\r\n            // combo conditions for player 2\r\n            if (!whiteToMove) {\r\n                if (isAStraight && (chessPiece === 'k' || chessPiece === 'p')) {\r\n                    draggable = true;\r\n                }\r\n                if (clubs2 && (chessPiece === 'n')) {\r\n                    draggable = true;\r\n                }\r\n                if (diamonds2 && (chessPiece === 'b')) {\r\n                    draggable = true;\r\n                }\r\n                if (spades2 && (chessPiece === 'r' || chessPiece === 'k')) {\r\n                    draggable = true;\r\n                }\r\n                if (hearts2 && (chessPiece === 'q')) {\r\n                    draggable = true;\r\n                }\r\n                if (isTheSame2 && (chessPiece === 'n' || chessPiece === 'b' || chessPiece === 'r')) {\r\n                    draggable = true;\r\n                }\r\n                if ((clubs2 || diamonds2 || spades2 || hearts2) && isAStraight) {\r\n                    draggable = true;\r\n                }\r\n            }\r\n\r\n        } else { draggable = false };\r\n\r\n        // conditions for pawns\r\n        if (selectedCard.cardLength !== 0) {\r\n            if ((selectedCard[0] === 'A' && chessPiece === 'p') && (selectedCard[0] === 'A' && column === 'a')) {\r\n                draggable = true;\r\n            }\r\n            if ((selectedCard[0] === '2' && chessPiece === 'p') && (selectedCard[0] === '2' && column === 'b')) {\r\n                draggable = true;\r\n            }\r\n            if ((selectedCard[0] === '3' && chessPiece === 'p') && (selectedCard[0] === '3' && column === 'c')) {\r\n                draggable = true;\r\n            }\r\n            if ((selectedCard[0] === '4' && chessPiece === 'p') && (selectedCard[0] === '4' && column === 'd')) {\r\n                draggable = true;\r\n            }\r\n            if ((selectedCard[0] === '5' && chessPiece === 'p') && (selectedCard[0] === '5' && column === 'e')) {\r\n                draggable = true;\r\n            }\r\n            if ((selectedCard[0] === '6' && chessPiece === 'p') && (selectedCard[0] === '6' && column === 'f')) {\r\n                draggable = true;\r\n            }\r\n            if ((selectedCard[0] === '7' && chessPiece === 'p') && (selectedCard[0] === '7' && column === 'g')) {\r\n                draggable = true;\r\n            }\r\n            if ((selectedCard[0] === '8' && chessPiece === 'p') && (selectedCard[0] === '8' && column === 'h')) {\r\n                draggable = true;\r\n            }\r\n            // if conditions for non pawns\r\n            if (selectedCard[0] === '9' && chessPiece === 'r') {\r\n                draggable = true;\r\n            }\r\n            if (selectedCard[0] === '10' && chessPiece === 'n') {\r\n                draggable = true;\r\n            }\r\n            if (selectedCard[0] === 'J' && chessPiece === 'b') {\r\n                draggable = true;\r\n            }\r\n            if (selectedCard[0] === 'Q' && chessPiece === 'q') {\r\n                draggable = true;\r\n            }\r\n            if (selectedCard[0] === 'K' && chessPiece === 'k') {\r\n                draggable = true;\r\n            }\r\n            // Joker conditions\r\n            if (selectedCard[0] === 'Joker') {\r\n                draggable = true;\r\n            }\r\n        } else { draggable = false };\r\n        if (draggable) {\r\n            sourceSquare = this.state.square;\r\n\r\n        }\r\n        return draggable;\r\n    };\r\n\r\n    onMouseOverSquare = (square) => {\r\n        this.setState({\r\n            hoveredSquare: square\r\n        })\r\n    }\r\n\r\n\r\n\r\n    onDrop = ({ sourceSquare, targetSquare }) => {\r\n        this.props.setAnimateCards(false)\r\n\r\n        let whiteToMove = this.props.whiteToMove;\r\n        let selected = this.props.selectedCard\r\n        // see if the move is legal\r\n        let move = this.game.move({\r\n            from: sourceSquare,\r\n            to: targetSquare,\r\n            promotion: \"q\"\r\n        });\r\n\r\n        if (move === null) return;\r\n\r\n\r\n        this.props.onUpdateFen(this.game.fen());\r\n\r\n        let moveAudio = new Audio(moveSound);\r\n        this.playSound(moveAudio)\r\n\r\n        // Do this after playing a combo\r\n        if (whiteToMove && selected.length === 0) {\r\n            this.props.onDiscardAllCardsP1()\r\n            this.props.onChangeTurn();\r\n            this.props.onSelectAll();\r\n        }\r\n        if (!whiteToMove && selected.length === 0) {\r\n            this.props.onDiscardAllCardsP2()\r\n            this.props.onChangeTurn();\r\n            this.props.onSelectAll();\r\n        }\r\n\r\n        // Winners Message\r\n        if (move.captured === 'k' && whiteToMove) {\r\n            this.props.gameOver('White')\r\n        }\r\n        if (move.captured === 'k' && !whiteToMove) {\r\n            this.props.gameOver('Black')\r\n        }\r\n\r\n        // Capture Piece Sidebar\r\n        let moveArray = Object.entries(move)\r\n\r\n        let captured = moveArray.reduce(function (acc, move) {\r\n\r\n            if (move[0] === 'captured') {\r\n\r\n                var piece = move[1]\r\n                var color = whiteToMove ? 'B' : 'W';\r\n                acc[color][piece] += 1;\r\n                return acc;\r\n            } else {\r\n                return acc;\r\n            }\r\n        }, this.props.piecesCaptured);\r\n\r\n        this.props.setCapturedPieces(captured);\r\n\r\n        // this.props.onRemoveSelected(this.props.selectedCard[1])\r\n        // setTimeout(() => {\r\n        //     this.props.onChangeTurn();\r\n        // }, 1000)\r\n        this.props.onRemoveSelected(this.props.selectedCard[1])\r\n\r\n        this.props.onChangeTurn();\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        const { orientation, hoveredSquare } = this.state;\r\n\r\n        return this.props.children({\r\n            position: this.condenseFen(this.props.fen),\r\n            onDrop: this.onDrop,\r\n            onDragStart: this.onDragStart,\r\n            onMouseOverSquare: this.onMouseOverSquare,\r\n            hoveredSquare,\r\n            orientation\r\n        });\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        player1Cards: state.chanceChessReducer.player1Cards,\r\n        player2Cards: state.chanceChessReducer.player2Cards,\r\n        isACombo: state.chanceChessReducer.isACombo,\r\n        newBoard: state.chanceChessReducer.newBoard,\r\n        newBoard2: state.chanceChessReducer.newBoard2,\r\n        selectedCard: state.chanceChessReducer.selectedCard,\r\n        whiteToMove: state.chanceChessReducer.whiteToMove,\r\n        allSelected: state.chanceChessReducer.allSelected,\r\n        cardsArray: state.chanceChessReducer.cardsArray,\r\n        playerNumber: state.usersReducer.playerNumber,\r\n        fen: state.chanceChessReducer.fen,\r\n        gameId: state.usersReducer.gameId,\r\n        piecesCaptured: state.chanceChessReducer.capturedPieces\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onChangeTurn: () => dispatch(changeTurn()),\r\n        onRemoveSelected: (selectedCardIndex) => dispatch(removeSelectedCard(selectedCardIndex)),\r\n        onDiscardAllCardsP1: () => dispatch(discardAllP1Cards()),\r\n        onDiscardAllCardsP2: () => dispatch(discardAllP2Cards()),\r\n        onShuffle: () => dispatch(shuffleOnMount()),\r\n        onSelectAll: () => dispatch(selectAll()),\r\n        onUpdateFen: (fen) => dispatch(updateFen(fen)),\r\n        setCapturedPieces: pieces => dispatch(setCapturedPieces(pieces)),\r\n        gameOver: winner => dispatch(gameOver(winner)),\r\n        setAnimateCards: bool => dispatch(setAnimateCards(bool)),\r\n        onToggleCombo: bool => dispatch(toggleCombo(bool))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HumanVsHuman);","import React from 'react';\r\n// import { connect } from 'react-redux';\r\n\r\nimport whitePawnImg from \"../style/images/chessPieces/white/pawn.png\";\r\nimport whiteRookImg from \"../style/images/chessPieces/white/rook.png\";\r\nimport whiteKnightImg from \"../style/images/chessPieces/white/knight.png\";\r\nimport whiteBishopImg from \"../style/images/chessPieces/white/bishop.png\";\r\nimport whiteQueenImg from \"../style/images/chessPieces/white/queen.png\";\r\nimport whiteKingImg from \"../style/images/chessPieces/white/king.png\";\r\n\r\nimport blackPawnImg from \"../style/images/chessPieces/black/blackPawn.png\";\r\nimport blackRookImg from \"../style/images/chessPieces/black/blackRook.png\";\r\nimport blackKnightImg from \"../style/images/chessPieces/black/blackKnight.png\";\r\nimport blackBishopImg from \"../style/images/chessPieces/black/blackBishop.png\";\r\nimport blackQueenImg from \"../style/images/chessPieces/black/blackQueen.png\";\r\nimport blackKingImg from \"../style/images/chessPieces/black/blackKing.png\";\r\n\r\nfunction CaptureSidebar(props) {\r\n\r\n    const { piecesCaptured: { W, B } } = props;\r\n\r\n    let whitePieces = Object.values(W)\r\n    let blackPieces = Object.values(B)\r\n    // logic to display white pawns\r\n    let pawn = whitePieces[0];\r\n    let whitePawns = [pawn, pawn, pawn, pawn, pawn, pawn, pawn, pawn];\r\n    let numOfPawns = pawn;\r\n    whitePawns.splice(numOfPawns);\r\n\r\n    // display black pawns\r\n    let blackPawn = blackPieces[0];\r\n    let blackPawns = [blackPawn, blackPawn, blackPawn, blackPawn, blackPawn, blackPawn, blackPawn, blackPawn];\r\n    let numOfBlackPawns = blackPawn;\r\n    blackPawns.splice(numOfBlackPawns);\r\n\r\n    // display whiteKnights\r\n    let whiteKnight = whitePieces[1];\r\n    let whiteKnights = [whiteKnight, whiteKnight];\r\n    let numOfKnights = whiteKnight;\r\n    whiteKnights.splice(numOfKnights);\r\n\r\n    // display blackKnights\r\n    let blackKnight = blackPieces[1];\r\n    let blackKnights = [blackKnight, blackKnight];\r\n    let numOfBlackKnights = blackKnight;\r\n    blackKnights.splice(numOfBlackKnights);\r\n\r\n    // display Bishops\r\n    let whiteBishop = whitePieces[2];\r\n    let whiteBishops = [whiteBishop, whiteBishop];\r\n    let numOfBishops = whiteBishop;\r\n    whiteBishops.splice(numOfBishops);\r\n\r\n\r\n    let blackBishop = blackPieces[2];\r\n    let blackBishops = [blackBishop, blackBishop];\r\n    let numOfBlackBishops = blackBishop;\r\n    blackBishops.splice(numOfBlackBishops);\r\n\r\n    // display Rooks\r\n    let whiteRook = whitePieces[3];\r\n    let whiteRooks = [whiteRook, whiteRook];\r\n    let numOfRooks = whiteRook;\r\n    whiteRooks.splice(numOfRooks);\r\n\r\n\r\n    let blackRook = blackPieces[3];\r\n    let blackRooks = [blackRook, blackRook];\r\n    let numOfBlackRooks = blackRook;\r\n    blackRooks.splice(numOfBlackRooks);\r\n\r\n    // display Queen\r\n    let whiteQueen = whitePieces[4];\r\n    let whiteQueens = [whiteQueen];\r\n    let numOfQueens = whiteQueen;\r\n    whiteQueens.splice(numOfQueens);\r\n\r\n\r\n    let blackQueen = blackPieces[4];\r\n    let blackQueens = [blackQueen];\r\n    let numOfBlackQueens = blackQueen;\r\n    blackQueens.splice(numOfBlackQueens);\r\n\r\n    // display King\r\n    let whiteKing = whitePieces[5];\r\n    let whiteKings = [whiteKing];\r\n    let numOfKings = whiteKing;\r\n    whiteKings.splice(numOfKings);\r\n\r\n\r\n    let blackKing = blackPieces[5];\r\n    let blackKings = [blackKing];\r\n    let numOfBlackKings = blackKing;\r\n    blackKings.splice(numOfBlackKings);\r\n\r\n\r\n\r\n    return (\r\n        <div style={{ position: 'relative', width: '0', height: '0' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', padding: '0 15px', }}>\r\n                <div style={{ display: 'flex', justifyContent: 'flex-start', position: 'absolute', left: '0', top: '20px' }} >\r\n                    <div >\r\n                        {whitePawns.map(pawn => (\r\n                            <img src={whitePawnImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n                    <div>\r\n                        {whiteKnights.map(pawn => (\r\n                            <img src={whiteKnightImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div>\r\n                        {whiteBishops.map(pawn => (\r\n                            <img src={whiteBishopImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n                    <div>\r\n                        {whiteRooks.map(pawn => (\r\n                            <img src={whiteRookImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n                    <div>\r\n                        {whiteQueens.map(pawn => (\r\n                            <img src={whiteQueenImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n                    <div>\r\n                        {whiteKings.map(king => (\r\n                            <img src={whiteKingImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                <div style={{ display: 'flex', justifyContent: 'flex-end', position: 'absolute', left: '100px', top: '20px' }}>\r\n\r\n                    <div style={{ display: 'flex' }}>\r\n                        {blackPawns.map(pawn => (\r\n                            <div >\r\n                                <img src={blackPawnImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <div>\r\n                        {blackKnights.map(pawn => (\r\n                            <img src={blackKnightImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div>\r\n                        {blackBishops.map(pawn => (\r\n                            <img src={blackBishopImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n                    <div>\r\n                        {blackRooks.map(pawn => (\r\n                            <img src={blackRookImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n                    <div>\r\n                        {blackQueens.map(pawn => (\r\n                            <img src={blackQueenImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n                    <div>\r\n                        {blackKings.map(king => (\r\n                            <img src={blackKingImg} alt=\"white-pawn\" style={{ height: 34 }} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default CaptureSidebar;\r\n\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASLSURBVGiB7ZrLS2NnGIefL6YJEuM4GaOiUvDCgJIKI0Y7KFJ3BSm00j9gil1ULbRi+1cUV92U7gahSLvUzeAiVG3QCoOggxmvgRlRY2uKSLSivl3oV2JJgyfnYrw8EDgh3+X35P3ycc7JUSLCXcJ13QGc5l74tnMvfNu5F77t3Dlh93VMqpQKAmGgEVgGfheRbUcmFxHHXkAx8CMgGV4/AaV2Z1BOnVoqpaqAKPCux+Ohra2NUChELBZjZmaGw8NDgF2gXURWbAviYHVfANLS0iJLS0uSTjwel87OTl3pKFBgWw6HZD8BJBAIyNbWlmQimUxKZWWllv7MrixO7dIdAAMDA1RUVGRsUFJSwtDQ0KX2duCU8BOAcDictVHa50/sCuKUcArg5OQka6PT01N9eGRXEKeEXwFMTExkbRSJRPRhzLYkDm1a7wPi8XgkHo9n3LR2d3fF7/frTevDG7tpKaUeA88BPB4P8Xg8Y7u3b9/idv974veDUsqe37HNlS0GXgMSCoUkFotlrK5mY2NDwuGwrvImUGZ5JpuFfwakqalJDg4Osspqjo6OpKOjQ0tP3Bhhzi8MpKioSNbW1q4kq0kkElJaWqqlO6zMZedv+EuA3t5eamtrDXUMBoP09/frt19ZmsrGCq8DMj8/b6i6ms3NTV3hPStz2XK1pJRyA0cul6sglUrh9XpzGicQCJBMJgECIpK0IptdS7oMKCgpKclZFs6FL6iyIhRg65L+A5CNjY2clvTe3p4opQQ4BgqtymXnpjUDMD09nVPnaDSqv7iXInJoVSg7haMAk5OTOXWemprSh79ZlOccG5d0OyBer1dmZ2cNLedYLCbFxcV6l/7I0lx2CV9Ifw9IdXW17OzsXEl2f39fGhoatOwvlmeyWdgNRADp7OyU4+PjrLJnZ2fS09OjZReBohsjzPn+8AXwJyBut1vGxsayCkejUfF6vVr4L+BrwJ33wsBDYPYiuHR1dcni4mJWWc3q6qp0d3en369eACryVhjwAr8CUlVVJaOjo1cS/S/j4+NSV1enpV8C/rwTBhQwqjeqN2/e5CSrSSQSUl9fr6VfAO/km/B3gDx48EAWFhZMyWpWV1elrKxMSz/PG2Ggh4v7VpFIxBJZzdzcnPh8Pi39eb4IzwEyPDxsqaxmZGREC78GXNcqDHzAxV8pV72VY5STkxOpqanR0h/nmtWqc+lv4PyvFJ/PZ9GQlykoKGBwcPDSfDlhQXUbgbPCwkJJJBK2VFdzcHAggUBAV/npdVV4CFDPnj0jGAxaMNz/4/P56Ovr02+/zWkQCyq8A8jy8rKt1dVsb2+Ly+US4G/AazivSdk6QCorKx2R1TQ2Nupl3WY0s9kl/RSgtbXV5DDGSJuvzWhfs8LvATQ3N5scxhhp84WM9jUrXApQXl5uchhjpM33yGhfs8KP4NLtVEdIm8+wsKkb8UqpaaC9trYWv9+f8zhGSaVSrKysALwSEUPL2uyTeA8B1tfXTQ5jbn4jmBX+lPML/usi+0MjGXDsSbx84c49TXsvfNu5F77t3DnhfwDnGIncxPZT9AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMiSURBVGiB7ZqxTxNRHMc/P2jC2dDCYmhtB8cuJgQaWQwFRx1kdHAQHCr/ghOyMLAQBnRhI4Q4MTBoTEzYJDQhONIOGG3aktCQGHFo6HOAMyBX2nv3oHq9T/JLmrv3fvf73nv37t7vV1FK0Ul0tTuAmyYQ7HcCwX4nEOx3AsF+R1uwiFgi8l5ElIMtiYi4aK9E5IuI3Ha4zrSI1Ftt3xSllJYBY4C6wmIu2yvgpcN1ym7aNzPPUzqTyVxwODAwYJ96IiJPbQMeOrVXSpHNZu0+6fN9zvpZAKVSyam9a0LaPRvQ399PpVIBeNvo/BXHXpzZBXp6erAsy0h8xgWvr68zOztLvV6/dM6yLObn5y8dn5mZ4fj4mIODA0efU1NTjjdKB+OCU6kUq6urrvpYlsXi4qLpUBzxLLhcLrO2tmYilpbZ29vT7+xhlX5G81X3um3Zbdyim/EQkTCQB+6Ew2HGx8fp7e3V8tUqtVqNzc1NDg8PAX4AQ0qpgisnuiN8dqP6gM+ASiaTKp/Pq+vi6OhIjYyM2CO7D9zViVl7hG1EpA/4AIwkk0nm5uYIhYyvhSwsLLC1tQXwFRhTSu3r+PEsGP6I/hSNRoeGh4fPf3wYoVqtsru7S6VSKQIPdMUC3qb0X9P7MaAymYzx6ZzNZu2p/MprnCZ3Sz8N+mpE1auDYHvodwLBficQ7HcCwX4nEOx3AsF+p+MEm9yp9wDs7OwwMTFh0C3kcjn7Z8SrL5OCnwOk02kmJycNuoVIJMLKygqcJg4vJ7bdYGjznwJqXV1dant723gCoFQqqWg0aicBHnmJ1fMIi4gFvANCg4ODFAoFCgV3icRWGB0dZWNjA2BZRO4rpb5pOTIwuh+54Xy0iHwHbrVlhIF7AIlEgu7ubgPurqZYLHJycpLgNEX8y21/Y4tWLpcjFouZcteQWCxmVye16Lj3cMcJ1lmkpoE67S+knbclzooKzcx15UFEyoDZ0oIZ4kqpcrNG2lP6/H8u2mluyzod9wxrv5bi8bjJOG4MnRF+zelC8S/xBmjp5WykXPo/0XHPcCDY7wSC/U4g2O/8BtFWHbaczITCAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import Chessboard from './Chessboard';\r\nimport HumanVsHuman from './HumanVsHuman';\r\nimport CaptureSidebar from './CaptureSidebar';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction Board(props) {\r\n    return (\r\n        < div >\r\n            <HumanVsHuman>\r\n                {({\r\n                    position,\r\n                    onDragStart,\r\n                    onDrop,\r\n                    squareStyles,\r\n                    orientation,\r\n                    onMouseOverSquare,\r\n                    hoveredSquare\r\n                }) => (\r\n                    <>\r\n                        <Chessboard\r\n                            id=\"humanVsHuman\"\r\n                            width={720}\r\n                            hoveredSquare={hoveredSquare}\r\n                            orientation={orientation}\r\n                            onMouseOverSquare={onMouseOverSquare}\r\n                            position={position}\r\n                            allowDrag={onDragStart}\r\n                            draggable={true}\r\n                            onDrop={onDrop}\r\n                            squareStyles={squareStyles}\r\n                            boardStyle={{\r\n                                border: '3px solid orange',\r\n                                margin: '15px 0 24px 24px',\r\n                                fontSize: '30px',\r\n                                boxShadow: `0 5px 15px rgba(0, 0, 0, 0.5)`\r\n                            }}\r\n                        />\r\n                        {props.piecesCaptured &&\r\n                            <CaptureSidebar\r\n                                piecesCaptured={props.piecesCaptured}\r\n                            />\r\n                        }\r\n                    </>\r\n                )}\r\n            </HumanVsHuman>\r\n        </div >\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        piecesCaptured: state.chanceChessReducer.capturedPieces\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(Board);","\r\nimport React from 'react'\r\nimport '../style/components/key.scss';\r\n\r\nfunction correlationKey() {\r\n    return (\r\n        <>\r\n            <div className='key-container'>\r\n                <ul className=\"col-1\">\r\n                    <li>Card 🃏</li>\r\n                    <li>Ace</li>\r\n                    <li>2</li>\r\n                    <li>3</li>\r\n                    <li>4</li>\r\n                    <li>5</li>\r\n                    <li>6</li>\r\n                    <li>7</li>\r\n                    <li>8</li>\r\n                    <li>9</li>\r\n                    <li>10</li>\r\n                    <li>Jack</li>\r\n                    <li>Queen</li>\r\n                    <li>King</li>\r\n                    <li>Joker</li>\r\n                </ul>\r\n                <ul className=\"col-2\">\r\n                    <li>Piece ♟</li>\r\n                    <li>a pawn</li>\r\n                    <li>b pawn</li>\r\n                    <li>c pawn</li>\r\n                    <li>d pawn</li>\r\n                    <li>e pawn</li>\r\n                    <li>f pawn</li>\r\n                    <li>g pawn</li>\r\n                    <li>h pawn</li>\r\n                    <li>Rooks</li>\r\n                    <li>Knights</li>\r\n                    <li>Bishops</li>\r\n                    <li>Queen</li>\r\n                    <li>King</li>\r\n                    <li>Any Piece</li>\r\n                </ul>\r\n            </div>\r\n            <h2 style={{ color: 'white', textAlign: 'center', background: 'linear-gradient(90deg, #123709 0%, #277714 24%, #33b115 85%)' }}>Combos</h2>\r\n            <p style={{ textAlign: 'center' }}>Click the \"Select All\" button to activate</p>\r\n            <p style={{ textAlign: 'center' }}>**Jokers may not be used for any combo**</p>\r\n            <div className='key-container'>\r\n                <ul className=\"col-1\">\r\n                    <li>Flush</li>\r\n                    <li>♣'s</li>\r\n                    <li style={{ color: 'red' }}>♦'s</li>\r\n                    <li>♠'s</li>\r\n                    <li style={{ color: 'red' }}>♥'s</li>\r\n                </ul>\r\n                <ul className=\"col-2\">\r\n                    <li>Piece ♟</li>\r\n                    <li>Knights</li>\r\n                    <li>Bishops</li>\r\n                    <li>Rooks or King</li>\r\n                    <li>Queen</li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div className='key-container' style={{ marginTop: '20px' }}>\r\n                <ul className=\"col-1\">\r\n                    <li>Straight</li>\r\n                    <li>E.g. (A, 2, 3)</li>\r\n\r\n                </ul>\r\n                <ul className=\"col-2\">\r\n                    <li>Piece ♟</li>\r\n                    <li>King or Any Pawn</li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div className='key-container' style={{ marginTop: '20px' }}>\r\n                <ul className=\"col-1\">\r\n                    <li>3 of a kind</li>\r\n                    <li>E.g. (5, 5, 5) </li>\r\n\r\n                </ul>\r\n                <ul className=\"col-2\">\r\n                    <li>Piece ♟</li>\r\n                    <li>Knight, Bishop, or Rook</li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div className='key-container' style={{ marginTop: '20px' }}>\r\n                <ul className=\"col-1\">\r\n                    <li>Straight Flush</li>\r\n                    <li>E.g. (10d, Jd, Qd) </li>\r\n\r\n                </ul>\r\n                <ul className=\"col-2\">\r\n                    <li>Piece ♟</li>\r\n                    <li>Any Piece</li>\r\n                </ul>\r\n            </div>\r\n\r\n            {/* <p>Although 3 of a kind is easier to get in Poker, it is more difficult to get in this game and therefore has a greater reward.</p> */}\r\n            <p>The probability of getting each combo is not equivalent to the probablity in Poker.</p>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default correlationKey\r\n\r\n","export default \"data:image/png;base64,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\"","import React, { Component, Fragment } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport Key from './correlationKey';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport '../style/components/key.scss';\r\nimport key from \"../style/images/key.png\";\r\n\r\nclass KeySidebar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            right: false,\r\n            item: null,\r\n        };\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({ ...this.state, right: false });\r\n    }\r\n\r\n    child = (anchor) => (\r\n        <div\r\n            style={{ width: '350px', padding: '10px 20px' }}\r\n            role=\"presentation\"\r\n        >\r\n            <h2 className='sidebar-title'>Key</h2>\r\n            <section>\r\n                <Key />\r\n            </section>\r\n            <DialogActions className='close-button'>\r\n                <Button onClick={this.handleClose} style={{ backgroundColor: 'orange', marginTop: '40px', display: 'flex', justifyContent: 'center' }}>\r\n                    Close\r\n                </Button>\r\n            </DialogActions>\r\n        </div>\r\n    );\r\n\r\n\r\n    toggleDrawer = (anchor, open) => (event) => {\r\n        if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ ...this.state, [anchor]: open });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {['right'].map((anchor) => (\r\n                    <Fragment key={anchor}>\r\n\r\n                        <div\r\n                            style={{ backgroundImage: `url(${key}`, transform: 'translate(0, -8px)' }}\r\n                            onClick={this.toggleDrawer(anchor, true)}\r\n                        >\r\n                            <div\r\n                                style={{ cursor: 'pointer' }}\r\n                                className=\"iconHover\">\r\n                                <img src={key} alt=\"poker-chip-with-key-on-it\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <SwipeableDrawer\r\n                            anchor={anchor}\r\n                            open={this.state[anchor]}\r\n                            onClose={this.toggleDrawer(anchor, false)}\r\n                            onOpen={this.toggleDrawer(anchor, true)}\r\n                        >\r\n                            {this.child(anchor)}\r\n                        </SwipeableDrawer>\r\n\r\n                    </Fragment>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default KeySidebar;","import React from 'react'\r\n\r\nfunction Rules() {\r\n    return (\r\n        <div>\r\n            <h3>How to Play</h3>\r\n            <ol>\r\n                <li>Click the Plus icon next to the deck to get your cards</li>\r\n                <li>Click on one of your cards to select a card</li>\r\n                <li>Click on the Key icon to see which piece your card corresponds with</li>\r\n                <li>If you have a \"Combo\", click the \"Select All\" button to play your combo (check the \"Key Icon\" to see the combos)</li>\r\n                <li>If none of your cards can move or you want all new cards on your next turn, click the \"Discard All\" button to discard your cards and lose your turn</li>\r\n                <li>Additionally, you may \"select\" and \"discard\" an individual card which also results in the end of your turn (This may help you achieve a combo)</li>\r\n                <li>Move your piece</li>\r\n            </ol>\r\n            <h3>Objective</h3>\r\n            <p>Capture the King! (Checks and checkmates are not a part of Chance Chess.)</p>\r\n            <h3>Differences from regular Chess</h3>\r\n            <ol>\r\n                <li>No checks</li>\r\n                <li>No checkmates</li>\r\n                <li>No stalemates</li>\r\n                <li>No en passant</li>\r\n                <li>Pawns only promote to a Queen</li>\r\n                <li>Draws are basically impossible</li>\r\n            </ol>\r\n            <h3>About</h3>\r\n            <p>Chance Chess is a lot like chess but the cards you draw determine which pieces can move. This adds a significant amount of\r\n                chance to arguably the most skilled game that exists, but do not be mistaken, there is still plenty of skill involved.\r\n            </p>\r\n\r\n            <h3>Tips</h3>\r\n            <p>You may not always want to draw a card, as this gives your opponent more information.</p>\r\n            <p>Observe the cards your opponent has and plan accordingly.</p>\r\n            <p>You can be more agressive in your attacks in this game as opposed to regular chess since you often know your opponent's potential moves.</p>\r\n            <p>Only one deck is used, so counting cards can be used to your benefit.  For example, if there have been 3 knight moves, then you know there's only one \"10\" left in the deck.</p>\r\n\r\n            <h3>Other</h3>\r\n            <p>If you really enjoy this game, please feel free to buy me a cup of coffee. Donations can me made at the bottom of the screen.</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Rules\r\n","import React, { Component, Fragment } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport Rules from './Rules';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport '../style/components/key.scss';\r\nimport rulesChip from \"../style/images/rulesChip.png\";\r\n\r\n\r\n\r\nclass RulesSidebar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            right: false,\r\n            item: null,\r\n        };\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({ ...this.state, right: false });\r\n    }\r\n\r\n    child = (anchor) => (\r\n        <div\r\n            style={{ width: '350px', padding: '10px 20px' }}\r\n            role=\"presentation\"\r\n        >\r\n            <h2 className='sidebar-title'>Rules</h2>\r\n            <section>\r\n                <Rules />\r\n            </section>\r\n            <DialogActions className='close-button'>\r\n                <Button onClick={this.handleClose} style={{ backgroundColor: 'orange', marginTop: '40px', display: 'flex', justifyContent: 'center' }}>\r\n                    Close\r\n                </Button>\r\n\r\n            </DialogActions>\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n    toggleDrawer = (anchor, open) => (event) => {\r\n        if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ ...this.state, [anchor]: open });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {['right'].map((anchor) => (\r\n                    <Fragment key={anchor}>\r\n\r\n                        <div\r\n                            className='title'\r\n                            onClick={this.toggleDrawer(anchor, true)}\r\n                        >\r\n                            <div\r\n                                style={{\r\n                                    cursor: 'pointer',\r\n                                    fontSize: '24px'\r\n                                }}>\r\n                                <img src={rulesChip} alt=\"poker-chip-with-scroll-on-it\" />\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <SwipeableDrawer\r\n                            anchor={anchor}\r\n                            open={this.state[anchor]}\r\n                            onClose={this.toggleDrawer(anchor, false)}\r\n                            onOpen={this.toggleDrawer(anchor, true)}\r\n                        >\r\n                            {this.child(anchor)}\r\n                        </SwipeableDrawer>\r\n\r\n                    </Fragment>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default RulesSidebar;\r\n","export default \"data:image/png;base64,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\"","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Button from '@material-ui/core/Button';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nfunction TransitionAlerts() {\r\n    const [open, setOpen] = React.useState(true);\r\n\r\n    return (\r\n        <Box sx={{ width: '100%' }}>\r\n            <Collapse in={open}>\r\n                <Dialog\r\n                    action={\r\n                        <IconButton\r\n                            aria-label=\"close\"\r\n                            color=\"inherit\"\r\n                            size=\"small\"\r\n                            onClick={() => {\r\n                                setOpen(false);\r\n                            }}\r\n                        >\r\n                            <CloseIcon fontSize=\"inherit\" />\r\n                        </IconButton>\r\n                    }\r\n                    sx={{ mb: 2 }}\r\n                >\r\n                    Combo engaged!\r\n                </Dialog>\r\n            </Collapse>\r\n            <Button\r\n                disabled={open}\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                    setOpen(true);\r\n                }}\r\n            >\r\n                Re-open\r\n            </Button>\r\n        </Box>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { isACombo: state.chanceChessReducer.isACombo }\r\n}\r\n\r\nexport default connect(mapStateToProps)(TransitionAlerts);","import React, { useEffect, useState } from \"react\";\nimport { connect } from 'react-redux';\nimport \"../App.css\";\nimport '../style/components/player1.scss';\nimport '../style/components/playerCard.scss';\nimport '../style/components/key.scss';\nimport \"../style/components/card.scss\";\nimport backCardImg from \"../style/images/leather.jpg\";\n// import arrow from \"../style/images/arrow.png\";\nimport resignChip from \"../style/images/resignChip.png\";\nimport star from \"../style/images/star.png\";\nimport addIcon from \"../style/images/AddIcon.png\";\nimport Header from '../components/Header';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport moveSound from '../audio/capture.mp3';\nimport Button from '@material-ui/core/Button';\nimport Player2CardContainer from '../components/Players/Player2CardContainer';\nimport Player1CardContainer from '../components/Players/Player1CardContainer';\nimport StartDialog from './StartDialog';\nimport GameOverDialog from './GameOverDialog';\nimport Board from '../components/Game';\nimport Card from '../components/Card';\nimport Key from '../components/keySidebar'\nimport Rules from '../components/RulesSidebar'\nimport { config } from '../config/config';\nimport TransitionAlerts from '../Modals/comboModal'\nimport {\n  getCard,\n  getPlayer2Card,\n  discardAllP1Cards,\n  discardAllP2Cards,\n  shuffle,\n  selectAll,\n  updateGame,\n  setCard,\n  setPlayer2Card,\n  updateGameIfStale,\n  newGame,\n  gameOver,\n  setAnimateCards,\n  toggleCombo\n} from \"../redux/actions/cardActions\";\nimport { updateUsers, setPlayerOne, setPlayerTwo } from '../redux/actions/userActions';\nimport { useQueryParam, StringParam } from 'use-query-params';\nimport { socket } from \"../connection/socket\";\nimport { Translate } from \"@material-ui/icons\";\n\nconst Home = (props) => {\n\n  let [whiteToMove, setWhiteToMove] = useState();\n\n  let playerNumber;\n  const isCreator = localStorage.getItem(props.gameId);\n  if (isCreator) playerNumber = 1;\n  else playerNumber = 2;\n\n\n  useEffect(() => {\n    socket.on('chance chess state updated', chanceChessState => {\n      socket.removeAllListeners('chance chess state updated');\n      // only update if it's not our turn\n      if ((playerNumber === 1 && props.whiteToMove) || (playerNumber === 1 && !props.whiteToMove)) return;\n      props.updateGameIfStale(chanceChessState, props.gameId)\n    })\n\n    socket.on('player two drew', move => {\n      if (playerNumber === 1) {\n        const { cardsArray, player2Cards } = move;\n        props.setPlayer2Card(player2Cards, cardsArray);\n      }\n    })\n\n    socket.on('player one drew', move => {\n      if (playerNumber === 2) {\n        const { cardsArray, player1Cards } = move;\n        props.setCard(player1Cards, cardsArray);\n      }\n    })\n\n    socket.on('player two name is', username => {\n      if (playerNumber === 1) {\n        props.setPlayerTwo(username)\n      }\n    })\n\n    return () => {\n      socket.removeAllListeners('player one drew');\n      socket.removeAllListeners('player two drew');\n      socket.removeAllListeners('player two name is');\n      socket.removeAllListeners('chance chess state updated');\n    }\n  })\n\n  const [creator, setCreator] = useQueryParam('creator', StringParam);\n  if (props.playerOne !== creator) props.setPlayerOne(creator);\n\n  socket.removeAllListeners('opponent move');\n\n  useEffect(() => {\n    socket.on('opponent move', move => {\n\n      if (playerNumber === 1 && !move.gameState.whiteToMove) return;\n      if (playerNumber === 2 && move.gameState.whiteToMove) return;\n\n      if (move.gameState.whiteToMove !== whiteToMove) {\n\n        props.setAnimateCards(false);\n\n        setWhiteToMove(move.gameState.whiteToMove)\n        const whiteToMove = props.whiteToMove;\n        const fen = props.fen;\n        const nextWhiteToMove = move.gameState.whiteToMove;\n        const nextFen = move.gameState.fen;\n\n        if (fen !== nextFen || whiteToMove !== nextWhiteToMove) {\n          const currentState = props.chanceChessState;\n          if (!deepEquals(move.gameState, currentState)) {\n            let moveAudio = new Audio(moveSound);\n            moveAudio.play();\n            props.updateGame(move.gameState, move.userState.gameId);\n            props.updateUsers(move.userState);\n\n          }\n        }\n      }\n\n    })\n  })\n\n  useEffect(() => {\n\n    setTimeout(() => {\n      socket.emit('chance chess state update', { chanceChessState: props.chanceChessState, gameId: props.gameId });\n    }, 20000);\n\n    if (whiteToMove !== props.whiteToMove) {\n      setWhiteToMove(props.whiteToMove)\n      const newState = {\n        gameState: props.chanceChessState,\n        userState: props.usersState\n      }\n\n      localStorage.setItem(`${props.gameId}-user`, JSON.stringify({ ...props.usersState }));\n      localStorage.setItem(`${props.gameId}-game`, JSON.stringify({ ...props.chanceChessState }));\n\n      socket.emit('new move', { ...newState });\n\n      localStorage.setItem(`${props.gameId}-game`, JSON.stringify({ ...props.chanceChessState }));\n\n      // setTimeout(() => {\n      //   socket.emit('new move', { ...newState });\n      // }, 500)\n    }\n  }, [props.whiteToMove])\n\n  const deepEquals = (a, b) => {\n    return JSON.stringify(a) === JSON.stringify(b);\n  }\n\n  const onSelectAll = () => {\n    props.setAnimateCards(false)\n\n    //Todo: Add logic that adds alert if there is no combo available\n    // if (!combo) alert(Sorry, you do not have a combo, please reference the key.)\n    console.log(\"is a combo?: \", props.isACombo)\n    if (props.isACombo === false) {\n      return alert('no combo');\n    }\n    let whiteToMove = props.whiteToMove;\n\n    if (playerNumber === 1 && !whiteToMove) {\n      return;\n    }\n    if (playerNumber === 2 && whiteToMove) {\n      return;\n    }\n\n    props.onSelectAll();\n  }\n\n  const getOwnUsername = () => {\n    if (playerNumber === 1) {\n      return props.playerOne;\n    } else {\n      return props.playerTwo;\n    }\n  }\n\n  const getOpponentUsername = () => {\n    if (playerNumber === 1) {\n      return props.playerTwo;\n    } else {\n      return props.playerOne;\n    }\n  }\n\n  const myTurn = () => {\n    if (playerNumber === 1) {\n      return props.whiteToMove;\n    } else {\n      return !props.whiteToMove;\n    }\n  }\n\n  const opponentTurn = () => {\n    if (playerNumber === 1) {\n      return !props.whiteToMove;\n    } else {\n      return props.whiteToMove;\n    }\n  }\n\n  const discardAllP1 = () => {\n    let whiteToMove = props.whiteToMove;\n\n    if (playerNumber === 1 && !whiteToMove) {\n      return;\n    }\n    if (playerNumber === 2 && whiteToMove) {\n      return;\n    }\n    if (!whiteToMove || props.player1Cards.length === 0) return;\n    props.setAnimateCards(true)\n\n    props.onDiscardAllCardsP1();\n  }\n\n  const discardAllP2 = () => {\n    let whiteToMove = props.whiteToMove;\n\n    if (playerNumber === 1 && !whiteToMove) {\n      return;\n    }\n    if (playerNumber === 2 && whiteToMove) {\n      return;\n    }\n    if (whiteToMove || props.player2Cards.length === 0) return;\n    props.setAnimateCards(true)\n\n    props.onDiscardAllCardsP2();\n  }\n\n  const resign = () => {\n\n    if (playerNumber === 1 && window.confirm('Are you sure you want to resign?')) {\n      props.gameOver('Black')\n    }\n\n    if (playerNumber === 2 && window.confirm('Are you sure you want to resign?')) {\n      props.gameOver('White')\n    }\n  }\n\n  const newGame = () => {\n    props.newGame();\n  }\n\n  const onDrawCards = () => {\n    if (props.whiteToMove && props.player1Cards.length === 3) {\n      return\n    } else {\n      props.setAnimateCards(true);\n    }\n    let playerNumber;\n    const isCreator = localStorage.getItem(props.gameId);\n    if (isCreator) playerNumber = 1;\n    else playerNumber = 2;\n    if ((playerNumber === 1 && !props.whiteToMove) || (playerNumber === 2 && props.whiteToMove)) return;\n\n    if (playerNumber === 1) props.onGetCard();\n    else props.onGetCardForPlayer2();\n\n    const cardsArray = props.cardsArray;\n    let player1Cards, player2Cards;\n    if (playerNumber === 1) {\n      player1Cards = props.player1Cards;\n      if (player1Cards.length > 3) {\n        const extraCard = player1Cards[3];\n        cardsArray.unshift(extraCard);\n        player1Cards = player1Cards.slice(0, 3);\n      }\n      socket.emit('player one draws', { gameId: props.gameId, player1Cards, cardsArray });\n      localStorage.setItem(`${props.gameId}-game`, JSON.stringify({ ...props.chanceChessState }));\n\n    } else if (playerNumber === 2) {\n      player2Cards = props.player2Cards;\n      if (player2Cards.length > 3) {\n        const extraCard = player2Cards[3];\n        cardsArray.unshift(extraCard);\n        player2Cards = player2Cards.slice(0, 3);\n      }\n      socket.emit('player two draws', { gameId: props.gameId, player2Cards, cardsArray });\n      localStorage.setItem(`${props.gameId}-game`, JSON.stringify({ ...props.chanceChessState }));\n    }\n  }\n\n  const getUrl = () => {\n\n    return config.url + '/game/' + props.gameId + '?creator=' + creator;\n  }\n\n  const shuffle = (p1Cards, p2Cards) => {\n    let p1 = props.player1Cards;\n    let p2 = props.player2Cards;\n\n    p1Cards = p1.map(card => card.index)\n    p2Cards = p2.map(card => card.index)\n\n    props.onShuffle(p1Cards, p2Cards);\n  }\n\n  return (\n    <div className=\"App\">\n      {(\n        props.numPlayers === 1 && (\n          <StartDialog url={getUrl()} open={props.numPlayers === 1} />\n        )\n      )}\n      {(\n        props.winner && (\n          <GameOverDialog message={props.winner + ' Wins.'} newGame={newGame} open={props.winner} />\n        )\n      )}\n      <Header />\n      <div className=\"body-container\">\n        <div className=\"Board\">\n          <Board />\n          <div className='card-containers'>\n\n            {playerNumber === 1 &&\n              <Player2CardContainer playerNumber={playerNumber} blockAnimation={true} disableControls={playerNumber === 1} cards={props.player2Cards || []} allCardsSelected={props.allSelected} />\n            }\n            {playerNumber === 2 &&\n              <Player1CardContainer playerNumber={playerNumber} blockAnimation={true} disableControls={playerNumber === 2} cards={props.player1Cards || []} allCardsSelected={props.allSelected} />\n            }\n\n\n\n            {props.cardsArray && props.cardsArray.length > 0 &&\n\n              <>\n\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n\n\n                  {props.cardsArray && props.cardsArray.map((card, index) => {\n                    return (\n                      <div\n\n                        style={{ transform: 'translateY(12px)' }}\n                        key={index}>\n                        <Card suits={card.suits} onDrawCards={onDrawCards} card={card.card} color={card.color} front={false} />\n                        <Tooltip title=\"Cards Remaining\" placement=\"right\">\n                          <div\n                            style={{\n                              position: 'absolute',\n                              top: '0',\n                              right: '0',\n                              padding: '5px',\n                              color: 'orange',\n                              fontWeight: 'bold',\n                              border: '1px solid',\n                              cursor: 'default',\n                              backgroundColor: 'rgb(62 50 50)',\n                              borderRadius: '50%'\n                            }}\n                          >\n                            {props.cardsArray.length}\n                          </div>\n                        </Tooltip>\n                      </div>\n                    );\n                  })}\n\n                  <div\n                    className=\"addIcon\"\n                    style={{\n                      position: 'relative',\n                      top: '45px',\n                      left: '60px',\n                      cursor: 'pointer'\n                    }}\n                  >\n                    <img\n                      src={addIcon} alt=\"add-icon\"\n                      onClick={() => onDrawCards()}\n                    />\n                  </div>\n\n                </div>\n\n                {/* ********************Player Names ************************************ */}\n\n                <div style={{ position: 'absolute', top: '380px' }}>\n                  {myTurn() &&\n                    <div style={{\n                      display: 'flex', justifyContent: 'center',\n                      transform: 'translate(322px, 12px)',\n                      borderRadius: '10px',\n                      backgroundColor: 'orange',\n                      opacity: '.6',\n                      padding: '4px 5px',\n                      width: '92px',\n                      color: 'black',\n                      fontSize: '12px'\n\n                    }}>\n                      {getOpponentUsername()}\n                    </div>\n                  }\n                  {opponentTurn() &&\n                    <>\n                      <div\n                        style={{\n                          display: 'flex', justifyContent: 'center',\n                          transform: 'translate(322px, 10px)',\n                          backgroundColor: 'orange',\n                          color: 'black',\n                          width: '92px',\n                          fontWeight: '600',\n                          borderRadius: '10px',\n                          padding: '4px 5px',\n                          fontSize: '12px'\n                        }}\n                      >\n                        {getOpponentUsername()}\n                      </div>\n                    </>\n                  }\n                </div>\n\n                <div>\n                  {myTurn() &&\n                    <div\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'center',\n                        backgroundColor: 'orange',\n                        color: 'black',\n                        fontWeight: '600',\n                        transform: 'translate(322px, -14px)',\n                        width: '92px',\n                        borderRadius: '10px',\n                        padding: '4px 5px',\n                        fontSize: '12px'\n\n                      }}>\n                      {getOwnUsername()}\n                    </div>\n                  }\n                  {opponentTurn() &&\n                    <div\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'center',\n                        transform: 'translate(322px, -10px)',\n                        backgroundColor: 'orange',\n                        padding: '4px 5px',\n                        width: '92px',\n                        opacity: '.6',\n                        borderRadius: '10px',\n                        color: 'black',\n                        fontSize: '12px'\n                      }}\n                    >\n                      {getOwnUsername()}\n                    </div>\n                  }\n                </div>\n\n                {/* *************************   END OF PLAYER NAMES */}\n              </>\n            }\n\n            {props.cardsArray.length === 0 &&\n              <>\n                <Button\n                  onClick={() => shuffle(props.player1Cards, props.player2Cards)}\n                  style={{\n                    backgroundColor: 'orange',\n                    color: 'black',\n                    width: '87%',\n                    height: '110px',\n                    fontSize: '20px',\n                    margin: '86px 10px 0 15px'\n                  }}\n                >\n                  Shuffle\n                </Button>\n              </>\n            }\n\n            {playerNumber === 1 &&\n              <>\n                <Player1CardContainer playerNumber={playerNumber} disableControls={!props.whiteToMove} cards={props.player1Cards} allCardsSelected={props.allSelected} />\n                <div style={{ display: 'flex', width: '462px', justifyContent: 'center', transform: 'translate(0, -5px)' }}>\n                  <Button\n                    onClick={discardAllP1}\n                    style={{\n                      backgroundColor: '#a32d2d',\n                      color: 'white'\n                    }}>\n                    Discard All\n                  </Button>\n                  <img style={{ paddingRight: '10px' }} width='80' height='40' src={star} alt=\"star\"></img>\n                  <>\n\n                    <Button\n                      style={{ backgroundColor: 'rgb(50 155 42)', color: 'white' }}\n                      onClick={() => onSelectAll()}\n                    >\n                      Select All\n                    </Button>\n                    <TransitionAlerts />\n                  </>\n\n\n                </div>\n\n                {/* Icons Sections */}\n\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                    paddingTop: '8px',\n                    backgroundImage: `url(${backCardImg})`,\n                    backgroundSize: 'cover',\n                    height: '80px',\n                    boxShadow: '0 0 15px inset black',\n                    transform: 'translate(35px, 15px)',\n                    width: '425px',\n                    borderRadius: '60px 0 0'\n                  }}\n                >\n                  <Tooltip title=\"RESIGN\" placement=\"bottom\">\n                    <div\n                      onClick={resign}\n                      className=\"iconHover\"\n                    >\n                      <img style={{\n                        cursor: 'pointer',\n                        marginLeft: '50px',\n                        marginTop: '10px'\n                      }} src={resignChip} alt=\"pokerChip with flag\"></img>\n                    </div>\n                  </Tooltip>\n\n                  <Tooltip title=\"RULES\" placement=\"bottom\">\n                    <div\n                      className=\"iconHover\"\n                      style={{ cursor: 'pointer' }}\n                    >\n                      <Rules />\n                    </div>\n                  </Tooltip>\n\n                  <Tooltip title=\"KEY\" placement=\"bottom\">\n                    <div className=\"iconHover\">\n                      <Key />\n                    </div>\n                  </Tooltip>\n                </div>\n              </>\n            }\n\n            {playerNumber === 2 &&\n              <>\n                <Player2CardContainer playerNumber={playerNumber} disableControls={props.whiteToMove} cards={props.player2Cards} allCardsSelected={props.allSelected} />\n                <div style={{ display: 'flex', justifyContent: 'center', width: '462px', transform: 'translate(0, -5px)' }}>\n                  <Button\n                    onClick={discardAllP2}\n                    style={{\n                      backgroundColor: '#a32d2d',\n                      color: 'white'\n                    }}>\n                    Discard All\n                  </Button>\n                  <img style={{ paddingRight: '10px' }} width='80' height='40' src={star} alt=\"star\"></img>\n\n                  <Button\n                    style={{\n                      backgroundColor: 'rgb(50 155 42)',\n                      color: 'white'\n                    }}\n                    onClick={() => onSelectAll()}\n                  >\n                    Select All\n                  </Button>\n                </div>\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                    backgroundImage: `url(${backCardImg})`,\n                    backgroundSize: 'cover',\n                    height: '74px',\n                    boxShadow: '0 0 15px inset black',\n                    transform: 'translate(15px, 30px)',\n                    width: '445px',\n                    borderRadius: '60px 0 0'\n                  }}\n                >\n                  <Tooltip title=\"RESIGN\" placement=\"bottom\">\n                    <div\n                      onClick={resign}\n                      className=\"iconHover\"\n                    >\n                      <img\n                        style={{\n                          cursor: 'pointer',\n                          marginLeft: '50px',\n                          marginTop: '10px'\n                        }} src={resignChip} alt=\"pokerChip with flag\"></img>\n                    </div>\n                  </Tooltip>\n\n                  <Tooltip title=\"RULES\" placement=\"bottom\">\n                    <div\n                      className=\"iconHover\"\n                      style={{ cursor: 'pointer' }}\n                    >\n                      <Rules />\n                    </div>\n                  </Tooltip>\n\n                  <Tooltip title=\"KEY\" placement=\"bottom\">\n                    <div className=\"iconHover\">\n                      <Key />\n                    </div>\n                  </Tooltip>\n                </div>\n              </>\n            }\n          </div>\n        </div>\n      </div>\n      <Button\n        style={{\n          backgroundColor: '#277714',\n          transition: 'transform .4s',\n          position: 'absolute',\n          opacity: '.9',\n          bottom: '10px',\n          right: '10px'\n        }}\n      >\n        <a\n          className='iconHover'\n          style={{ textDecoration: 'none', color: 'white', fontSize: '11px', opacity: '1' }}\n          href=\"https://paypal.me/michaelrooze?locale.x=en_US\" target=\"_blank\" rel=\"noopener noreferrer\">\n          $ Donate\n        </a>\n      </Button >\n    </div >\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    chanceChessState: state.chanceChessReducer,\n    usersState: state.usersReducer,\n    player1Cards: state.chanceChessReducer.player1Cards,\n    player2Cards: state.chanceChessReducer.player2Cards,\n    isACombo: state.chanceChessReducer.isACombo,\n    newBoard: state.chanceChessReducer.newBoard,\n    whiteToMove: state.chanceChessReducer.whiteToMove,\n    cardsArray: state.chanceChessReducer.cardsArray,\n    selectedCard: state.chanceChessReducer.selectedCard,\n    allSelected: state.chanceChessReducer.allSelected,\n    fullDeck: state.chanceChessReducer.fullDeck,\n    gameId: state.usersReducer.gameId,\n    numPlayers: state.usersReducer.numPlayers,\n    playerOne: state.usersReducer.playerOne,\n    playerTwo: state.usersReducer.playerTwo,\n    winner: state.chanceChessReducer.winner\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onGetCard: () => dispatch(getCard()),\n    onGetCardForPlayer2: () => dispatch(getPlayer2Card()),\n    onDiscardAllCardsP1: () => dispatch(discardAllP1Cards()),\n    onDiscardAllCardsP2: () => dispatch(discardAllP2Cards()),\n    onShuffle: (p1Cards, p2Cards) => dispatch(shuffle(p1Cards, p2Cards)),\n    onSelectAll: () => dispatch(selectAll()),\n\n    updateGame: (state, gameId) => dispatch(updateGame(state, gameId)),\n    updateGameIfStale: (state, gameId) => dispatch(updateGameIfStale(state, gameId)),\n    updateUsers: state => dispatch(updateUsers(state)),\n    setPlayerOne: playerOne => dispatch(setPlayerOne(playerOne)),\n    setPlayerTwo: playerTwo => dispatch(setPlayerTwo(playerTwo)),\n    setCard: (player1Cards, cardsArray) => dispatch(setCard(player1Cards, cardsArray)),\n    setPlayer2Card: (player2Cards, cardsArray) => dispatch(setPlayer2Card(player2Cards, cardsArray)),\n    newGame: () => dispatch(newGame()),\n    gameOver: winner => dispatch(gameOver(winner)),\n    setAnimateCards: bool => dispatch(setAnimateCards(bool))\n\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","export default \"data:image/png;base64,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\"","import React from 'react'\nimport JoinGame from './joingame'\nimport Home from '../Home';\nimport logo from '../../images/chessLogo5.png';\nimport '../../style/components/header.scss';\nimport Button from '@material-ui/core/Button';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { updateUsers } from '../../redux/actions/userActions';\nimport { updateGame } from '../../redux/actions/cardActions';\n\n/**\n * Onboard is where we create the game room.\n */\n\nclass JoinRoom extends React.Component {\n    state = {\n        didGetUserName: false,\n        inputText: \"\",\n        isPlayerOne: false,\n        didRefresh: false\n\n    }\n\n    constructor(props) {\n        super(props);\n        this.textArea = React.createRef();\n    }\n\n    componentDidMount() {\n        const gameId = this.props.match.params.gameId;\n\n        if (gameId && !this.props.gameId) {\n            let userState = localStorage.getItem(`${gameId}-users`);\n            let gameState = localStorage.getItem(`${gameId}-game`);\n            if (userState && gameState) {\n                userState = JSON.parse(userState);\n                gameState = JSON.parse(gameState);\n                this.props.updateUsers(userState);\n                this.props.updateGame(gameState, userState.gameId);\n                const isPlayerOne = localStorage.getItem(gameId);\n\n                this.setState({\n                    inputText: isPlayerOne ? userState.playerOne : userState.playerTwo,\n                    didGetUserName: true,\n                    isPlayerOne,\n                    didRefresh: true\n                })\n\n            }\n        }\n\n    }\n\n    typingUserName = (e) => {\n        // grab the input text from the field from the DOM \n        const typedText = this.textArea.current.value.toUpperCase();\n\n        // set the state with that text\n\n        this.setState({\n            inputText: typedText\n        })\n\n    }\n\n    onFormSubmit = e => {\n        e.preventDefault();\n\n        if (this.state.inputText !== '') {\n            this.setState({\n                didGetUserName: true\n            })\n        }\n\n    }\n\n    render() {\n        if (this.state.didRefresh) {\n            return (\n                <Home myUserName={this.state.inputText} />\n            )\n        } else {\n            return (<React.Fragment>\n                {\n                    this.state.didGetUserName ?\n                        <React.Fragment>\n                            <JoinGame userName={this.state.inputText} isCreator={false} />\n                            <Home myUserName={this.state.inputText} />\n                        </React.Fragment>\n                        :\n                        <div>\n                            <div className=\"header\">\n                                <img src={logo} alt=\"logo\" className=\"logo\" />\n                                <h1 style={{ color: 'white' }}>Chance Chess</h1>\n                            </div>\n                            <div style={{ backgroundColor: '#2a2724', margin: '300px auto', padding: '10px', width: '30%', borderRadius: '6px', opacity: '0.9' }}>\n                                <h2 style={{ color: '#eaeaea', textAlign: \"center\" }}\n                                >\n                                    Enter your <span style={{ color: 'orange' }}>Name</span> to join the Game Room\n                                </h2>\n                                <form\n                                    style={{ display: 'flex', justifyContent: 'center', padding: '20px 0' }}\n                                    onSubmit={this.onFormSubmit}>\n                                    <input style={{ width: \"240px\" }}\n                                        type=\"text\"\n                                        minLength={1}\n                                        maxLength={11}\n                                        autoFocus\n                                        ref={this.textArea}\n                                        onInput={this.typingUserName}></input>\n\n                                    <Button type=\"submit\"\n                                        style={{\n                                            backgroundColor: \"#277714\",\n                                            color: \"white\",\n                                            width: '75px',\n                                            marginLeft: '12px',\n                                            fontSize: '18px'\n                                        }}\n                                    >\n                                        Go!\n                                    </Button>\n                                </form>\n                            </div>\n                        </div>\n                }\n            </React.Fragment>)\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        gameId: state.usersReducer.gameId,\n        numPlayers: state.usersReducer.numPlayers\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        updateGame: (state, gameId) => dispatch(updateGame(state, gameId)),\n        updateUsers: state => dispatch(updateUsers(state)),\n    }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(JoinRoom));","import { createContext } from 'react'\r\n\r\nexport const ColorContext = createContext({\r\n    didRedirect: false, \r\n    playerDidRedirect: () => {}, \r\n    playerDidNotRedirect: () => {}\r\n})","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport uuid from 'uuid/v4'\r\nimport logo from '../../images/chessLogo5.png';\r\nimport '../../style/components/header.scss';\r\n// import ThreeD from \"../../style/images/3d.png\";\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport { ColorContext } from '../../context/colorcontext'\r\nconst socket = require('../../connection/socket').socket\r\n\r\n/**\r\n * Onboard is where we create the game room.\r\n */\r\n\r\nclass CreateNewGame extends React.Component {\r\n    state = {\r\n        didGetUserName: false,\r\n        inputText: \"\",\r\n        gameId: \"\"\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.textArea = React.createRef();\r\n    }\r\n\r\n    send = () => {\r\n        /**\r\n         * This method should create a new room in the '/' namespace\r\n         * with a unique identifier. \r\n         */\r\n        const newGameRoomId = uuid()\r\n\r\n        // set the state of this component with the gameId so that we can\r\n        // redirect the user to that URL later. \r\n        this.setState({\r\n            gameId: newGameRoomId\r\n        })\r\n\r\n        // emit an event to the server to create a new room \r\n        socket.emit('createNewGame', newGameRoomId)\r\n    }\r\n\r\n    typingUserName = () => {\r\n        // grab the input text from the field from the DOM \r\n        const typedText = this.textArea.current.value.toUpperCase();\r\n\r\n        // set the state with that text\r\n\r\n        this.setState({\r\n\r\n            inputText: typedText\r\n        })\r\n\r\n    }\r\n\r\n    onFormSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.didRedirect()\r\n        this.props.setUserName(this.state.inputText)\r\n        if (this.state.inputText !== '') {\r\n            this.setState({\r\n                didGetUserName: true\r\n            })\r\n        }\r\n        this.send()\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (<React.Fragment>\r\n            {\r\n                this.state.didGetUserName ?\r\n\r\n                    <Redirect to={\"/game/\" + this.state.gameId}><button className=\"btn btn-success\" style={{ marginLeft: String((window.innerWidth / 2) - 60) + \"px\", width: \"120px\" }}>Start Game</button></Redirect>\r\n\r\n                    :\r\n                    <div>\r\n                        <div className=\"header\">\r\n                            <img src={logo} alt=\"logo\" className=\"logo\" />\r\n                            <h1 style={{ color: 'white' }}>Chance Chess</h1>\r\n                        </div>\r\n\r\n                        <div\r\n                            style={{\r\n                                backgroundColor: '#2a2724',\r\n                                margin: '300px auto',\r\n                                width: '30%',\r\n                                borderRadius: '6px',\r\n                                opacity: '0.9',\r\n                                padding: '10px'\r\n                            }}>\r\n                            <h2 style={{ color: '#eaeaea', textAlign: \"center\" }}\r\n                            >\r\n                                Enter your <span style={{ color: 'orange' }}>Name</span> to join the Game Room\r\n                            </h2>\r\n                            <form\r\n\r\n                                style={{ display: 'flex', justifyContent: 'center', padding: '20px 0' }}\r\n                                onSubmit={this.onFormSubmit}>\r\n                                <input style={{ width: \"240px\" }}\r\n                                    type=\"text\"\r\n                                    minLength={1}\r\n                                    maxLength={11}\r\n                                    autoFocus\r\n                                    ref={this.textArea}\r\n                                    onInput={this.typingUserName}></input>\r\n\r\n                                <Button type=\"submit\"\r\n                                    style={{\r\n                                        backgroundColor: \"#277714\",\r\n                                        color: \"white\",\r\n                                        width: '75px',\r\n                                        marginLeft: '12px',\r\n                                        fontSize: '18px'\r\n                                    }}\r\n                                >\r\n                                    Go!\r\n                                </Button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n\r\n            }\r\n        </React.Fragment>)\r\n    }\r\n}\r\n\r\nconst Onboard = (props) => {\r\n    const color = React.useContext(ColorContext)\r\n\r\n    return <CreateNewGame didRedirect={color.playerDidRedirect} setUserName={props.setUserName} />\r\n}\r\n\r\n\r\nexport default Onboard","import React, { useState, useCallback } from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect, Switch, useParams } from 'react-router-dom';\r\nimport JoinRoom from './components/onboard/joinroom';\r\nimport { ColorContext } from './context/colorcontext';\r\nimport Onboard from './components/onboard/onboard';\r\nimport JoinGame from './components/onboard/joingame';\r\nimport Home from './components/Home';\r\nimport { QueryParamProvider } from 'use-query-params';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  updateGame\r\n} from \"./redux/actions/cardActions\";\r\nimport {\r\n  updateUsers\r\n} from \"./redux/actions/userActions\";\r\n\r\nfunction App(props) {\r\n\r\n  const [didRedirect, setDidRedirect] = useState(false)\r\n  const [didRefresh, setDidRefresh] = useState(false)\r\n  const playerDidRedirect = useCallback(() => {\r\n    setDidRedirect(true)\r\n  }, [])\r\n\r\n  const playerDidNotRedirect = useCallback(() => {\r\n    setDidRedirect(false)\r\n  }, [])\r\n  const [userName, setUserName] = useState('')\r\n\r\n\r\n  return (\r\n    <ColorContext.Provider value={{ didRedirect: didRedirect, playerDidRedirect: playerDidRedirect, playerDidNotRedirect: playerDidNotRedirect }}>\r\n      <Router>\r\n        <QueryParamProvider ReactRouterRoute={Route}>\r\n          <Switch>\r\n            <Route path=\"/\" exact>\r\n              <Onboard setUserName={setUserName} />\r\n            </Route>\r\n            <Route path=\"/game/:gameId\" exact>\r\n              {didRedirect ?\r\n                <React.Fragment>\r\n                  <JoinGame userName={userName} isCreator={true} />\r\n                  <Home myUserName={userName} />\r\n                </React.Fragment>\r\n                :\r\n                <JoinRoom />\r\n              }\r\n            </Route>\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        </QueryParamProvider>\r\n      </Router>\r\n    </ColorContext.Provider>);\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    gameId: state.usersReducer.gameId,\r\n    numPlayers: state.usersReducer.numPlayers\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateGame: (state, gameId) => dispatch(updateGame(state, gameId)),\r\n    updateUsers: state => dispatch(updateUsers(state)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","export const deckArray = [\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"A\",\r\n    color: \"red\",\r\n    index: \"1\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"a\"\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"2\",\r\n    color: \"red\",\r\n    index: \"2\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"b\"\r\n    // ChessPieceEquivalent: Any Pawn on the B file\r\n\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"3\",\r\n    color: \"red\",\r\n    index: \"3\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"c\"\r\n    // ChessPieceEquivalent: Any Pawn on the C file\r\n\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"4\",\r\n    color: \"red\",\r\n    index: \"4\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"d\"\r\n    // ChessPieceEquivalent: Any Pawn on the D file\r\n\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"5\",\r\n    color: \"red\",\r\n    index: \"5\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"e\"\r\n    // ChessPieceEquivalent: Any Pawn on the E file\r\n\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"6\",\r\n    color: \"red\",\r\n    index: \"6\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"f\"\r\n    // ChessPieceEquivalent: Any Pawn on the F file\r\n\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"7\",\r\n    color: \"red\",\r\n    index: \"7\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"g\"\r\n    // ChessPieceEquivalent: Any Pawn on the G file\r\n\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"8\",\r\n    color: \"red\",\r\n    index: \"8\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"h\"\r\n    // ChessPieceEquivalent: Any Pawn on the H file\r\n\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"9\",\r\n    color: \"red\",\r\n    index: \"9\",\r\n    correspondingPiece: \"r\"\r\n    // ChessPieceEquivalent: Rooks\r\n\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"10\",\r\n    color: \"red\",\r\n    index: \"10\",\r\n    correspondingPiece: \"n\"\r\n    // ChessPieceEquivalent: Knights\r\n\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"J\",\r\n    color: \"red\",\r\n    index: \"11\",\r\n    correspondingPiece: \"b\"\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"Q\",\r\n    color: \"red\",\r\n    index: \"12\",\r\n    correspondingPiece: \"q\"\r\n  },\r\n  {\r\n    suits: \"Heart\",\r\n    card: \"K\",\r\n    color: \"red\",\r\n    index: \"13\",\r\n    correspondingPiece: \"k\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"A\",\r\n    color: \"red\",\r\n    index: \"14\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"a\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"2\",\r\n    color: \"red\",\r\n    index: \"15\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"b\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"3\",\r\n    color: \"red\",\r\n    index: \"16\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"c\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"4\",\r\n    color: \"red\",\r\n    index: \"17\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"d\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"5\",\r\n    color: \"red\",\r\n    index: \"18\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"e\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"6\",\r\n    color: \"red\",\r\n    index: \"19\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"f\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"7\",\r\n    color: \"red\",\r\n    index: \"20\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"g\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"8\",\r\n    color: \"red\",\r\n    index: \"21\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"h\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"9\",\r\n    color: \"red\",\r\n    index: \"22\",\r\n    correspondingPiece: \"r\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"10\",\r\n    color: \"red\",\r\n    index: \"23\",\r\n    correspondingPiece: \"n\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"J\",\r\n    color: \"red\",\r\n    index: \"24\",\r\n    correspondingPiece: \"b\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"Q\",\r\n    color: \"red\",\r\n    index: \"25\",\r\n    correspondingPiece: \"q\"\r\n  },\r\n  {\r\n    suits: \"Diamond\",\r\n    card: \"K\",\r\n    color: \"red\",\r\n    index: \"26\",\r\n    correspondingPiece: \"k\"\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"A\",\r\n    color: \"black\",\r\n    index: \"27\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"a\"\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"2\",\r\n    color: \"black\",\r\n    index: \"28\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"b\"\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"3\",\r\n    color: \"black\",\r\n    index: \"29\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"c\"\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"4\",\r\n    color: \"black\",\r\n    index: \"30\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"d\"\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"5\",\r\n    color: \"black\",\r\n    index: \"31\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"e\"\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"6\",\r\n    color: \"black\",\r\n    index: \"32\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"f\"\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"7\",\r\n    color: \"black\",\r\n    index: \"33\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"g\"\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"8\",\r\n    color: \"black\",\r\n    index: \"34\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"h\"\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"9\",\r\n    color: \"black\",\r\n    index: \"35\",\r\n    correspondingPiece: \"r\",\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"10\",\r\n    color: \"black\",\r\n    index: \"36\",\r\n    correspondingPiece: \"n\",\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"J\",\r\n    color: \"black\",\r\n    index: \"37\",\r\n    correspondingPiece: \"b\",\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"Q\",\r\n    color: \"black\",\r\n    index: \"38\",\r\n    correspondingPiece: \"q\",\r\n  },\r\n  {\r\n    suits: \"Club\",\r\n    card: \"K\",\r\n    color: \"black\",\r\n    index: \"39\",\r\n    correspondingPiece: \"k\",\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"A\",\r\n    color: \"black\",\r\n    index: \"40\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"a\"\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"2\",\r\n    color: \"black\",\r\n    index: \"41\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"b\"\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"3\",\r\n    color: \"black\",\r\n    index: \"42\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"c\"\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"4\",\r\n    color: \"black\",\r\n    index: \"43\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"d\"\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"5\",\r\n    color: \"black\",\r\n    index: \"44\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"e\"\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"6\",\r\n    color: \"black\",\r\n    index: \"45\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"f\"\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"7\",\r\n    color: \"black\",\r\n    index: \"46\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"g\"\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"8\",\r\n    color: \"black\",\r\n    index: \"47\",\r\n    correspondingPiece: \"p\",\r\n    correspondingFile: \"h\"\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"9\",\r\n    color: \"black\",\r\n    index: \"48\",\r\n    correspondingPiece: \"r\",\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"10\",\r\n    color: \"black\",\r\n    index: \"49\",\r\n    correspondingPiece: \"n\",\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"J\",\r\n    color: \"black\",\r\n    index: \"50\",\r\n    correspondingPiece: \"b\",\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"Q\",\r\n    color: \"black\",\r\n    index: \"51\",\r\n    correspondingPiece: \"q\",\r\n  },\r\n  {\r\n    suits: \"Spade\",\r\n    card: \"K\",\r\n    color: \"black\",\r\n    index: \"52\",\r\n    correspondingPiece: \"k\",\r\n  },\r\n  {\r\n    suits: \"\",\r\n    card: \"Joker\",\r\n    color: \"\",\r\n    index: \"53\"\r\n  },\r\n  {\r\n    suits: \"\",\r\n    card: \"Joker\",\r\n    color: \"\",\r\n    index: \"54\"\r\n  }\r\n];","import * as actionTypes from '../actions/actionTypes';\nimport { deckArray } from \"../../utils/DeckArray\";\n\nconst initialState = {\n    player1Cards: [],\n    player2Cards: [],\n    newBoard: false,\n    whiteToMove: true,\n    cardsArray: deckArray, // the deck\n    selectedCard: [],\n    allSelected: false,\n    isACombo: false,\n    fullDeck: deckArray,\n    fen: 'start',\n    capturedPieces: {\n        W: { p: 0, n: 0, b: 0, r: 0, q: 0, k: 0 },\n        B: { p: 0, n: 0, b: 0, r: 0, q: 0, k: 0 }\n    },\n    winner: null,\n    lastUpdated: Date.now(),\n    animateCards: true\n}\n\nconst reducer = (state = initialState, action) => {\n    let cardsArray;\n    let deck;\n    let newDeck;\n    let selected;\n    let selectedCard;\n    let p1Cards;\n    let p2Cards;\n    let player1Cards;\n    let player2Cards;\n    let whiteToMove;\n\n    switch (action.type) {\n\n        case actionTypes.UPDATE_GAME:\n            localStorage.setItem(`${action.gameId}-game`, JSON.stringify({ ...action.state }));\n            return { ...action.state, lastUpdated: Date.now() };\n\n        case actionTypes.UPDATE_GAME_IF_STALE:\n            if (\n                state.lastUpdated < Date.now() - (10 * 1000) &&\n                hasChanged(action.state, state)\n            ) {\n                // console.log('updating because stale', state.lastUpdated, Date.now() - (10 * 1000))\n                localStorage.setItem(`${action.gameId}-game`, JSON.stringify({ ...action.state }));\n                return { ...action.state, lastUpdated: Date.now() };\n            } else {\n                return state\n            }\n\n        case actionTypes.UPDATE_FEN:\n            return { ...state, fen: action.fen, lastUpdated: Date.now() };\n\n        case actionTypes.SET_CARD:\n            return {\n                ...state,\n                player1Cards: action.player1Cards,\n                cardsArray: action.cardsArray,\n                lastUpdated: Date.now()\n            }\n\n        case actionTypes.SET_PLAYER2_CARD:\n            return {\n                ...state,\n                player2Cards: action.player2Cards,\n                cardsArray: action.cardsArray,\n                lastUpdated: Date.now()\n            }\n\n        case actionTypes.GET_CARD:\n            player1Cards = state.player1Cards;\n            deck = state.cardsArray;\n\n            if (deck.length >= 3) {\n                if (player1Cards.length === 0) {\n                    player1Cards.push(...deck.slice(0, 3))\n                }\n\n\n                if (player1Cards.length === 1) {\n                    player1Cards.push(...deck.slice(0, 2))\n                }\n\n\n                if (player1Cards.length === 2) {\n                    player1Cards.push(...deck.slice(0, 1))\n                }\n            }\n\n            if (deck.length === 2) {\n                player1Cards.push(...deck.slice(0, 2))\n            }\n\n            if (deck.length === 1) {\n                player1Cards.push(...deck.slice(0, 1))\n            }\n\n            if (player1Cards.length > 3) player1Cards = player1Cards.slice(0, 3);\n\n\n\n            let player1CardsIndex = player1Cards.map(card => card.index)\n\n            newDeck = deck.filter(card => !player1CardsIndex.includes(card.index))\n\n            return {\n                ...state,\n                player1Cards,\n                cardsArray: newDeck,\n                lastUpdated: Date.now()\n            }\n\n        case actionTypes.GET_PLAYER2_CARD:\n            player2Cards = state.player2Cards;\n            deck = state.cardsArray;\n\n            if (deck.length >= 3) {\n                if (player2Cards.length === 0) {\n                    player2Cards.push(...deck.slice(0, 3))\n                }\n\n\n                if (player2Cards.length === 1) {\n                    player2Cards.push(...deck.slice(0, 2))\n                }\n\n\n                if (player2Cards.length === 2) {\n                    player2Cards.push(...deck.slice(0, 1))\n                }\n            }\n\n            if (deck.length === 2) {\n                player2Cards.push(...deck.slice(0, 2))\n            }\n\n            if (deck.length === 1) {\n                player2Cards.push(...deck.slice(0, 1))\n            }\n\n            if (player2Cards.length > 3) player2Cards = player2Cards.slice(0, 3);\n\n\n            let player2CardsIndex = player2Cards.map(card => card.index)\n\n            newDeck = deck.filter(card => !player2CardsIndex.includes(card.index))\n\n            return {\n                ...state,\n                player2Cards,\n                cardsArray: newDeck,\n                lastUpdated: Date.now()\n            }\n        case actionTypes.SELECT_CARD:\n            const { cardValue, cardIndex } = action;\n            selectedCard = state.selectedCard;\n            selectedCard = [];\n            selectedCard = [cardValue, cardIndex];\n\n\n            return {\n                ...state,\n                selectedCard: selectedCard,\n                lastUpdated: Date.now()\n            }\n\n        case actionTypes.SELECT_ALL:\n\n            return {\n                ...state,\n                selectedCard: [],\n                allSelected: !state.allSelected,\n                lastUpdated: Date.now()\n            }\n\n        case actionTypes.TOGGLE_COMBO:\n\n            return {\n                ...state,\n                isACombo: !state.isACombo,\n            }\n\n        case actionTypes.CHANGE_TURN:\n\n            return {\n                ...state,\n                allSelected: false,\n                selectedCard: [],\n                whiteToMove: !state.whiteToMove,\n                lastUpdated: Date.now()\n            }\n\n        case actionTypes.SHUFFLE:\n            p1Cards = state.player1Cards;\n            p2Cards = state.player2Cards;\n            let p1CardIndexes = action.p1Cards;\n            let p2CardIndexes = action.p2Cards;\n            let fullDeck = state.fullDeck;\n            cardsArray = state.cardsArray;\n\n            p1CardIndexes = p1Cards.map(card => card.index);\n            p2CardIndexes = p2Cards.map(card => card.index);\n\n\n            cardsArray = fullDeck.filter(card => !p1CardIndexes.includes(card.index) && !p2CardIndexes.includes(card.index))\n\n\n            return {\n                ...state,\n                cardsArray\n            }\n\n        case actionTypes.SHUFFLE_ON_MOUNT:\n\n            let shuffledDeck = state.cardsArray;\n\n            for (let i = shuffledDeck.length - 1; i > 0; i--) {\n                let j = Math.floor(Math.random() * i);\n                let temp = shuffledDeck[i];\n                shuffledDeck[i] = shuffledDeck[j];\n                shuffledDeck[j] = temp;\n            }\n\n            return {\n                ...state\n            }\n\n        case actionTypes.REMOVE_SELECTED_CARD:\n            p1Cards = state.player1Cards;\n            p2Cards = state.player2Cards;\n            selected = state.selectedCard;\n            whiteToMove = state.whiteToMove;\n\n\n            if (whiteToMove) {\n                p1Cards = p1Cards.filter(card => card.index !== selected[1])\n            } else if (!whiteToMove) {\n                p2Cards = p2Cards.filter(card => card.index !== selected[1])\n            }\n\n            return {\n                ...state,\n                player1Cards: p1Cards,\n                player2Cards: p2Cards\n            }\n\n        case actionTypes.DISCARD_ALL_P1_CARDS:\n            whiteToMove = state.whiteToMove;\n\n            return {\n                ...state,\n                allSelected: false,\n                whiteToMove: !whiteToMove,\n                player1Cards: [],\n                lastUpdated: Date.now()\n            }\n\n        case actionTypes.DISCARD_ALL_P2_CARDS:\n            whiteToMove = state.whiteToMove;\n\n            return {\n                ...state,\n                allSelected: false,\n                whiteToMove: !whiteToMove,\n                player2Cards: [],\n                lastUpdated: Date.now()\n            }\n\n        case actionTypes.SET_CAPTURED_PIECES:\n            return {\n                ...state,\n                capturedPieces: action.capturedPieces,\n                lastUpdated: Date.now()\n            }\n\n        case actionTypes.GAME_OVER:\n            return { ...state, lastUpdated: Date.now(), winner: action.winner };\n\n        case actionTypes.NEW_GAME:\n            return { ...initialState, lastUpdated: Date.now() };\n\n        case actionTypes.SET_ANIMATE_CARDS:\n            return {\n                ...state, animateCards: action.animateCards\n            }\n\n        default:\n            return state;\n    }\n};\n\nfunction hasChanged(a, b) {\n    return JSON.stringify(a) !== JSON.stringify(b);\n}\n\nexport default reducer;\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/rootReducer';\r\n\r\nexport default (initialState) => {\r\n    return createStore(\r\n        rootReducer,\r\n        initialState,\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n        );\r\n}\r\n\r\n\r\n// Todo: thunk. const store = createStore(rootReducer, applyMiddleware(thunk));","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n  creator: '',\n  gameId: '',\n  numPlayers: 0,\n  playerOne: '',\n  playerTwo: ''\n}\n\nconst usersReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case actionTypes.UPDATE_USERS:\n      const incomingPlayerOne = action.state.playerOne;\n      const currentPlayerOne = state.playerOne;\n      const playerOne = incomingPlayerOne ? incomingPlayerOne : currentPlayerOne;\n      const incomingPlayerTwo = action.state.playerTwo;\n      const currentPlayerTwo = state.playerTwo;\n      const playerTwo = incomingPlayerTwo ? incomingPlayerTwo : currentPlayerTwo;\n\n      localStorage.setItem(`${state.gameId}-users`, JSON.stringify({ ...action.state, playerOne, playerTwo }));\n      return { ...state, ...action.state, playerOne, playerTwo };\n\n    case actionTypes.JOIN_GAME:\n      return {\n        ...state,\n        creator: action.isCreator ? action.username : state.creator,\n        gameId: action.gameId,\n        playerOne: action.isCreator ? action.username : state.playerOne,\n        playerTwo: action.isCreator ? state.playerTwo : action.username,\n      }\n\n    case actionTypes.SET_PLAYER_ONE:\n      return { ...state, playerOne: action.playerOne, numPlayers: state.playerTwo ? 2 : 1 }\n\n    case actionTypes.SET_PLAYER_TWO:\n      return {\n        ...state,\n        playerTwo: action.playerTwo,\n        numPlayers: 2\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default usersReducer;\n","import chanceChessReducer from './chanceChessReducer';\r\nimport usersReducer from './usersReducer';\r\nimport { combineReducers } from 'redux';\r\nconst rootReducer = combineReducers({\r\n    chanceChessReducer,\r\n    usersReducer\r\n});\r\nexport default rootReducer;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport Store from './redux/store';\nimport reportWebVitals from './reportWebVitals';\n\nconst StoreInstance = Store();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={StoreInstance}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const config = {\r\n  url: 'localhost:3000', // TODO: update to heroku url after deployment\r\n  apiUrl: 'https://chance-chess-api.herokuapp.com'\r\n  // apiUrl: 'localhost:8000'\r\n}"],"sourceRoot":""}